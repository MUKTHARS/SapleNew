var wR=Object.defineProperty;var TR=(e,t,n)=>t in e?wR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gl=(e,t,n)=>TR(e,typeof t!="symbol"?t+"":t,n);function ER(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function tf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eh={exports:{}},vl={},Ph={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function PR(){if(Zb)return ot;Zb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=h&&F[h]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function x(F,J,L){this.props=F,this.context=J,this.refs=b,this.updater=L||v}x.prototype.isReactComponent={},x.prototype.setState=function(F,J){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,J,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=x.prototype;function O(F,J,L){this.props=F,this.context=J,this.refs=b,this.updater=L||v}var R=O.prototype=new C;R.constructor=O,S(R,x.prototype),R.isPureReactComponent=!0;var P=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function B(F,J,L){var ve,ke={},me=null,we=null;if(J!=null)for(ve in J.ref!==void 0&&(we=J.ref),J.key!==void 0&&(me=""+J.key),J)E.call(J,ve)&&!D.hasOwnProperty(ve)&&(ke[ve]=J[ve]);var Ee=arguments.length-2;if(Ee===1)ke.children=L;else if(1<Ee){for(var Re=Array(Ee),Te=0;Te<Ee;Te++)Re[Te]=arguments[Te+2];ke.children=Re}if(F&&F.defaultProps)for(ve in Ee=F.defaultProps,Ee)ke[ve]===void 0&&(ke[ve]=Ee[ve]);return{$$typeof:e,type:F,key:me,ref:we,props:ke,_owner:I.current}}function U(F,J){return{$$typeof:e,type:F.type,key:J,ref:F.ref,props:F.props,_owner:F._owner}}function T(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function N(F){var J={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(L){return J[L]})}var $=/\/+/g;function W(F,J){return typeof F=="object"&&F!==null&&F.key!=null?N(""+F.key):J.toString(36)}function K(F,J,L,ve,ke){var me=typeof F;(me==="undefined"||me==="boolean")&&(F=null);var we=!1;if(F===null)we=!0;else switch(me){case"string":case"number":we=!0;break;case"object":switch(F.$$typeof){case e:case t:we=!0}}if(we)return we=F,ke=ke(we),F=ve===""?"."+W(we,0):ve,P(ke)?(L="",F!=null&&(L=F.replace($,"$&/")+"/"),K(ke,J,L,"",function(Te){return Te})):ke!=null&&(T(ke)&&(ke=U(ke,L+(!ke.key||we&&we.key===ke.key?"":(""+ke.key).replace($,"$&/")+"/")+F)),J.push(ke)),1;if(we=0,ve=ve===""?".":ve+":",P(F))for(var Ee=0;Ee<F.length;Ee++){me=F[Ee];var Re=ve+W(me,Ee);we+=K(me,J,L,Re,ke)}else if(Re=g(F),typeof Re=="function")for(F=Re.call(F),Ee=0;!(me=F.next()).done;)me=me.value,Re=ve+W(me,Ee++),we+=K(me,J,L,Re,ke);else if(me==="object")throw J=String(F),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return we}function q(F,J,L){if(F==null)return F;var ve=[],ke=0;return K(F,ve,"","",function(me){return J.call(L,me,ke++)}),ve}function ne(F){if(F._status===-1){var J=F._result;J=J(),J.then(function(L){(F._status===0||F._status===-1)&&(F._status=1,F._result=L)},function(L){(F._status===0||F._status===-1)&&(F._status=2,F._result=L)}),F._status===-1&&(F._status=0,F._result=J)}if(F._status===1)return F._result.default;throw F._result}var le={current:null},ee={transition:null},Y={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:ee,ReactCurrentOwner:I};function A(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:q,forEach:function(F,J,L){q(F,function(){J.apply(this,arguments)},L)},count:function(F){var J=0;return q(F,function(){J++}),J},toArray:function(F){return q(F,function(J){return J})||[]},only:function(F){if(!T(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ot.Component=x,ot.Fragment=n,ot.Profiler=i,ot.PureComponent=O,ot.StrictMode=r,ot.Suspense=u,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ot.act=A,ot.cloneElement=function(F,J,L){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ve=S({},F.props),ke=F.key,me=F.ref,we=F._owner;if(J!=null){if(J.ref!==void 0&&(me=J.ref,we=I.current),J.key!==void 0&&(ke=""+J.key),F.type&&F.type.defaultProps)var Ee=F.type.defaultProps;for(Re in J)E.call(J,Re)&&!D.hasOwnProperty(Re)&&(ve[Re]=J[Re]===void 0&&Ee!==void 0?Ee[Re]:J[Re])}var Re=arguments.length-2;if(Re===1)ve.children=L;else if(1<Re){Ee=Array(Re);for(var Te=0;Te<Re;Te++)Ee[Te]=arguments[Te+2];ve.children=Ee}return{$$typeof:e,type:F.type,key:ke,ref:me,props:ve,_owner:we}},ot.createContext=function(F){return F={$$typeof:a,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:o,_context:F},F.Consumer=F},ot.createElement=B,ot.createFactory=function(F){var J=B.bind(null,F);return J.type=F,J},ot.createRef=function(){return{current:null}},ot.forwardRef=function(F){return{$$typeof:c,render:F}},ot.isValidElement=T,ot.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ne}},ot.memo=function(F,J){return{$$typeof:d,type:F,compare:J===void 0?null:J}},ot.startTransition=function(F){var J=ee.transition;ee.transition={};try{F()}finally{ee.transition=J}},ot.unstable_act=A,ot.useCallback=function(F,J){return le.current.useCallback(F,J)},ot.useContext=function(F){return le.current.useContext(F)},ot.useDebugValue=function(){},ot.useDeferredValue=function(F){return le.current.useDeferredValue(F)},ot.useEffect=function(F,J){return le.current.useEffect(F,J)},ot.useId=function(){return le.current.useId()},ot.useImperativeHandle=function(F,J,L){return le.current.useImperativeHandle(F,J,L)},ot.useInsertionEffect=function(F,J){return le.current.useInsertionEffect(F,J)},ot.useLayoutEffect=function(F,J){return le.current.useLayoutEffect(F,J)},ot.useMemo=function(F,J){return le.current.useMemo(F,J)},ot.useReducer=function(F,J,L){return le.current.useReducer(F,J,L)},ot.useRef=function(F){return le.current.useRef(F)},ot.useState=function(F){return le.current.useState(F)},ot.useSyncExternalStore=function(F,J,L){return le.current.useSyncExternalStore(F,J,L)},ot.useTransition=function(){return le.current.useTransition()},ot.version="18.3.1",ot}var e1;function Zg(){return e1||(e1=1,Ph.exports=PR()),Ph.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function RR(){if(t1)return vl;t1=1;var e=Zg(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,d){var p,h={},g=null,v=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)r.call(u,p)&&!o.hasOwnProperty(p)&&(h[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)h[p]===void 0&&(h[p]=u[p]);return{$$typeof:t,type:c,key:g,ref:v,props:h,_owner:i.current}}return vl.Fragment=n,vl.jsx=a,vl.jsxs=a,vl}var n1;function IR(){return n1||(n1=1,Eh.exports=RR()),Eh.exports}var M=IR(),w=Zg();const ei=tf(w),Id=ER({__proto__:null,default:ei},[w]);var Bu={},Rh={exports:{}},tr={},Ih={exports:{}},_h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function _R(){return r1||(r1=1,function(e){function t(ee,Y){var A=ee.length;ee.push(Y);e:for(;0<A;){var F=A-1>>>1,J=ee[F];if(0<i(J,Y))ee[F]=Y,ee[A]=J,A=F;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var Y=ee[0],A=ee.pop();if(A!==Y){ee[0]=A;e:for(var F=0,J=ee.length,L=J>>>1;F<L;){var ve=2*(F+1)-1,ke=ee[ve],me=ve+1,we=ee[me];if(0>i(ke,A))me<J&&0>i(we,ke)?(ee[F]=we,ee[me]=A,F=me):(ee[F]=ke,ee[ve]=A,F=ve);else if(me<J&&0>i(we,A))ee[F]=we,ee[me]=A,F=me;else break e}}return Y}function i(ee,Y){var A=ee.sortIndex-Y.sortIndex;return A!==0?A:ee.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var u=[],d=[],p=1,h=null,g=3,v=!1,S=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ee){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=ee)r(d),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=n(d)}}function P(ee){if(b=!1,R(ee),!S)if(n(u)!==null)S=!0,ne(E);else{var Y=n(d);Y!==null&&le(P,Y.startTime-ee)}}function E(ee,Y){S=!1,b&&(b=!1,C(B),B=-1),v=!0;var A=g;try{for(R(Y),h=n(u);h!==null&&(!(h.expirationTime>Y)||ee&&!N());){var F=h.callback;if(typeof F=="function"){h.callback=null,g=h.priorityLevel;var J=F(h.expirationTime<=Y);Y=e.unstable_now(),typeof J=="function"?h.callback=J:h===n(u)&&r(u),R(Y)}else r(u);h=n(u)}if(h!==null)var L=!0;else{var ve=n(d);ve!==null&&le(P,ve.startTime-Y),L=!1}return L}finally{h=null,g=A,v=!1}}var I=!1,D=null,B=-1,U=5,T=-1;function N(){return!(e.unstable_now()-T<U)}function $(){if(D!==null){var ee=e.unstable_now();T=ee;var Y=!0;try{Y=D(!0,ee)}finally{Y?W():(I=!1,D=null)}}else I=!1}var W;if(typeof O=="function")W=function(){O($)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,q=K.port2;K.port1.onmessage=$,W=function(){q.postMessage(null)}}else W=function(){x($,0)};function ne(ee){D=ee,I||(I=!0,W())}function le(ee,Y){B=x(function(){ee(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){S||v||(S=!0,ne(E))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var A=g;g=Y;try{return ee()}finally{g=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,Y){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var A=g;g=ee;try{return Y()}finally{g=A}},e.unstable_scheduleCallback=function(ee,Y,A){var F=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?F+A:F):A=F,ee){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=A+J,ee={id:p++,callback:Y,priorityLevel:ee,startTime:A,expirationTime:J,sortIndex:-1},A>F?(ee.sortIndex=A,t(d,ee),n(u)===null&&ee===n(d)&&(b?(C(B),B=-1):b=!0,le(P,A-F))):(ee.sortIndex=J,t(u,ee),S||v||(S=!0,ne(E))),ee},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(ee){var Y=g;return function(){var A=g;g=Y;try{return ee.apply(this,arguments)}finally{g=A}}}}(_h)),_h}var i1;function OR(){return i1||(i1=1,Ih.exports=_R()),Ih.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function MR(){if(o1)return tr;o1=1;var e=Zg(),t=OR();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(s){return u.call(h,s)?!0:u.call(p,s)?!1:d.test(s)?h[s]=!0:(p[s]=!0,!1)}function v(s,l,f,m){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,l,f,m){if(l===null||typeof l>"u"||v(s,l,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(s,l,f,m,y,k,_){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=f,this.propertyName=s,this.type=l,this.sanitizeURL=k,this.removeEmptyString=_}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];x[l]=new b(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(C,O);x[l]=new b(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(C,O);x[l]=new b(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(C,O);x[l]=new b(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,l,f,m){var y=x.hasOwnProperty(l)?x[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,f,y,m)&&(f=null),m||y===null?g(l)&&(f===null?s.removeAttribute(l):s.setAttribute(l,""+f)):y.mustUseProperty?s[y.propertyName]=f===null?y.type===3?!1:"":f:(l=y.attributeName,m=y.attributeNamespace,f===null?s.removeAttribute(l):(y=y.type,f=y===3||y===4&&f===!0?"":""+f,m?s.setAttributeNS(m,l,f):s.setAttribute(l,f))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),N=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),ee=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var A=Object.assign,F;function J(s){if(F===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);F=l&&l[1]||""}return`
`+F+s}var L=!1;function ve(s,l){if(!s||L)return"";L=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(X){var m=X}Reflect.construct(s,[],l)}else{try{l.call()}catch(X){m=X}s.call(l.prototype)}else{try{throw Error()}catch(X){m=X}s()}}catch(X){if(X&&m&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),k=m.stack.split(`
`),_=y.length-1,j=k.length-1;1<=_&&0<=j&&y[_]!==k[j];)j--;for(;1<=_&&0<=j;_--,j--)if(y[_]!==k[j]){if(_!==1||j!==1)do if(_--,j--,0>j||y[_]!==k[j]){var V=`
`+y[_].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=_&&0<=j);break}}}finally{L=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?J(s):""}function ke(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case I:return"Portal";case U:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case N:return(s.displayName||"Context")+".Consumer";case T:return(s._context.displayName||"Context")+".Provider";case $:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case q:return l=s.displayName||null,l!==null?l:me(s.type)||"Memo";case ne:l=s._payload,s=s._init;try{return me(s(l))}catch{}}return null}function we(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(l);case 8:return l===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ee(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Re(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Te(s){var l=Re(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),m=""+s[l];if(!s.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,k=f.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return y.call(this)},set:function(_){m=""+_,k.call(this,_)}}),Object.defineProperty(s,l,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(_){m=""+_},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ue(s){s._valueTracker||(s._valueTracker=Te(s))}function He(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return s&&(m=Re(s)?s.checked?"true":"false":s.value),s=m,s!==f?(l.setValue(s),!0):!1}function it(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function We(s,l){var f=l.checked;return A({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function at(s,l){var f=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;f=Ee(l.value!=null?l.value:f),s._wrapperState={initialChecked:m,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ft(s,l){l=l.checked,l!=null&&R(s,"checked",l,!1)}function Qe(s,l){Ft(s,l);var f=Ee(l.value),m=l.type;if(f!=null)m==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?ht(s,l.type,f):l.hasOwnProperty("defaultValue")&&ht(s,l.type,Ee(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Ye(s,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,f||l===s.value||(s.value=l),s.defaultValue=l}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function ht(s,l,f){(l!=="number"||it(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var ut=Array.isArray;function tt(s,l,f,m){if(s=s.options,l){l={};for(var y=0;y<f.length;y++)l["$"+f[y]]=!0;for(f=0;f<s.length;f++)y=l.hasOwnProperty("$"+s[f].value),s[f].selected!==y&&(s[f].selected=y),y&&m&&(s[f].defaultSelected=!0)}else{for(f=""+Ee(f),l=null,y=0;y<s.length;y++){if(s[y].value===f){s[y].selected=!0,m&&(s[y].defaultSelected=!0);return}l!==null||s[y].disabled||(l=s[y])}l!==null&&(l.selected=!0)}}function Oe(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return A({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Yt(s,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(n(92));if(ut(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),f=l}s._wrapperState={initialValue:Ee(f)}}function ct(s,l){var f=Ee(l.value),m=Ee(l.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),l.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),m!=null&&(s.defaultValue=""+m)}function Cn(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function re(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?re(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ce,Me=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,m,y){MSApp.execUnsafeLocalFunction(function(){return s(l,f,m,y)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ce.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Fe(s,l){if(l){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=l;return}}s.textContent=l}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mt=["Webkit","ms","Moz","O"];Object.keys(je).forEach(function(s){mt.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),je[l]=je[s]})});function gt(s,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||je.hasOwnProperty(s)&&je[s]?(""+l).trim():l+"px"}function In(s,l){s=s.style;for(var f in l)if(l.hasOwnProperty(f)){var m=f.indexOf("--")===0,y=gt(f,l[f],m);f==="float"&&(f="cssFloat"),m?s.setProperty(f,y):s[f]=y}}var Ae=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(s,l){if(l){if(Ae[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function yt(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ht=null;function fr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Li=null,si=null,Pr=null;function Cs(s){if(s=tl(s)){if(typeof Li!="function")throw Error(n(280));var l=s.stateNode;l&&(l=tu(l),Li(s.stateNode,s.type,l))}}function xs(s){si?Pr?Pr.push(s):Pr=[s]:si=s}function ws(){if(si){var s=si,l=Pr;if(Pr=si=null,Cs(s),l)for(s=0;s<l.length;s++)Cs(l[s])}}function $o(s,l){return s(l)}function et(){}var nt=!1;function ye(s,l,f){if(nt)return s(l,f);nt=!0;try{return $o(s,l,f)}finally{nt=!1,(si!==null||Pr!==null)&&(et(),ws())}}function de(s,l){var f=s.stateNode;if(f===null)return null;var m=tu(f);if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var Ve=!1;if(c)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ve=!1}function _t(s,l,f,m,y,k,_,j,V){var X=Array.prototype.slice.call(arguments,3);try{l.apply(f,X)}catch(fe){this.onError(fe)}}var bt=!1,vn=null,Ln=!1,St=null,qn={onError:function(s){bt=!0,vn=s}};function Hf(s,l,f,m,y,k,_,j,V){bt=!1,vn=null,_t.apply(qn,arguments)}function Wf(s,l,f,m,y,k,_,j,V){if(Hf.apply(this,arguments),bt){if(bt){var X=vn;bt=!1,vn=null}else throw Error(n(198));Ln||(Ln=!0,St=X)}}function Di(s){var l=s,f=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(f=l.return),s=l.return;while(s)}return l.tag===3?f:null}function Ts(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Mc(s){if(Di(s)!==s)throw Error(n(188))}function Ac(s){var l=s.alternate;if(!l){if(l=Di(s),l===null)throw Error(n(188));return l!==s?null:s}for(var f=s,m=l;;){var y=f.return;if(y===null)break;var k=y.alternate;if(k===null){if(m=y.return,m!==null){f=m;continue}break}if(y.child===k.child){for(k=y.child;k;){if(k===f)return Mc(y),s;if(k===m)return Mc(y),l;k=k.sibling}throw Error(n(188))}if(f.return!==m.return)f=y,m=k;else{for(var _=!1,j=y.child;j;){if(j===f){_=!0,f=y,m=k;break}if(j===m){_=!0,m=y,f=k;break}j=j.sibling}if(!_){for(j=k.child;j;){if(j===f){_=!0,f=k,m=y;break}if(j===m){_=!0,m=k,f=y;break}j=j.sibling}if(!_)throw Error(n(189))}}if(f.alternate!==m)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?s:l}function Da(s){return s=Ac(s),s!==null?Nc(s):null}function Nc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Nc(s);if(l!==null)return l;s=s.sibling}return null}var Ey=t.unstable_scheduleCallback,Py=t.unstable_cancelCallback,L2=t.unstable_shouldYield,D2=t.unstable_requestPaint,cn=t.unstable_now,F2=t.unstable_getCurrentPriorityLevel,qf=t.unstable_ImmediatePriority,Ry=t.unstable_UserBlockingPriority,Lc=t.unstable_NormalPriority,j2=t.unstable_LowPriority,Iy=t.unstable_IdlePriority,Dc=null,ai=null;function U2(s){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(Dc,s,void 0,(s.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:$2,B2=Math.log,z2=Math.LN2;function $2(s){return s>>>=0,s===0?32:31-(B2(s)/z2|0)|0}var Fc=64,jc=4194304;function Fa(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Uc(s,l){var f=s.pendingLanes;if(f===0)return 0;var m=0,y=s.suspendedLanes,k=s.pingedLanes,_=f&268435455;if(_!==0){var j=_&~y;j!==0?m=Fa(j):(k&=_,k!==0&&(m=Fa(k)))}else _=f&~y,_!==0?m=Fa(_):k!==0&&(m=Fa(k));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,k=l&-l,y>=k||y===16&&(k&4194240)!==0))return l;if((m&4)!==0&&(m|=f&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=m;0<l;)f=31-$r(l),y=1<<f,m|=s[f],l&=~y;return m}function V2(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H2(s,l){for(var f=s.suspendedLanes,m=s.pingedLanes,y=s.expirationTimes,k=s.pendingLanes;0<k;){var _=31-$r(k),j=1<<_,V=y[_];V===-1?((j&f)===0||(j&m)!==0)&&(y[_]=V2(j,l)):V<=l&&(s.expiredLanes|=j),k&=~j}}function Kf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function _y(){var s=Fc;return Fc<<=1,(Fc&4194240)===0&&(Fc=64),s}function Gf(s){for(var l=[],f=0;31>f;f++)l.push(s);return l}function ja(s,l,f){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-$r(l),s[l]=f}function W2(s,l){var f=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<f;){var y=31-$r(f),k=1<<y;l[y]=0,m[y]=-1,s[y]=-1,f&=~k}}function Yf(s,l){var f=s.entangledLanes|=l;for(s=s.entanglements;f;){var m=31-$r(f),y=1<<m;y&l|s[m]&l&&(s[m]|=l),f&=~y}}var Mt=0;function Oy(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var My,Qf,Ay,Ny,Ly,Jf=!1,Bc=[],io=null,oo=null,so=null,Ua=new Map,Ba=new Map,ao=[],q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dy(s,l){switch(s){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Ua.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(l.pointerId)}}function za(s,l,f,m,y,k){return s===null||s.nativeEvent!==k?(s={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:k,targetContainers:[y]},l!==null&&(l=tl(l),l!==null&&Qf(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),s)}function K2(s,l,f,m,y){switch(l){case"focusin":return io=za(io,s,l,f,m,y),!0;case"dragenter":return oo=za(oo,s,l,f,m,y),!0;case"mouseover":return so=za(so,s,l,f,m,y),!0;case"pointerover":var k=y.pointerId;return Ua.set(k,za(Ua.get(k)||null,s,l,f,m,y)),!0;case"gotpointercapture":return k=y.pointerId,Ba.set(k,za(Ba.get(k)||null,s,l,f,m,y)),!0}return!1}function Fy(s){var l=Vo(s.target);if(l!==null){var f=Di(l);if(f!==null){if(l=f.tag,l===13){if(l=Ts(f),l!==null){s.blockedOn=l,Ly(s.priority,function(){Ay(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zc(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var f=Zf(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);Ht=m,f.target.dispatchEvent(m),Ht=null}else return l=tl(f),l!==null&&Qf(l),s.blockedOn=f,!1;l.shift()}return!0}function jy(s,l,f){zc(s)&&f.delete(l)}function G2(){Jf=!1,io!==null&&zc(io)&&(io=null),oo!==null&&zc(oo)&&(oo=null),so!==null&&zc(so)&&(so=null),Ua.forEach(jy),Ba.forEach(jy)}function $a(s,l){s.blockedOn===l&&(s.blockedOn=null,Jf||(Jf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,G2)))}function Va(s){function l(y){return $a(y,s)}if(0<Bc.length){$a(Bc[0],s);for(var f=1;f<Bc.length;f++){var m=Bc[f];m.blockedOn===s&&(m.blockedOn=null)}}for(io!==null&&$a(io,s),oo!==null&&$a(oo,s),so!==null&&$a(so,s),Ua.forEach(l),Ba.forEach(l),f=0;f<ao.length;f++)m=ao[f],m.blockedOn===s&&(m.blockedOn=null);for(;0<ao.length&&(f=ao[0],f.blockedOn===null);)Fy(f),f.blockedOn===null&&ao.shift()}var Es=P.ReactCurrentBatchConfig,$c=!0;function Y2(s,l,f,m){var y=Mt,k=Es.transition;Es.transition=null;try{Mt=1,Xf(s,l,f,m)}finally{Mt=y,Es.transition=k}}function Q2(s,l,f,m){var y=Mt,k=Es.transition;Es.transition=null;try{Mt=4,Xf(s,l,f,m)}finally{Mt=y,Es.transition=k}}function Xf(s,l,f,m){if($c){var y=Zf(s,l,f,m);if(y===null)gp(s,l,m,Vc,f),Dy(s,m);else if(K2(y,s,l,f,m))m.stopPropagation();else if(Dy(s,m),l&4&&-1<q2.indexOf(s)){for(;y!==null;){var k=tl(y);if(k!==null&&My(k),k=Zf(s,l,f,m),k===null&&gp(s,l,m,Vc,f),k===y)break;y=k}y!==null&&m.stopPropagation()}else gp(s,l,m,null,f)}}var Vc=null;function Zf(s,l,f,m){if(Vc=null,s=fr(m),s=Vo(s),s!==null)if(l=Di(s),l===null)s=null;else if(f=l.tag,f===13){if(s=Ts(l),s!==null)return s;s=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Vc=s,null}function Uy(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F2()){case qf:return 1;case Ry:return 4;case Lc:case j2:return 16;case Iy:return 536870912;default:return 16}default:return 16}}var lo=null,ep=null,Hc=null;function By(){if(Hc)return Hc;var s,l=ep,f=l.length,m,y="value"in lo?lo.value:lo.textContent,k=y.length;for(s=0;s<f&&l[s]===y[s];s++);var _=f-s;for(m=1;m<=_&&l[f-m]===y[k-m];m++);return Hc=y.slice(s,1<m?1-m:void 0)}function Wc(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function qc(){return!0}function zy(){return!1}function pr(s){function l(f,m,y,k,_){this._reactName=f,this._targetInst=y,this.type=m,this.nativeEvent=k,this.target=_,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(f=s[j],this[j]=f?f(k):k[j]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?qc:zy,this.isPropagationStopped=zy,this}return A(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),l}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tp=pr(Ps),Ha=A({},Ps,{view:0,detail:0}),J2=pr(Ha),np,rp,Wa,Kc=A({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:op,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Wa&&(Wa&&s.type==="mousemove"?(np=s.screenX-Wa.screenX,rp=s.screenY-Wa.screenY):rp=np=0,Wa=s),np)},movementY:function(s){return"movementY"in s?s.movementY:rp}}),$y=pr(Kc),X2=A({},Kc,{dataTransfer:0}),Z2=pr(X2),eP=A({},Ha,{relatedTarget:0}),ip=pr(eP),tP=A({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),nP=pr(tP),rP=A({},Ps,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),iP=pr(rP),oP=A({},Ps,{data:0}),Vy=pr(oP),sP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cP(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=lP[s])?!!l[s]:!1}function op(){return cP}var uP=A({},Ha,{key:function(s){if(s.key){var l=sP[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Wc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?aP[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:op,charCode:function(s){return s.type==="keypress"?Wc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dP=pr(uP),fP=A({},Kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hy=pr(fP),pP=A({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:op}),hP=pr(pP),mP=A({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),gP=pr(mP),vP=A({},Kc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yP=pr(vP),bP=[9,13,27,32],sp=c&&"CompositionEvent"in window,qa=null;c&&"documentMode"in document&&(qa=document.documentMode);var SP=c&&"TextEvent"in window&&!qa,Wy=c&&(!sp||qa&&8<qa&&11>=qa),qy=" ",Ky=!1;function Gy(s,l){switch(s){case"keyup":return bP.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Rs=!1;function kP(s,l){switch(s){case"compositionend":return Yy(l);case"keypress":return l.which!==32?null:(Ky=!0,qy);case"textInput":return s=l.data,s===qy&&Ky?null:s;default:return null}}function CP(s,l){if(Rs)return s==="compositionend"||!sp&&Gy(s,l)?(s=By(),Hc=ep=lo=null,Rs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Wy&&l.locale!=="ko"?null:l.data;default:return null}}var xP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!xP[s.type]:l==="textarea"}function Jy(s,l,f,m){xs(m),l=Xc(l,"onChange"),0<l.length&&(f=new tp("onChange","change",null,f,m),s.push({event:f,listeners:l}))}var Ka=null,Ga=null;function wP(s){m0(s,0)}function Gc(s){var l=As(s);if(He(l))return s}function TP(s,l){if(s==="change")return l}var Xy=!1;if(c){var ap;if(c){var lp="oninput"in document;if(!lp){var Zy=document.createElement("div");Zy.setAttribute("oninput","return;"),lp=typeof Zy.oninput=="function"}ap=lp}else ap=!1;Xy=ap&&(!document.documentMode||9<document.documentMode)}function e0(){Ka&&(Ka.detachEvent("onpropertychange",t0),Ga=Ka=null)}function t0(s){if(s.propertyName==="value"&&Gc(Ga)){var l=[];Jy(l,Ga,s,fr(s)),ye(wP,l)}}function EP(s,l,f){s==="focusin"?(e0(),Ka=l,Ga=f,Ka.attachEvent("onpropertychange",t0)):s==="focusout"&&e0()}function PP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Gc(Ga)}function RP(s,l){if(s==="click")return Gc(l)}function IP(s,l){if(s==="input"||s==="change")return Gc(l)}function _P(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Vr=typeof Object.is=="function"?Object.is:_P;function Ya(s,l){if(Vr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var f=Object.keys(s),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var y=f[m];if(!u.call(l,y)||!Vr(s[y],l[y]))return!1}return!0}function n0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function r0(s,l){var f=n0(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=l&&m>=l)return{node:f,offset:l-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=n0(f)}}function i0(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?i0(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function o0(){for(var s=window,l=it();l instanceof s.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)s=l.contentWindow;else break;l=it(s.document)}return l}function cp(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function OP(s){var l=o0(),f=s.focusedElem,m=s.selectionRange;if(l!==f&&f&&f.ownerDocument&&i0(f.ownerDocument.documentElement,f)){if(m!==null&&cp(f)){if(l=m.start,s=m.end,s===void 0&&(s=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(s,f.value.length);else if(s=(l=f.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var y=f.textContent.length,k=Math.min(m.start,y);m=m.end===void 0?k:Math.min(m.end,y),!s.extend&&k>m&&(y=m,m=k,k=y),y=r0(f,k);var _=r0(f,m);y&&_&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),s.removeAllRanges(),k>m?(s.addRange(l),s.extend(_.node,_.offset)):(l.setEnd(_.node,_.offset),s.addRange(l)))}}for(l=[],s=f;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)s=l[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var MP=c&&"documentMode"in document&&11>=document.documentMode,Is=null,up=null,Qa=null,dp=!1;function s0(s,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;dp||Is==null||Is!==it(m)||(m=Is,"selectionStart"in m&&cp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Qa&&Ya(Qa,m)||(Qa=m,m=Xc(up,"onSelect"),0<m.length&&(l=new tp("onSelect","select",null,l,f),s.push({event:l,listeners:m}),l.target=Is)))}function Yc(s,l){var f={};return f[s.toLowerCase()]=l.toLowerCase(),f["Webkit"+s]="webkit"+l,f["Moz"+s]="moz"+l,f}var _s={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},fp={},a0={};c&&(a0=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Qc(s){if(fp[s])return fp[s];if(!_s[s])return s;var l=_s[s],f;for(f in l)if(l.hasOwnProperty(f)&&f in a0)return fp[s]=l[f];return s}var l0=Qc("animationend"),c0=Qc("animationiteration"),u0=Qc("animationstart"),d0=Qc("transitionend"),f0=new Map,p0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(s,l){f0.set(s,l),o(l,[s])}for(var pp=0;pp<p0.length;pp++){var hp=p0[pp],AP=hp.toLowerCase(),NP=hp[0].toUpperCase()+hp.slice(1);co(AP,"on"+NP)}co(l0,"onAnimationEnd"),co(c0,"onAnimationIteration"),co(u0,"onAnimationStart"),co("dblclick","onDoubleClick"),co("focusin","onFocus"),co("focusout","onBlur"),co(d0,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function h0(s,l,f){var m=s.type||"unknown-event";s.currentTarget=f,Wf(m,l,void 0,s),s.currentTarget=null}function m0(s,l){l=(l&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],y=m.event;m=m.listeners;e:{var k=void 0;if(l)for(var _=m.length-1;0<=_;_--){var j=m[_],V=j.instance,X=j.currentTarget;if(j=j.listener,V!==k&&y.isPropagationStopped())break e;h0(y,j,X),k=V}else for(_=0;_<m.length;_++){if(j=m[_],V=j.instance,X=j.currentTarget,j=j.listener,V!==k&&y.isPropagationStopped())break e;h0(y,j,X),k=V}}}if(Ln)throw s=St,Ln=!1,St=null,s}function Wt(s,l){var f=l[Cp];f===void 0&&(f=l[Cp]=new Set);var m=s+"__bubble";f.has(m)||(g0(l,s,2,!1),f.add(m))}function mp(s,l,f){var m=0;l&&(m|=4),g0(f,s,m,l)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Xa(s){if(!s[Jc]){s[Jc]=!0,r.forEach(function(f){f!=="selectionchange"&&(LP.has(f)||mp(f,!1,s),mp(f,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Jc]||(l[Jc]=!0,mp("selectionchange",!1,l))}}function g0(s,l,f,m){switch(Uy(l)){case 1:var y=Y2;break;case 4:y=Q2;break;default:y=Xf}f=y.bind(null,l,f,s),y=void 0,!Ve||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?s.addEventListener(l,f,{capture:!0,passive:y}):s.addEventListener(l,f,!0):y!==void 0?s.addEventListener(l,f,{passive:y}):s.addEventListener(l,f,!1)}function gp(s,l,f,m,y){var k=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var _=m.tag;if(_===3||_===4){var j=m.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(_===4)for(_=m.return;_!==null;){var V=_.tag;if((V===3||V===4)&&(V=_.stateNode.containerInfo,V===y||V.nodeType===8&&V.parentNode===y))return;_=_.return}for(;j!==null;){if(_=Vo(j),_===null)return;if(V=_.tag,V===5||V===6){m=k=_;continue e}j=j.parentNode}}m=m.return}ye(function(){var X=k,fe=fr(f),he=[];e:{var ue=f0.get(s);if(ue!==void 0){var Pe=tp,Ne=s;switch(s){case"keypress":if(Wc(f)===0)break e;case"keydown":case"keyup":Pe=dP;break;case"focusin":Ne="focus",Pe=ip;break;case"focusout":Ne="blur",Pe=ip;break;case"beforeblur":case"afterblur":Pe=ip;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=$y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Z2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=hP;break;case l0:case c0:case u0:Pe=nP;break;case d0:Pe=gP;break;case"scroll":Pe=J2;break;case"wheel":Pe=yP;break;case"copy":case"cut":case"paste":Pe=iP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Hy}var Le=(l&4)!==0,un=!Le&&s==="scroll",G=Le?ue!==null?ue+"Capture":null:ue;Le=[];for(var H=X,Q;H!==null;){Q=H;var be=Q.stateNode;if(Q.tag===5&&be!==null&&(Q=be,G!==null&&(be=de(H,G),be!=null&&Le.push(Za(H,be,Q)))),un)break;H=H.return}0<Le.length&&(ue=new Pe(ue,Ne,null,f,fe),he.push({event:ue,listeners:Le}))}}if((l&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",ue&&f!==Ht&&(Ne=f.relatedTarget||f.fromElement)&&(Vo(Ne)||Ne[Fi]))break e;if((Pe||ue)&&(ue=fe.window===fe?fe:(ue=fe.ownerDocument)?ue.defaultView||ue.parentWindow:window,Pe?(Ne=f.relatedTarget||f.toElement,Pe=X,Ne=Ne?Vo(Ne):null,Ne!==null&&(un=Di(Ne),Ne!==un||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Pe=null,Ne=X),Pe!==Ne)){if(Le=$y,be="onMouseLeave",G="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Le=Hy,be="onPointerLeave",G="onPointerEnter",H="pointer"),un=Pe==null?ue:As(Pe),Q=Ne==null?ue:As(Ne),ue=new Le(be,H+"leave",Pe,f,fe),ue.target=un,ue.relatedTarget=Q,be=null,Vo(fe)===X&&(Le=new Le(G,H+"enter",Ne,f,fe),Le.target=Q,Le.relatedTarget=un,be=Le),un=be,Pe&&Ne)t:{for(Le=Pe,G=Ne,H=0,Q=Le;Q;Q=Os(Q))H++;for(Q=0,be=G;be;be=Os(be))Q++;for(;0<H-Q;)Le=Os(Le),H--;for(;0<Q-H;)G=Os(G),Q--;for(;H--;){if(Le===G||G!==null&&Le===G.alternate)break t;Le=Os(Le),G=Os(G)}Le=null}else Le=null;Pe!==null&&v0(he,ue,Pe,Le,!1),Ne!==null&&un!==null&&v0(he,un,Ne,Le,!0)}}e:{if(ue=X?As(X):window,Pe=ue.nodeName&&ue.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ue.type==="file")var De=TP;else if(Qy(ue))if(Xy)De=IP;else{De=PP;var Be=EP}else(Pe=ue.nodeName)&&Pe.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(De=RP);if(De&&(De=De(s,X))){Jy(he,De,f,fe);break e}Be&&Be(s,ue,X),s==="focusout"&&(Be=ue._wrapperState)&&Be.controlled&&ue.type==="number"&&ht(ue,"number",ue.value)}switch(Be=X?As(X):window,s){case"focusin":(Qy(Be)||Be.contentEditable==="true")&&(Is=Be,up=X,Qa=null);break;case"focusout":Qa=up=Is=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,s0(he,f,fe);break;case"selectionchange":if(MP)break;case"keydown":case"keyup":s0(he,f,fe)}var ze;if(sp)e:{switch(s){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Rs?Gy(s,f)&&(Ke="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Ke="onCompositionStart");Ke&&(Wy&&f.locale!=="ko"&&(Rs||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Rs&&(ze=By()):(lo=fe,ep="value"in lo?lo.value:lo.textContent,Rs=!0)),Be=Xc(X,Ke),0<Be.length&&(Ke=new Vy(Ke,s,null,f,fe),he.push({event:Ke,listeners:Be}),ze?Ke.data=ze:(ze=Yy(f),ze!==null&&(Ke.data=ze)))),(ze=SP?kP(s,f):CP(s,f))&&(X=Xc(X,"onBeforeInput"),0<X.length&&(fe=new Vy("onBeforeInput","beforeinput",null,f,fe),he.push({event:fe,listeners:X}),fe.data=ze))}m0(he,l)})}function Za(s,l,f){return{instance:s,listener:l,currentTarget:f}}function Xc(s,l){for(var f=l+"Capture",m=[];s!==null;){var y=s,k=y.stateNode;y.tag===5&&k!==null&&(y=k,k=de(s,f),k!=null&&m.unshift(Za(s,k,y)),k=de(s,l),k!=null&&m.push(Za(s,k,y))),s=s.return}return m}function Os(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function v0(s,l,f,m,y){for(var k=l._reactName,_=[];f!==null&&f!==m;){var j=f,V=j.alternate,X=j.stateNode;if(V!==null&&V===m)break;j.tag===5&&X!==null&&(j=X,y?(V=de(f,k),V!=null&&_.unshift(Za(f,V,j))):y||(V=de(f,k),V!=null&&_.push(Za(f,V,j)))),f=f.return}_.length!==0&&s.push({event:l,listeners:_})}var DP=/\r\n?/g,FP=/\u0000|\uFFFD/g;function y0(s){return(typeof s=="string"?s:""+s).replace(DP,`
`).replace(FP,"")}function Zc(s,l,f){if(l=y0(l),y0(s)!==l&&f)throw Error(n(425))}function eu(){}var vp=null,yp=null;function bp(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,jP=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,UP=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(s){return b0.resolve(null).then(s).catch(BP)}:Sp;function BP(s){setTimeout(function(){throw s})}function kp(s,l){var f=l,m=0;do{var y=f.nextSibling;if(s.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"){if(m===0){s.removeChild(y),Va(l);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=y}while(f);Va(l)}function uo(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function S0(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return s;l--}else f==="/$"&&l++}s=s.previousSibling}return null}var Ms=Math.random().toString(36).slice(2),li="__reactFiber$"+Ms,el="__reactProps$"+Ms,Fi="__reactContainer$"+Ms,Cp="__reactEvents$"+Ms,zP="__reactListeners$"+Ms,$P="__reactHandles$"+Ms;function Vo(s){var l=s[li];if(l)return l;for(var f=s.parentNode;f;){if(l=f[Fi]||f[li]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(s=S0(s);s!==null;){if(f=s[li])return f;s=S0(s)}return l}s=f,f=s.parentNode}return null}function tl(s){return s=s[li]||s[Fi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function As(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function tu(s){return s[el]||null}var xp=[],Ns=-1;function fo(s){return{current:s}}function qt(s){0>Ns||(s.current=xp[Ns],xp[Ns]=null,Ns--)}function zt(s,l){Ns++,xp[Ns]=s.current,s.current=l}var po={},Dn=fo(po),Qn=fo(!1),Ho=po;function Ls(s,l){var f=s.type.contextTypes;if(!f)return po;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},k;for(k in f)y[k]=l[k];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=y),y}function Jn(s){return s=s.childContextTypes,s!=null}function nu(){qt(Qn),qt(Dn)}function k0(s,l,f){if(Dn.current!==po)throw Error(n(168));zt(Dn,l),zt(Qn,f)}function C0(s,l,f){var m=s.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,we(s)||"Unknown",y));return A({},f,m)}function ru(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||po,Ho=Dn.current,zt(Dn,s),zt(Qn,Qn.current),!0}function x0(s,l,f){var m=s.stateNode;if(!m)throw Error(n(169));f?(s=C0(s,l,Ho),m.__reactInternalMemoizedMergedChildContext=s,qt(Qn),qt(Dn),zt(Dn,s)):qt(Qn),zt(Qn,f)}var ji=null,iu=!1,wp=!1;function w0(s){ji===null?ji=[s]:ji.push(s)}function VP(s){iu=!0,w0(s)}function ho(){if(!wp&&ji!==null){wp=!0;var s=0,l=Mt;try{var f=ji;for(Mt=1;s<f.length;s++){var m=f[s];do m=m(!0);while(m!==null)}ji=null,iu=!1}catch(y){throw ji!==null&&(ji=ji.slice(s+1)),Ey(qf,ho),y}finally{Mt=l,wp=!1}}return null}var Ds=[],Fs=0,ou=null,su=0,Rr=[],Ir=0,Wo=null,Ui=1,Bi="";function qo(s,l){Ds[Fs++]=su,Ds[Fs++]=ou,ou=s,su=l}function T0(s,l,f){Rr[Ir++]=Ui,Rr[Ir++]=Bi,Rr[Ir++]=Wo,Wo=s;var m=Ui;s=Bi;var y=32-$r(m)-1;m&=~(1<<y),f+=1;var k=32-$r(l)+y;if(30<k){var _=y-y%5;k=(m&(1<<_)-1).toString(32),m>>=_,y-=_,Ui=1<<32-$r(l)+y|f<<y|m,Bi=k+s}else Ui=1<<k|f<<y|m,Bi=s}function Tp(s){s.return!==null&&(qo(s,1),T0(s,1,0))}function Ep(s){for(;s===ou;)ou=Ds[--Fs],Ds[Fs]=null,su=Ds[--Fs],Ds[Fs]=null;for(;s===Wo;)Wo=Rr[--Ir],Rr[Ir]=null,Bi=Rr[--Ir],Rr[Ir]=null,Ui=Rr[--Ir],Rr[Ir]=null}var hr=null,mr=null,Qt=!1,Hr=null;function E0(s,l){var f=Ar(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=s,l=s.deletions,l===null?(s.deletions=[f],s.flags|=16):l.push(f)}function P0(s,l){switch(s.tag){case 5:var f=s.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,hr=s,mr=uo(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,hr=s,mr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Wo!==null?{id:Ui,overflow:Bi}:null,s.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Ar(18,null,null,0),f.stateNode=l,f.return=s,s.child=f,hr=s,mr=null,!0):!1;default:return!1}}function Pp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Rp(s){if(Qt){var l=mr;if(l){var f=l;if(!P0(s,l)){if(Pp(s))throw Error(n(418));l=uo(f.nextSibling);var m=hr;l&&P0(s,l)?E0(m,f):(s.flags=s.flags&-4097|2,Qt=!1,hr=s)}}else{if(Pp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Qt=!1,hr=s}}}function R0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;hr=s}function au(s){if(s!==hr)return!1;if(!Qt)return R0(s),Qt=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!bp(s.type,s.memoizedProps)),l&&(l=mr)){if(Pp(s))throw I0(),Error(n(418));for(;l;)E0(s,l),l=uo(l.nextSibling)}if(R0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(l===0){mr=uo(s.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}s=s.nextSibling}mr=null}}else mr=hr?uo(s.stateNode.nextSibling):null;return!0}function I0(){for(var s=mr;s;)s=uo(s.nextSibling)}function js(){mr=hr=null,Qt=!1}function Ip(s){Hr===null?Hr=[s]:Hr.push(s)}var HP=P.ReactCurrentBatchConfig;function nl(s,l,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var m=f.stateNode}if(!m)throw Error(n(147,s));var y=m,k=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(_){var j=y.refs;_===null?delete j[k]:j[k]=_},l._stringRef=k,l)}if(typeof s!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,s))}return s}function lu(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function _0(s){var l=s._init;return l(s._payload)}function O0(s){function l(G,H){if(s){var Q=G.deletions;Q===null?(G.deletions=[H],G.flags|=16):Q.push(H)}}function f(G,H){if(!s)return null;for(;H!==null;)l(G,H),H=H.sibling;return null}function m(G,H){for(G=new Map;H!==null;)H.key!==null?G.set(H.key,H):G.set(H.index,H),H=H.sibling;return G}function y(G,H){return G=Co(G,H),G.index=0,G.sibling=null,G}function k(G,H,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<H?(G.flags|=2,H):Q):(G.flags|=2,H)):(G.flags|=1048576,H)}function _(G){return s&&G.alternate===null&&(G.flags|=2),G}function j(G,H,Q,be){return H===null||H.tag!==6?(H=Sh(Q,G.mode,be),H.return=G,H):(H=y(H,Q),H.return=G,H)}function V(G,H,Q,be){var De=Q.type;return De===D?fe(G,H,Q.props.children,be,Q.key):H!==null&&(H.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ne&&_0(De)===H.type)?(be=y(H,Q.props),be.ref=nl(G,H,Q),be.return=G,be):(be=Mu(Q.type,Q.key,Q.props,null,G.mode,be),be.ref=nl(G,H,Q),be.return=G,be)}function X(G,H,Q,be){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=kh(Q,G.mode,be),H.return=G,H):(H=y(H,Q.children||[]),H.return=G,H)}function fe(G,H,Q,be,De){return H===null||H.tag!==7?(H=es(Q,G.mode,be,De),H.return=G,H):(H=y(H,Q),H.return=G,H)}function he(G,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Sh(""+H,G.mode,Q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return Q=Mu(H.type,H.key,H.props,null,G.mode,Q),Q.ref=nl(G,null,H),Q.return=G,Q;case I:return H=kh(H,G.mode,Q),H.return=G,H;case ne:var be=H._init;return he(G,be(H._payload),Q)}if(ut(H)||Y(H))return H=es(H,G.mode,Q,null),H.return=G,H;lu(G,H)}return null}function ue(G,H,Q,be){var De=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return De!==null?null:j(G,H,""+Q,be);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===De?V(G,H,Q,be):null;case I:return Q.key===De?X(G,H,Q,be):null;case ne:return De=Q._init,ue(G,H,De(Q._payload),be)}if(ut(Q)||Y(Q))return De!==null?null:fe(G,H,Q,be,null);lu(G,Q)}return null}function Pe(G,H,Q,be,De){if(typeof be=="string"&&be!==""||typeof be=="number")return G=G.get(Q)||null,j(H,G,""+be,De);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case E:return G=G.get(be.key===null?Q:be.key)||null,V(H,G,be,De);case I:return G=G.get(be.key===null?Q:be.key)||null,X(H,G,be,De);case ne:var Be=be._init;return Pe(G,H,Q,Be(be._payload),De)}if(ut(be)||Y(be))return G=G.get(Q)||null,fe(H,G,be,De,null);lu(H,be)}return null}function Ne(G,H,Q,be){for(var De=null,Be=null,ze=H,Ke=H=0,Tn=null;ze!==null&&Ke<Q.length;Ke++){ze.index>Ke?(Tn=ze,ze=null):Tn=ze.sibling;var kt=ue(G,ze,Q[Ke],be);if(kt===null){ze===null&&(ze=Tn);break}s&&ze&&kt.alternate===null&&l(G,ze),H=k(kt,H,Ke),Be===null?De=kt:Be.sibling=kt,Be=kt,ze=Tn}if(Ke===Q.length)return f(G,ze),Qt&&qo(G,Ke),De;if(ze===null){for(;Ke<Q.length;Ke++)ze=he(G,Q[Ke],be),ze!==null&&(H=k(ze,H,Ke),Be===null?De=ze:Be.sibling=ze,Be=ze);return Qt&&qo(G,Ke),De}for(ze=m(G,ze);Ke<Q.length;Ke++)Tn=Pe(ze,G,Ke,Q[Ke],be),Tn!==null&&(s&&Tn.alternate!==null&&ze.delete(Tn.key===null?Ke:Tn.key),H=k(Tn,H,Ke),Be===null?De=Tn:Be.sibling=Tn,Be=Tn);return s&&ze.forEach(function(xo){return l(G,xo)}),Qt&&qo(G,Ke),De}function Le(G,H,Q,be){var De=Y(Q);if(typeof De!="function")throw Error(n(150));if(Q=De.call(Q),Q==null)throw Error(n(151));for(var Be=De=null,ze=H,Ke=H=0,Tn=null,kt=Q.next();ze!==null&&!kt.done;Ke++,kt=Q.next()){ze.index>Ke?(Tn=ze,ze=null):Tn=ze.sibling;var xo=ue(G,ze,kt.value,be);if(xo===null){ze===null&&(ze=Tn);break}s&&ze&&xo.alternate===null&&l(G,ze),H=k(xo,H,Ke),Be===null?De=xo:Be.sibling=xo,Be=xo,ze=Tn}if(kt.done)return f(G,ze),Qt&&qo(G,Ke),De;if(ze===null){for(;!kt.done;Ke++,kt=Q.next())kt=he(G,kt.value,be),kt!==null&&(H=k(kt,H,Ke),Be===null?De=kt:Be.sibling=kt,Be=kt);return Qt&&qo(G,Ke),De}for(ze=m(G,ze);!kt.done;Ke++,kt=Q.next())kt=Pe(ze,G,Ke,kt.value,be),kt!==null&&(s&&kt.alternate!==null&&ze.delete(kt.key===null?Ke:kt.key),H=k(kt,H,Ke),Be===null?De=kt:Be.sibling=kt,Be=kt);return s&&ze.forEach(function(xR){return l(G,xR)}),Qt&&qo(G,Ke),De}function un(G,H,Q,be){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var De=Q.key,Be=H;Be!==null;){if(Be.key===De){if(De=Q.type,De===D){if(Be.tag===7){f(G,Be.sibling),H=y(Be,Q.props.children),H.return=G,G=H;break e}}else if(Be.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ne&&_0(De)===Be.type){f(G,Be.sibling),H=y(Be,Q.props),H.ref=nl(G,Be,Q),H.return=G,G=H;break e}f(G,Be);break}else l(G,Be);Be=Be.sibling}Q.type===D?(H=es(Q.props.children,G.mode,be,Q.key),H.return=G,G=H):(be=Mu(Q.type,Q.key,Q.props,null,G.mode,be),be.ref=nl(G,H,Q),be.return=G,G=be)}return _(G);case I:e:{for(Be=Q.key;H!==null;){if(H.key===Be)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){f(G,H.sibling),H=y(H,Q.children||[]),H.return=G,G=H;break e}else{f(G,H);break}else l(G,H);H=H.sibling}H=kh(Q,G.mode,be),H.return=G,G=H}return _(G);case ne:return Be=Q._init,un(G,H,Be(Q._payload),be)}if(ut(Q))return Ne(G,H,Q,be);if(Y(Q))return Le(G,H,Q,be);lu(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(f(G,H.sibling),H=y(H,Q),H.return=G,G=H):(f(G,H),H=Sh(Q,G.mode,be),H.return=G,G=H),_(G)):f(G,H)}return un}var Us=O0(!0),M0=O0(!1),cu=fo(null),uu=null,Bs=null,_p=null;function Op(){_p=Bs=uu=null}function Mp(s){var l=cu.current;qt(cu),s._currentValue=l}function Ap(s,l,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===f)break;s=s.return}}function zs(s,l){uu=s,_p=Bs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(Xn=!0),s.firstContext=null)}function _r(s){var l=s._currentValue;if(_p!==s)if(s={context:s,memoizedValue:l,next:null},Bs===null){if(uu===null)throw Error(n(308));Bs=s,uu.dependencies={lanes:0,firstContext:s}}else Bs=Bs.next=s;return l}var Ko=null;function Np(s){Ko===null?Ko=[s]:Ko.push(s)}function A0(s,l,f,m){var y=l.interleaved;return y===null?(f.next=f,Np(l)):(f.next=y.next,y.next=f),l.interleaved=f,zi(s,m)}function zi(s,l){s.lanes|=l;var f=s.alternate;for(f!==null&&(f.lanes|=l),f=s,s=s.return;s!==null;)s.childLanes|=l,f=s.alternate,f!==null&&(f.childLanes|=l),f=s,s=s.return;return f.tag===3?f.stateNode:null}var mo=!1;function Lp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function $i(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function go(s,l,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(vt&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,zi(s,f)}return y=m.interleaved,y===null?(l.next=l,Np(m)):(l.next=y.next,y.next=l),m.interleaved=l,zi(s,f)}function du(s,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var m=l.lanes;m&=s.pendingLanes,f|=m,l.lanes=f,Yf(s,f)}}function L0(s,l){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var y=null,k=null;if(f=f.firstBaseUpdate,f!==null){do{var _={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};k===null?y=k=_:k=k.next=_,f=f.next}while(f!==null);k===null?y=k=l:k=k.next=l}else y=k=l;f={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:k,shared:m.shared,effects:m.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=l:s.next=l,f.lastBaseUpdate=l}function fu(s,l,f,m){var y=s.updateQueue;mo=!1;var k=y.firstBaseUpdate,_=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var V=j,X=V.next;V.next=null,_===null?k=X:_.next=X,_=V;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,j=fe.lastBaseUpdate,j!==_&&(j===null?fe.firstBaseUpdate=X:j.next=X,fe.lastBaseUpdate=V))}if(k!==null){var he=y.baseState;_=0,fe=X=V=null,j=k;do{var ue=j.lane,Pe=j.eventTime;if((m&ue)===ue){fe!==null&&(fe=fe.next={eventTime:Pe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ne=s,Le=j;switch(ue=l,Pe=f,Le.tag){case 1:if(Ne=Le.payload,typeof Ne=="function"){he=Ne.call(Pe,he,ue);break e}he=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Le.payload,ue=typeof Ne=="function"?Ne.call(Pe,he,ue):Ne,ue==null)break e;he=A({},he,ue);break e;case 2:mo=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,ue=y.effects,ue===null?y.effects=[j]:ue.push(j))}else Pe={eventTime:Pe,lane:ue,tag:j.tag,payload:j.payload,callback:j.callback,next:null},fe===null?(X=fe=Pe,V=he):fe=fe.next=Pe,_|=ue;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ue=j,j=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);if(fe===null&&(V=he),y.baseState=V,y.firstBaseUpdate=X,y.lastBaseUpdate=fe,l=y.shared.interleaved,l!==null){y=l;do _|=y.lane,y=y.next;while(y!==l)}else k===null&&(y.shared.lanes=0);Qo|=_,s.lanes=_,s.memoizedState=he}}function D0(s,l,f){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var m=s[l],y=m.callback;if(y!==null){if(m.callback=null,m=f,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var rl={},ci=fo(rl),il=fo(rl),ol=fo(rl);function Go(s){if(s===rl)throw Error(n(174));return s}function Dp(s,l){switch(zt(ol,l),zt(il,s),zt(ci,rl),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:pe(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=pe(l,s)}qt(ci),zt(ci,l)}function $s(){qt(ci),qt(il),qt(ol)}function F0(s){Go(ol.current);var l=Go(ci.current),f=pe(l,s.type);l!==f&&(zt(il,s),zt(ci,f))}function Fp(s){il.current===s&&(qt(ci),qt(il))}var Zt=fo(0);function pu(s){for(var l=s;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var jp=[];function Up(){for(var s=0;s<jp.length;s++)jp[s]._workInProgressVersionPrimary=null;jp.length=0}var hu=P.ReactCurrentDispatcher,Bp=P.ReactCurrentBatchConfig,Yo=0,en=null,yn=null,xn=null,mu=!1,sl=!1,al=0,WP=0;function Fn(){throw Error(n(321))}function zp(s,l){if(l===null)return!1;for(var f=0;f<l.length&&f<s.length;f++)if(!Vr(s[f],l[f]))return!1;return!0}function $p(s,l,f,m,y,k){if(Yo=k,en=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,hu.current=s===null||s.memoizedState===null?YP:QP,s=f(m,y),sl){k=0;do{if(sl=!1,al=0,25<=k)throw Error(n(301));k+=1,xn=yn=null,l.updateQueue=null,hu.current=JP,s=f(m,y)}while(sl)}if(hu.current=yu,l=yn!==null&&yn.next!==null,Yo=0,xn=yn=en=null,mu=!1,l)throw Error(n(300));return s}function Vp(){var s=al!==0;return al=0,s}function ui(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?en.memoizedState=xn=s:xn=xn.next=s,xn}function Or(){if(yn===null){var s=en.alternate;s=s!==null?s.memoizedState:null}else s=yn.next;var l=xn===null?en.memoizedState:xn.next;if(l!==null)xn=l,yn=s;else{if(s===null)throw Error(n(310));yn=s,s={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},xn===null?en.memoizedState=xn=s:xn=xn.next=s}return xn}function ll(s,l){return typeof l=="function"?l(s):l}function Hp(s){var l=Or(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=s;var m=yn,y=m.baseQueue,k=f.pending;if(k!==null){if(y!==null){var _=y.next;y.next=k.next,k.next=_}m.baseQueue=y=k,f.pending=null}if(y!==null){k=y.next,m=m.baseState;var j=_=null,V=null,X=k;do{var fe=X.lane;if((Yo&fe)===fe)V!==null&&(V=V.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),m=X.hasEagerState?X.eagerState:s(m,X.action);else{var he={lane:fe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};V===null?(j=V=he,_=m):V=V.next=he,en.lanes|=fe,Qo|=fe}X=X.next}while(X!==null&&X!==k);V===null?_=m:V.next=j,Vr(m,l.memoizedState)||(Xn=!0),l.memoizedState=m,l.baseState=_,l.baseQueue=V,f.lastRenderedState=m}if(s=f.interleaved,s!==null){y=s;do k=y.lane,en.lanes|=k,Qo|=k,y=y.next;while(y!==s)}else y===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Wp(s){var l=Or(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=s;var m=f.dispatch,y=f.pending,k=l.memoizedState;if(y!==null){f.pending=null;var _=y=y.next;do k=s(k,_.action),_=_.next;while(_!==y);Vr(k,l.memoizedState)||(Xn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),f.lastRenderedState=k}return[k,m]}function j0(){}function U0(s,l){var f=en,m=Or(),y=l(),k=!Vr(m.memoizedState,y);if(k&&(m.memoizedState=y,Xn=!0),m=m.queue,qp($0.bind(null,f,m,s),[s]),m.getSnapshot!==l||k||xn!==null&&xn.memoizedState.tag&1){if(f.flags|=2048,cl(9,z0.bind(null,f,m,y,l),void 0,null),wn===null)throw Error(n(349));(Yo&30)!==0||B0(f,l,y)}return y}function B0(s,l,f){s.flags|=16384,s={getSnapshot:l,value:f},l=en.updateQueue,l===null?(l={lastEffect:null,stores:null},en.updateQueue=l,l.stores=[s]):(f=l.stores,f===null?l.stores=[s]:f.push(s))}function z0(s,l,f,m){l.value=f,l.getSnapshot=m,V0(l)&&H0(s)}function $0(s,l,f){return f(function(){V0(l)&&H0(s)})}function V0(s){var l=s.getSnapshot;s=s.value;try{var f=l();return!Vr(s,f)}catch{return!0}}function H0(s){var l=zi(s,1);l!==null&&Gr(l,s,1,-1)}function W0(s){var l=ui();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:s},l.queue=s,s=s.dispatch=GP.bind(null,en,s),[l.memoizedState,s]}function cl(s,l,f,m){return s={tag:s,create:l,destroy:f,deps:m,next:null},l=en.updateQueue,l===null?(l={lastEffect:null,stores:null},en.updateQueue=l,l.lastEffect=s.next=s):(f=l.lastEffect,f===null?l.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,l.lastEffect=s)),s}function q0(){return Or().memoizedState}function gu(s,l,f,m){var y=ui();en.flags|=s,y.memoizedState=cl(1|l,f,void 0,m===void 0?null:m)}function vu(s,l,f,m){var y=Or();m=m===void 0?null:m;var k=void 0;if(yn!==null){var _=yn.memoizedState;if(k=_.destroy,m!==null&&zp(m,_.deps)){y.memoizedState=cl(l,f,k,m);return}}en.flags|=s,y.memoizedState=cl(1|l,f,k,m)}function K0(s,l){return gu(8390656,8,s,l)}function qp(s,l){return vu(2048,8,s,l)}function G0(s,l){return vu(4,2,s,l)}function Y0(s,l){return vu(4,4,s,l)}function Q0(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function J0(s,l,f){return f=f!=null?f.concat([s]):null,vu(4,4,Q0.bind(null,l,s),f)}function Kp(){}function X0(s,l){var f=Or();l=l===void 0?null:l;var m=f.memoizedState;return m!==null&&l!==null&&zp(l,m[1])?m[0]:(f.memoizedState=[s,l],s)}function Z0(s,l){var f=Or();l=l===void 0?null:l;var m=f.memoizedState;return m!==null&&l!==null&&zp(l,m[1])?m[0]:(s=s(),f.memoizedState=[s,l],s)}function eb(s,l,f){return(Yo&21)===0?(s.baseState&&(s.baseState=!1,Xn=!0),s.memoizedState=f):(Vr(f,l)||(f=_y(),en.lanes|=f,Qo|=f,s.baseState=!0),l)}function qP(s,l){var f=Mt;Mt=f!==0&&4>f?f:4,s(!0);var m=Bp.transition;Bp.transition={};try{s(!1),l()}finally{Mt=f,Bp.transition=m}}function tb(){return Or().memoizedState}function KP(s,l,f){var m=So(s);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},nb(s))rb(l,f);else if(f=A0(s,l,f,m),f!==null){var y=Gn();Gr(f,s,m,y),ib(f,l,m)}}function GP(s,l,f){var m=So(s),y={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(nb(s))rb(l,y);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var _=l.lastRenderedState,j=k(_,f);if(y.hasEagerState=!0,y.eagerState=j,Vr(j,_)){var V=l.interleaved;V===null?(y.next=y,Np(l)):(y.next=V.next,V.next=y),l.interleaved=y;return}}catch{}finally{}f=A0(s,l,y,m),f!==null&&(y=Gn(),Gr(f,s,m,y),ib(f,l,m))}}function nb(s){var l=s.alternate;return s===en||l!==null&&l===en}function rb(s,l){sl=mu=!0;var f=s.pending;f===null?l.next=l:(l.next=f.next,f.next=l),s.pending=l}function ib(s,l,f){if((f&4194240)!==0){var m=l.lanes;m&=s.pendingLanes,f|=m,l.lanes=f,Yf(s,f)}}var yu={readContext:_r,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},YP={readContext:_r,useCallback:function(s,l){return ui().memoizedState=[s,l===void 0?null:l],s},useContext:_r,useEffect:K0,useImperativeHandle:function(s,l,f){return f=f!=null?f.concat([s]):null,gu(4194308,4,Q0.bind(null,l,s),f)},useLayoutEffect:function(s,l){return gu(4194308,4,s,l)},useInsertionEffect:function(s,l){return gu(4,2,s,l)},useMemo:function(s,l){var f=ui();return l=l===void 0?null:l,s=s(),f.memoizedState=[s,l],s},useReducer:function(s,l,f){var m=ui();return l=f!==void 0?f(l):l,m.memoizedState=m.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},m.queue=s,s=s.dispatch=KP.bind(null,en,s),[m.memoizedState,s]},useRef:function(s){var l=ui();return s={current:s},l.memoizedState=s},useState:W0,useDebugValue:Kp,useDeferredValue:function(s){return ui().memoizedState=s},useTransition:function(){var s=W0(!1),l=s[0];return s=qP.bind(null,s[1]),ui().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,f){var m=en,y=ui();if(Qt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),wn===null)throw Error(n(349));(Yo&30)!==0||B0(m,l,f)}y.memoizedState=f;var k={value:f,getSnapshot:l};return y.queue=k,K0($0.bind(null,m,k,s),[s]),m.flags|=2048,cl(9,z0.bind(null,m,k,f,l),void 0,null),f},useId:function(){var s=ui(),l=wn.identifierPrefix;if(Qt){var f=Bi,m=Ui;f=(m&~(1<<32-$r(m)-1)).toString(32)+f,l=":"+l+"R"+f,f=al++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=WP++,l=":"+l+"r"+f.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},QP={readContext:_r,useCallback:X0,useContext:_r,useEffect:qp,useImperativeHandle:J0,useInsertionEffect:G0,useLayoutEffect:Y0,useMemo:Z0,useReducer:Hp,useRef:q0,useState:function(){return Hp(ll)},useDebugValue:Kp,useDeferredValue:function(s){var l=Or();return eb(l,yn.memoizedState,s)},useTransition:function(){var s=Hp(ll)[0],l=Or().memoizedState;return[s,l]},useMutableSource:j0,useSyncExternalStore:U0,useId:tb,unstable_isNewReconciler:!1},JP={readContext:_r,useCallback:X0,useContext:_r,useEffect:qp,useImperativeHandle:J0,useInsertionEffect:G0,useLayoutEffect:Y0,useMemo:Z0,useReducer:Wp,useRef:q0,useState:function(){return Wp(ll)},useDebugValue:Kp,useDeferredValue:function(s){var l=Or();return yn===null?l.memoizedState=s:eb(l,yn.memoizedState,s)},useTransition:function(){var s=Wp(ll)[0],l=Or().memoizedState;return[s,l]},useMutableSource:j0,useSyncExternalStore:U0,useId:tb,unstable_isNewReconciler:!1};function Wr(s,l){if(s&&s.defaultProps){l=A({},l),s=s.defaultProps;for(var f in s)l[f]===void 0&&(l[f]=s[f]);return l}return l}function Gp(s,l,f,m){l=s.memoizedState,f=f(m,l),f=f==null?l:A({},l,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var bu={isMounted:function(s){return(s=s._reactInternals)?Di(s)===s:!1},enqueueSetState:function(s,l,f){s=s._reactInternals;var m=Gn(),y=So(s),k=$i(m,y);k.payload=l,f!=null&&(k.callback=f),l=go(s,k,y),l!==null&&(Gr(l,s,y,m),du(l,s,y))},enqueueReplaceState:function(s,l,f){s=s._reactInternals;var m=Gn(),y=So(s),k=$i(m,y);k.tag=1,k.payload=l,f!=null&&(k.callback=f),l=go(s,k,y),l!==null&&(Gr(l,s,y,m),du(l,s,y))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var f=Gn(),m=So(s),y=$i(f,m);y.tag=2,l!=null&&(y.callback=l),l=go(s,y,m),l!==null&&(Gr(l,s,m,f),du(l,s,m))}};function ob(s,l,f,m,y,k,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,k,_):l.prototype&&l.prototype.isPureReactComponent?!Ya(f,m)||!Ya(y,k):!0}function sb(s,l,f){var m=!1,y=po,k=l.contextType;return typeof k=="object"&&k!==null?k=_r(k):(y=Jn(l)?Ho:Dn.current,m=l.contextTypes,k=(m=m!=null)?Ls(s,y):po),l=new l(f,k),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=bu,s.stateNode=l,l._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=k),l}function ab(s,l,f,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==s&&bu.enqueueReplaceState(l,l.state,null)}function Yp(s,l,f,m){var y=s.stateNode;y.props=f,y.state=s.memoizedState,y.refs={},Lp(s);var k=l.contextType;typeof k=="object"&&k!==null?y.context=_r(k):(k=Jn(l)?Ho:Dn.current,y.context=Ls(s,k)),y.state=s.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Gp(s,l,k,f),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&bu.enqueueReplaceState(y,y.state,null),fu(s,f,y,m),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Vs(s,l){try{var f="",m=l;do f+=ke(m),m=m.return;while(m);var y=f}catch(k){y=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:l,stack:y,digest:null}}function Qp(s,l,f){return{value:s,source:null,stack:f??null,digest:l??null}}function Jp(s,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var XP=typeof WeakMap=="function"?WeakMap:Map;function lb(s,l,f){f=$i(-1,f),f.tag=3,f.payload={element:null};var m=l.value;return f.callback=function(){Eu||(Eu=!0,fh=m),Jp(s,l)},f}function cb(s,l,f){f=$i(-1,f),f.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;f.payload=function(){return m(y)},f.callback=function(){Jp(s,l)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(f.callback=function(){Jp(s,l),typeof m!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})}),f}function ub(s,l,f){var m=s.pingCache;if(m===null){m=s.pingCache=new XP;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(f)||(y.add(f),s=fR.bind(null,s,l,f),l.then(s,s))}function db(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function fb(s,l,f,m,y){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=$i(-1,1),l.tag=2,go(f,l,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var ZP=P.ReactCurrentOwner,Xn=!1;function Kn(s,l,f,m){l.child=s===null?M0(l,null,f,m):Us(l,s.child,f,m)}function pb(s,l,f,m,y){f=f.render;var k=l.ref;return zs(l,y),m=$p(s,l,f,m,k,y),f=Vp(),s!==null&&!Xn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~y,Vi(s,l,y)):(Qt&&f&&Tp(l),l.flags|=1,Kn(s,l,m,y),l.child)}function hb(s,l,f,m,y){if(s===null){var k=f.type;return typeof k=="function"&&!bh(k)&&k.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=k,mb(s,l,k,m,y)):(s=Mu(f.type,null,m,l,l.mode,y),s.ref=l.ref,s.return=l,l.child=s)}if(k=s.child,(s.lanes&y)===0){var _=k.memoizedProps;if(f=f.compare,f=f!==null?f:Ya,f(_,m)&&s.ref===l.ref)return Vi(s,l,y)}return l.flags|=1,s=Co(k,m),s.ref=l.ref,s.return=l,l.child=s}function mb(s,l,f,m,y){if(s!==null){var k=s.memoizedProps;if(Ya(k,m)&&s.ref===l.ref)if(Xn=!1,l.pendingProps=m=k,(s.lanes&y)!==0)(s.flags&131072)!==0&&(Xn=!0);else return l.lanes=s.lanes,Vi(s,l,y)}return Xp(s,l,f,m,y)}function gb(s,l,f){var m=l.pendingProps,y=m.children,k=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Ws,gr),gr|=f;else{if((f&1073741824)===0)return s=k!==null?k.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,zt(Ws,gr),gr|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:f,zt(Ws,gr),gr|=m}else k!==null?(m=k.baseLanes|f,l.memoizedState=null):m=f,zt(Ws,gr),gr|=m;return Kn(s,l,y,f),l.child}function vb(s,l){var f=l.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Xp(s,l,f,m,y){var k=Jn(f)?Ho:Dn.current;return k=Ls(l,k),zs(l,y),f=$p(s,l,f,m,k,y),m=Vp(),s!==null&&!Xn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~y,Vi(s,l,y)):(Qt&&m&&Tp(l),l.flags|=1,Kn(s,l,f,y),l.child)}function yb(s,l,f,m,y){if(Jn(f)){var k=!0;ru(l)}else k=!1;if(zs(l,y),l.stateNode===null)ku(s,l),sb(l,f,m),Yp(l,f,m,y),m=!0;else if(s===null){var _=l.stateNode,j=l.memoizedProps;_.props=j;var V=_.context,X=f.contextType;typeof X=="object"&&X!==null?X=_r(X):(X=Jn(f)?Ho:Dn.current,X=Ls(l,X));var fe=f.getDerivedStateFromProps,he=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function";he||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j!==m||V!==X)&&ab(l,_,m,X),mo=!1;var ue=l.memoizedState;_.state=ue,fu(l,m,_,y),V=l.memoizedState,j!==m||ue!==V||Qn.current||mo?(typeof fe=="function"&&(Gp(l,f,fe,m),V=l.memoizedState),(j=mo||ob(l,f,j,m,ue,V,X))?(he||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=V),_.props=m,_.state=V,_.context=X,m=j):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,N0(s,l),j=l.memoizedProps,X=l.type===l.elementType?j:Wr(l.type,j),_.props=X,he=l.pendingProps,ue=_.context,V=f.contextType,typeof V=="object"&&V!==null?V=_r(V):(V=Jn(f)?Ho:Dn.current,V=Ls(l,V));var Pe=f.getDerivedStateFromProps;(fe=typeof Pe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j!==he||ue!==V)&&ab(l,_,m,V),mo=!1,ue=l.memoizedState,_.state=ue,fu(l,m,_,y);var Ne=l.memoizedState;j!==he||ue!==Ne||Qn.current||mo?(typeof Pe=="function"&&(Gp(l,f,Pe,m),Ne=l.memoizedState),(X=mo||ob(l,f,X,m,ue,Ne,V)||!1)?(fe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,Ne,V),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,Ne,V)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ne),_.props=m,_.state=Ne,_.context=V,m=X):(typeof _.componentDidUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(l.flags|=1024),m=!1)}return Zp(s,l,f,m,k,y)}function Zp(s,l,f,m,y,k){vb(s,l);var _=(l.flags&128)!==0;if(!m&&!_)return y&&x0(l,f,!1),Vi(s,l,k);m=l.stateNode,ZP.current=l;var j=_&&typeof f.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,s!==null&&_?(l.child=Us(l,s.child,null,k),l.child=Us(l,null,j,k)):Kn(s,l,j,k),l.memoizedState=m.state,y&&x0(l,f,!0),l.child}function bb(s){var l=s.stateNode;l.pendingContext?k0(s,l.pendingContext,l.pendingContext!==l.context):l.context&&k0(s,l.context,!1),Dp(s,l.containerInfo)}function Sb(s,l,f,m,y){return js(),Ip(y),l.flags|=256,Kn(s,l,f,m),l.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(s){return{baseLanes:s,cachePool:null,transitions:null}}function kb(s,l,f){var m=l.pendingProps,y=Zt.current,k=!1,_=(l.flags&128)!==0,j;if((j=_)||(j=s!==null&&s.memoizedState===null?!1:(y&2)!==0),j?(k=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),zt(Zt,y&1),s===null)return Rp(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(_=m.children,s=m.fallback,k?(m=l.mode,k=l.child,_={mode:"hidden",children:_},(m&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=_):k=Au(_,m,0,null),s=es(s,m,f,null),k.return=l,s.return=l,k.sibling=s,l.child=k,l.child.memoizedState=th(f),l.memoizedState=eh,s):nh(l,_));if(y=s.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return eR(s,l,_,m,j,y,f);if(k){k=m.fallback,_=l.mode,y=s.child,j=y.sibling;var V={mode:"hidden",children:m.children};return(_&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=V,l.deletions=null):(m=Co(y,V),m.subtreeFlags=y.subtreeFlags&14680064),j!==null?k=Co(j,k):(k=es(k,_,f,null),k.flags|=2),k.return=l,m.return=l,m.sibling=k,l.child=m,m=k,k=l.child,_=s.child.memoizedState,_=_===null?th(f):{baseLanes:_.baseLanes|f,cachePool:null,transitions:_.transitions},k.memoizedState=_,k.childLanes=s.childLanes&~f,l.memoizedState=eh,m}return k=s.child,s=k.sibling,m=Co(k,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=f),m.return=l,m.sibling=null,s!==null&&(f=l.deletions,f===null?(l.deletions=[s],l.flags|=16):f.push(s)),l.child=m,l.memoizedState=null,m}function nh(s,l){return l=Au({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Su(s,l,f,m){return m!==null&&Ip(m),Us(l,s.child,null,f),s=nh(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function eR(s,l,f,m,y,k,_){if(f)return l.flags&256?(l.flags&=-257,m=Qp(Error(n(422))),Su(s,l,_,m)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(k=m.fallback,y=l.mode,m=Au({mode:"visible",children:m.children},y,0,null),k=es(k,y,_,null),k.flags|=2,m.return=l,k.return=l,m.sibling=k,l.child=m,(l.mode&1)!==0&&Us(l,s.child,null,_),l.child.memoizedState=th(_),l.memoizedState=eh,k);if((l.mode&1)===0)return Su(s,l,_,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var j=m.dgst;return m=j,k=Error(n(419)),m=Qp(k,m,void 0),Su(s,l,_,m)}if(j=(_&s.childLanes)!==0,Xn||j){if(m=wn,m!==null){switch(_&-_){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|_))!==0?0:y,y!==0&&y!==k.retryLane&&(k.retryLane=y,zi(s,y),Gr(m,s,y,-1))}return yh(),m=Qp(Error(n(421))),Su(s,l,_,m)}return y.data==="$?"?(l.flags|=128,l.child=s.child,l=pR.bind(null,s),y._reactRetry=l,null):(s=k.treeContext,mr=uo(y.nextSibling),hr=l,Qt=!0,Hr=null,s!==null&&(Rr[Ir++]=Ui,Rr[Ir++]=Bi,Rr[Ir++]=Wo,Ui=s.id,Bi=s.overflow,Wo=l),l=nh(l,m.children),l.flags|=4096,l)}function Cb(s,l,f){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),Ap(s.return,l,f)}function rh(s,l,f,m,y){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:y}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=f,k.tailMode=y)}function xb(s,l,f){var m=l.pendingProps,y=m.revealOrder,k=m.tail;if(Kn(s,l,m.children,f),m=Zt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Cb(s,f,l);else if(s.tag===19)Cb(s,f,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(zt(Zt,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(f=l.child,y=null;f!==null;)s=f.alternate,s!==null&&pu(s)===null&&(y=f),f=f.sibling;f=y,f===null?(y=l.child,l.child=null):(y=f.sibling,f.sibling=null),rh(l,!1,y,f,k);break;case"backwards":for(f=null,y=l.child,l.child=null;y!==null;){if(s=y.alternate,s!==null&&pu(s)===null){l.child=y;break}s=y.sibling,y.sibling=f,f=y,y=s}rh(l,!0,f,null,k);break;case"together":rh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ku(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Vi(s,l,f){if(s!==null&&(l.dependencies=s.dependencies),Qo|=l.lanes,(f&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,f=Co(s,s.pendingProps),l.child=f,f.return=l;s.sibling!==null;)s=s.sibling,f=f.sibling=Co(s,s.pendingProps),f.return=l;f.sibling=null}return l.child}function tR(s,l,f){switch(l.tag){case 3:bb(l),js();break;case 5:F0(l);break;case 1:Jn(l.type)&&ru(l);break;case 4:Dp(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;zt(cu,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(zt(Zt,Zt.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?kb(s,l,f):(zt(Zt,Zt.current&1),s=Vi(s,l,f),s!==null?s.sibling:null);zt(Zt,Zt.current&1);break;case 19:if(m=(f&l.childLanes)!==0,(s.flags&128)!==0){if(m)return xb(s,l,f);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),zt(Zt,Zt.current),m)break;return null;case 22:case 23:return l.lanes=0,gb(s,l,f)}return Vi(s,l,f)}var wb,ih,Tb,Eb;wb=function(s,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},ih=function(){},Tb=function(s,l,f,m){var y=s.memoizedProps;if(y!==m){s=l.stateNode,Go(ci.current);var k=null;switch(f){case"input":y=We(s,y),m=We(s,m),k=[];break;case"select":y=A({},y,{value:void 0}),m=A({},m,{value:void 0}),k=[];break;case"textarea":y=Oe(s,y),m=Oe(s,m),k=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=eu)}qe(f,m);var _;f=null;for(X in y)if(!m.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var j=y[X];for(_ in j)j.hasOwnProperty(_)&&(f||(f={}),f[_]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?k||(k=[]):(k=k||[]).push(X,null));for(X in m){var V=m[X];if(j=y!=null?y[X]:void 0,m.hasOwnProperty(X)&&V!==j&&(V!=null||j!=null))if(X==="style")if(j){for(_ in j)!j.hasOwnProperty(_)||V&&V.hasOwnProperty(_)||(f||(f={}),f[_]="");for(_ in V)V.hasOwnProperty(_)&&j[_]!==V[_]&&(f||(f={}),f[_]=V[_])}else f||(k||(k=[]),k.push(X,f)),f=V;else X==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,j=j?j.__html:void 0,V!=null&&j!==V&&(k=k||[]).push(X,V)):X==="children"?typeof V!="string"&&typeof V!="number"||(k=k||[]).push(X,""+V):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(V!=null&&X==="onScroll"&&Wt("scroll",s),k||j===V||(k=[])):(k=k||[]).push(X,V))}f&&(k=k||[]).push("style",f);var X=k;(l.updateQueue=X)&&(l.flags|=4)}},Eb=function(s,l,f,m){f!==m&&(l.flags|=4)};function ul(s,l){if(!Qt)switch(s.tailMode){case"hidden":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function jn(s){var l=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(l)for(var y=s.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)f|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=m,s.childLanes=f,l}function nR(s,l,f){var m=l.pendingProps;switch(Ep(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(l),null;case 1:return Jn(l.type)&&nu(),jn(l),null;case 3:return m=l.stateNode,$s(),qt(Qn),qt(Dn),Up(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(au(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Hr!==null&&(mh(Hr),Hr=null))),ih(s,l),jn(l),null;case 5:Fp(l);var y=Go(ol.current);if(f=l.type,s!==null&&l.stateNode!=null)Tb(s,l,f,m,y),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return jn(l),null}if(s=Go(ci.current),au(l)){m=l.stateNode,f=l.type;var k=l.memoizedProps;switch(m[li]=l,m[el]=k,s=(l.mode&1)!==0,f){case"dialog":Wt("cancel",m),Wt("close",m);break;case"iframe":case"object":case"embed":Wt("load",m);break;case"video":case"audio":for(y=0;y<Ja.length;y++)Wt(Ja[y],m);break;case"source":Wt("error",m);break;case"img":case"image":case"link":Wt("error",m),Wt("load",m);break;case"details":Wt("toggle",m);break;case"input":at(m,k),Wt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},Wt("invalid",m);break;case"textarea":Yt(m,k),Wt("invalid",m)}qe(f,k),y=null;for(var _ in k)if(k.hasOwnProperty(_)){var j=k[_];_==="children"?typeof j=="string"?m.textContent!==j&&(k.suppressHydrationWarning!==!0&&Zc(m.textContent,j,s),y=["children",j]):typeof j=="number"&&m.textContent!==""+j&&(k.suppressHydrationWarning!==!0&&Zc(m.textContent,j,s),y=["children",""+j]):i.hasOwnProperty(_)&&j!=null&&_==="onScroll"&&Wt("scroll",m)}switch(f){case"input":Ue(m),Ye(m,k,!0);break;case"textarea":Ue(m),Cn(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=eu)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{_=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=re(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=_.createElement(f,{is:m.is}):(s=_.createElement(f),f==="select"&&(_=s,m.multiple?_.multiple=!0:m.size&&(_.size=m.size))):s=_.createElementNS(s,f),s[li]=l,s[el]=m,wb(s,l,!1,!1),l.stateNode=s;e:{switch(_=yt(f,m),f){case"dialog":Wt("cancel",s),Wt("close",s),y=m;break;case"iframe":case"object":case"embed":Wt("load",s),y=m;break;case"video":case"audio":for(y=0;y<Ja.length;y++)Wt(Ja[y],s);y=m;break;case"source":Wt("error",s),y=m;break;case"img":case"image":case"link":Wt("error",s),Wt("load",s),y=m;break;case"details":Wt("toggle",s),y=m;break;case"input":at(s,m),y=We(s,m),Wt("invalid",s);break;case"option":y=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},y=A({},m,{value:void 0}),Wt("invalid",s);break;case"textarea":Yt(s,m),y=Oe(s,m),Wt("invalid",s);break;default:y=m}qe(f,y),j=y;for(k in j)if(j.hasOwnProperty(k)){var V=j[k];k==="style"?In(s,V):k==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Me(s,V)):k==="children"?typeof V=="string"?(f!=="textarea"||V!=="")&&Fe(s,V):typeof V=="number"&&Fe(s,""+V):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?V!=null&&k==="onScroll"&&Wt("scroll",s):V!=null&&R(s,k,V,_))}switch(f){case"input":Ue(s),Ye(s,m,!1);break;case"textarea":Ue(s),Cn(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Ee(m.value));break;case"select":s.multiple=!!m.multiple,k=m.value,k!=null?tt(s,!!m.multiple,k,!1):m.defaultValue!=null&&tt(s,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=eu)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return jn(l),null;case 6:if(s&&l.stateNode!=null)Eb(s,l,s.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(f=Go(ol.current),Go(ci.current),au(l)){if(m=l.stateNode,f=l.memoizedProps,m[li]=l,(k=m.nodeValue!==f)&&(s=hr,s!==null))switch(s.tag){case 3:Zc(m.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Zc(m.nodeValue,f,(s.mode&1)!==0)}k&&(l.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[li]=l,l.stateNode=m}return jn(l),null;case 13:if(qt(Zt),m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Qt&&mr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)I0(),js(),l.flags|=98560,k=!1;else if(k=au(l),m!==null&&m.dehydrated!==null){if(s===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[li]=l}else js(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jn(l),k=!1}else Hr!==null&&(mh(Hr),Hr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Zt.current&1)!==0?bn===0&&(bn=3):yh())),l.updateQueue!==null&&(l.flags|=4),jn(l),null);case 4:return $s(),ih(s,l),s===null&&Xa(l.stateNode.containerInfo),jn(l),null;case 10:return Mp(l.type._context),jn(l),null;case 17:return Jn(l.type)&&nu(),jn(l),null;case 19:if(qt(Zt),k=l.memoizedState,k===null)return jn(l),null;if(m=(l.flags&128)!==0,_=k.rendering,_===null)if(m)ul(k,!1);else{if(bn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(_=pu(s),_!==null){for(l.flags|=128,ul(k,!1),m=_.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=f,f=l.child;f!==null;)k=f,s=m,k.flags&=14680066,_=k.alternate,_===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=_.childLanes,k.lanes=_.lanes,k.child=_.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=_.memoizedProps,k.memoizedState=_.memoizedState,k.updateQueue=_.updateQueue,k.type=_.type,s=_.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return zt(Zt,Zt.current&1|2),l.child}s=s.sibling}k.tail!==null&&cn()>qs&&(l.flags|=128,m=!0,ul(k,!1),l.lanes=4194304)}else{if(!m)if(s=pu(_),s!==null){if(l.flags|=128,m=!0,f=s.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),ul(k,!0),k.tail===null&&k.tailMode==="hidden"&&!_.alternate&&!Qt)return jn(l),null}else 2*cn()-k.renderingStartTime>qs&&f!==1073741824&&(l.flags|=128,m=!0,ul(k,!1),l.lanes=4194304);k.isBackwards?(_.sibling=l.child,l.child=_):(f=k.last,f!==null?f.sibling=_:l.child=_,k.last=_)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=cn(),l.sibling=null,f=Zt.current,zt(Zt,m?f&1|2:f&1),l):(jn(l),null);case 22:case 23:return vh(),m=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(gr&1073741824)!==0&&(jn(l),l.subtreeFlags&6&&(l.flags|=8192)):jn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function rR(s,l){switch(Ep(l),l.tag){case 1:return Jn(l.type)&&nu(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return $s(),qt(Qn),qt(Dn),Up(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return Fp(l),null;case 13:if(qt(Zt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));js()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return qt(Zt),null;case 4:return $s(),null;case 10:return Mp(l.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var Cu=!1,Un=!1,iR=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Hs(s,l){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){nn(s,l,m)}else f.current=null}function oh(s,l,f){try{f()}catch(m){nn(s,l,m)}}var Pb=!1;function oR(s,l){if(vp=$c,s=o0(),cp(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var y=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{f.nodeType,k.nodeType}catch{f=null;break e}var _=0,j=-1,V=-1,X=0,fe=0,he=s,ue=null;t:for(;;){for(var Pe;he!==f||y!==0&&he.nodeType!==3||(j=_+y),he!==k||m!==0&&he.nodeType!==3||(V=_+m),he.nodeType===3&&(_+=he.nodeValue.length),(Pe=he.firstChild)!==null;)ue=he,he=Pe;for(;;){if(he===s)break t;if(ue===f&&++X===y&&(j=_),ue===k&&++fe===m&&(V=_),(Pe=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=Pe}f=j===-1||V===-1?null:{start:j,end:V}}else f=null}f=f||{start:0,end:0}}else f=null;for(yp={focusedElem:s,selectionRange:f},$c=!1,_e=l;_e!==null;)if(l=_e,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,_e=s;else for(;_e!==null;){l=_e;try{var Ne=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Le=Ne.memoizedProps,un=Ne.memoizedState,G=l.stateNode,H=G.getSnapshotBeforeUpdate(l.elementType===l.type?Le:Wr(l.type,Le),un);G.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=l.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(be){nn(l,l.return,be)}if(s=l.sibling,s!==null){s.return=l.return,_e=s;break}_e=l.return}return Ne=Pb,Pb=!1,Ne}function dl(s,l,f){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&s)===s){var k=y.destroy;y.destroy=void 0,k!==void 0&&oh(l,f,k)}y=y.next}while(y!==m)}}function xu(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&s)===s){var m=f.create;f.destroy=m()}f=f.next}while(f!==l)}}function sh(s){var l=s.ref;if(l!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof l=="function"?l(s):l.current=s}}function Rb(s){var l=s.alternate;l!==null&&(s.alternate=null,Rb(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[li],delete l[el],delete l[Cp],delete l[zP],delete l[$P])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ib(s){return s.tag===5||s.tag===3||s.tag===4}function _b(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ib(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ah(s,l,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(s,l):f.insertBefore(s,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(s,f)):(l=f,l.appendChild(s)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=eu));else if(m!==4&&(s=s.child,s!==null))for(ah(s,l,f),s=s.sibling;s!==null;)ah(s,l,f),s=s.sibling}function lh(s,l,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?f.insertBefore(s,l):f.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(lh(s,l,f),s=s.sibling;s!==null;)lh(s,l,f),s=s.sibling}var _n=null,qr=!1;function vo(s,l,f){for(f=f.child;f!==null;)Ob(s,l,f),f=f.sibling}function Ob(s,l,f){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(Dc,f)}catch{}switch(f.tag){case 5:Un||Hs(f,l);case 6:var m=_n,y=qr;_n=null,vo(s,l,f),_n=m,qr=y,_n!==null&&(qr?(s=_n,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):_n.removeChild(f.stateNode));break;case 18:_n!==null&&(qr?(s=_n,f=f.stateNode,s.nodeType===8?kp(s.parentNode,f):s.nodeType===1&&kp(s,f),Va(s)):kp(_n,f.stateNode));break;case 4:m=_n,y=qr,_n=f.stateNode.containerInfo,qr=!0,vo(s,l,f),_n=m,qr=y;break;case 0:case 11:case 14:case 15:if(!Un&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var k=y,_=k.destroy;k=k.tag,_!==void 0&&((k&2)!==0||(k&4)!==0)&&oh(f,l,_),y=y.next}while(y!==m)}vo(s,l,f);break;case 1:if(!Un&&(Hs(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(j){nn(f,l,j)}vo(s,l,f);break;case 21:vo(s,l,f);break;case 22:f.mode&1?(Un=(m=Un)||f.memoizedState!==null,vo(s,l,f),Un=m):vo(s,l,f);break;default:vo(s,l,f)}}function Mb(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new iR),l.forEach(function(m){var y=hR.bind(null,s,m);f.has(m)||(f.add(m),m.then(y,y))})}}function Kr(s,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var y=f[m];try{var k=s,_=l,j=_;e:for(;j!==null;){switch(j.tag){case 5:_n=j.stateNode,qr=!1;break e;case 3:_n=j.stateNode.containerInfo,qr=!0;break e;case 4:_n=j.stateNode.containerInfo,qr=!0;break e}j=j.return}if(_n===null)throw Error(n(160));Ob(k,_,y),_n=null,qr=!1;var V=y.alternate;V!==null&&(V.return=null),y.return=null}catch(X){nn(y,l,X)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Ab(l,s),l=l.sibling}function Ab(s,l){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Kr(l,s),di(s),m&4){try{dl(3,s,s.return),xu(3,s)}catch(Le){nn(s,s.return,Le)}try{dl(5,s,s.return)}catch(Le){nn(s,s.return,Le)}}break;case 1:Kr(l,s),di(s),m&512&&f!==null&&Hs(f,f.return);break;case 5:if(Kr(l,s),di(s),m&512&&f!==null&&Hs(f,f.return),s.flags&32){var y=s.stateNode;try{Fe(y,"")}catch(Le){nn(s,s.return,Le)}}if(m&4&&(y=s.stateNode,y!=null)){var k=s.memoizedProps,_=f!==null?f.memoizedProps:k,j=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{j==="input"&&k.type==="radio"&&k.name!=null&&Ft(y,k),yt(j,_);var X=yt(j,k);for(_=0;_<V.length;_+=2){var fe=V[_],he=V[_+1];fe==="style"?In(y,he):fe==="dangerouslySetInnerHTML"?Me(y,he):fe==="children"?Fe(y,he):R(y,fe,he,X)}switch(j){case"input":Qe(y,k);break;case"textarea":ct(y,k);break;case"select":var ue=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!k.multiple;var Pe=k.value;Pe!=null?tt(y,!!k.multiple,Pe,!1):ue!==!!k.multiple&&(k.defaultValue!=null?tt(y,!!k.multiple,k.defaultValue,!0):tt(y,!!k.multiple,k.multiple?[]:"",!1))}y[el]=k}catch(Le){nn(s,s.return,Le)}}break;case 6:if(Kr(l,s),di(s),m&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,k=s.memoizedProps;try{y.nodeValue=k}catch(Le){nn(s,s.return,Le)}}break;case 3:if(Kr(l,s),di(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Va(l.containerInfo)}catch(Le){nn(s,s.return,Le)}break;case 4:Kr(l,s),di(s);break;case 13:Kr(l,s),di(s),y=s.child,y.flags&8192&&(k=y.memoizedState!==null,y.stateNode.isHidden=k,!k||y.alternate!==null&&y.alternate.memoizedState!==null||(dh=cn())),m&4&&Mb(s);break;case 22:if(fe=f!==null&&f.memoizedState!==null,s.mode&1?(Un=(X=Un)||fe,Kr(l,s),Un=X):Kr(l,s),di(s),m&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!fe&&(s.mode&1)!==0)for(_e=s,fe=s.child;fe!==null;){for(he=_e=fe;_e!==null;){switch(ue=_e,Pe=ue.child,ue.tag){case 0:case 11:case 14:case 15:dl(4,ue,ue.return);break;case 1:Hs(ue,ue.return);var Ne=ue.stateNode;if(typeof Ne.componentWillUnmount=="function"){m=ue,f=ue.return;try{l=m,Ne.props=l.memoizedProps,Ne.state=l.memoizedState,Ne.componentWillUnmount()}catch(Le){nn(m,f,Le)}}break;case 5:Hs(ue,ue.return);break;case 22:if(ue.memoizedState!==null){Db(he);continue}}Pe!==null?(Pe.return=ue,_e=Pe):Db(he)}fe=fe.sibling}e:for(fe=null,he=s;;){if(he.tag===5){if(fe===null){fe=he;try{y=he.stateNode,X?(k=y.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(j=he.stateNode,V=he.memoizedProps.style,_=V!=null&&V.hasOwnProperty("display")?V.display:null,j.style.display=gt("display",_))}catch(Le){nn(s,s.return,Le)}}}else if(he.tag===6){if(fe===null)try{he.stateNode.nodeValue=X?"":he.memoizedProps}catch(Le){nn(s,s.return,Le)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;fe===he&&(fe=null),he=he.return}fe===he&&(fe=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Kr(l,s),di(s),m&4&&Mb(s);break;case 21:break;default:Kr(l,s),di(s)}}function di(s){var l=s.flags;if(l&2){try{e:{for(var f=s.return;f!==null;){if(Ib(f)){var m=f;break e}f=f.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Fe(y,""),m.flags&=-33);var k=_b(s);lh(s,k,y);break;case 3:case 4:var _=m.stateNode.containerInfo,j=_b(s);ah(s,j,_);break;default:throw Error(n(161))}}catch(V){nn(s,s.return,V)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function sR(s,l,f){_e=s,Nb(s)}function Nb(s,l,f){for(var m=(s.mode&1)!==0;_e!==null;){var y=_e,k=y.child;if(y.tag===22&&m){var _=y.memoizedState!==null||Cu;if(!_){var j=y.alternate,V=j!==null&&j.memoizedState!==null||Un;j=Cu;var X=Un;if(Cu=_,(Un=V)&&!X)for(_e=y;_e!==null;)_=_e,V=_.child,_.tag===22&&_.memoizedState!==null?Fb(y):V!==null?(V.return=_,_e=V):Fb(y);for(;k!==null;)_e=k,Nb(k),k=k.sibling;_e=y,Cu=j,Un=X}Lb(s)}else(y.subtreeFlags&8772)!==0&&k!==null?(k.return=y,_e=k):Lb(s)}}function Lb(s){for(;_e!==null;){var l=_e;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Un||xu(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Un)if(f===null)m.componentDidMount();else{var y=l.elementType===l.type?f.memoizedProps:Wr(l.type,f.memoizedProps);m.componentDidUpdate(y,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&D0(l,k,m);break;case 3:var _=l.updateQueue;if(_!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}D0(l,_,f)}break;case 5:var j=l.stateNode;if(f===null&&l.flags&4){f=j;var V=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&f.focus();break;case"img":V.src&&(f.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var X=l.alternate;if(X!==null){var fe=X.memoizedState;if(fe!==null){var he=fe.dehydrated;he!==null&&Va(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Un||l.flags&512&&sh(l)}catch(ue){nn(l,l.return,ue)}}if(l===s){_e=null;break}if(f=l.sibling,f!==null){f.return=l.return,_e=f;break}_e=l.return}}function Db(s){for(;_e!==null;){var l=_e;if(l===s){_e=null;break}var f=l.sibling;if(f!==null){f.return=l.return,_e=f;break}_e=l.return}}function Fb(s){for(;_e!==null;){var l=_e;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{xu(4,l)}catch(V){nn(l,f,V)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(V){nn(l,y,V)}}var k=l.return;try{sh(l)}catch(V){nn(l,k,V)}break;case 5:var _=l.return;try{sh(l)}catch(V){nn(l,_,V)}}}catch(V){nn(l,l.return,V)}if(l===s){_e=null;break}var j=l.sibling;if(j!==null){j.return=l.return,_e=j;break}_e=l.return}}var aR=Math.ceil,wu=P.ReactCurrentDispatcher,ch=P.ReactCurrentOwner,Mr=P.ReactCurrentBatchConfig,vt=0,wn=null,pn=null,On=0,gr=0,Ws=fo(0),bn=0,fl=null,Qo=0,Tu=0,uh=0,pl=null,Zn=null,dh=0,qs=1/0,Hi=null,Eu=!1,fh=null,yo=null,Pu=!1,bo=null,Ru=0,hl=0,ph=null,Iu=-1,_u=0;function Gn(){return(vt&6)!==0?cn():Iu!==-1?Iu:Iu=cn()}function So(s){return(s.mode&1)===0?1:(vt&2)!==0&&On!==0?On&-On:HP.transition!==null?(_u===0&&(_u=_y()),_u):(s=Mt,s!==0||(s=window.event,s=s===void 0?16:Uy(s.type)),s)}function Gr(s,l,f,m){if(50<hl)throw hl=0,ph=null,Error(n(185));ja(s,f,m),((vt&2)===0||s!==wn)&&(s===wn&&((vt&2)===0&&(Tu|=f),bn===4&&ko(s,On)),er(s,m),f===1&&vt===0&&(l.mode&1)===0&&(qs=cn()+500,iu&&ho()))}function er(s,l){var f=s.callbackNode;H2(s,l);var m=Uc(s,s===wn?On:0);if(m===0)f!==null&&Py(f),s.callbackNode=null,s.callbackPriority=0;else if(l=m&-m,s.callbackPriority!==l){if(f!=null&&Py(f),l===1)s.tag===0?VP(Ub.bind(null,s)):w0(Ub.bind(null,s)),UP(function(){(vt&6)===0&&ho()}),f=null;else{switch(Oy(m)){case 1:f=qf;break;case 4:f=Ry;break;case 16:f=Lc;break;case 536870912:f=Iy;break;default:f=Lc}f=Kb(f,jb.bind(null,s))}s.callbackPriority=l,s.callbackNode=f}}function jb(s,l){if(Iu=-1,_u=0,(vt&6)!==0)throw Error(n(327));var f=s.callbackNode;if(Ks()&&s.callbackNode!==f)return null;var m=Uc(s,s===wn?On:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||l)l=Ou(s,m);else{l=m;var y=vt;vt|=2;var k=zb();(wn!==s||On!==l)&&(Hi=null,qs=cn()+500,Xo(s,l));do try{uR();break}catch(j){Bb(s,j)}while(!0);Op(),wu.current=k,vt=y,pn!==null?l=0:(wn=null,On=0,l=bn)}if(l!==0){if(l===2&&(y=Kf(s),y!==0&&(m=y,l=hh(s,y))),l===1)throw f=fl,Xo(s,0),ko(s,m),er(s,cn()),f;if(l===6)ko(s,m);else{if(y=s.current.alternate,(m&30)===0&&!lR(y)&&(l=Ou(s,m),l===2&&(k=Kf(s),k!==0&&(m=k,l=hh(s,k))),l===1))throw f=fl,Xo(s,0),ko(s,m),er(s,cn()),f;switch(s.finishedWork=y,s.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:Zo(s,Zn,Hi);break;case 3:if(ko(s,m),(m&130023424)===m&&(l=dh+500-cn(),10<l)){if(Uc(s,0)!==0)break;if(y=s.suspendedLanes,(y&m)!==m){Gn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Sp(Zo.bind(null,s,Zn,Hi),l);break}Zo(s,Zn,Hi);break;case 4:if(ko(s,m),(m&4194240)===m)break;for(l=s.eventTimes,y=-1;0<m;){var _=31-$r(m);k=1<<_,_=l[_],_>y&&(y=_),m&=~k}if(m=y,m=cn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*aR(m/1960))-m,10<m){s.timeoutHandle=Sp(Zo.bind(null,s,Zn,Hi),m);break}Zo(s,Zn,Hi);break;case 5:Zo(s,Zn,Hi);break;default:throw Error(n(329))}}}return er(s,cn()),s.callbackNode===f?jb.bind(null,s):null}function hh(s,l){var f=pl;return s.current.memoizedState.isDehydrated&&(Xo(s,l).flags|=256),s=Ou(s,l),s!==2&&(l=Zn,Zn=f,l!==null&&mh(l)),s}function mh(s){Zn===null?Zn=s:Zn.push.apply(Zn,s)}function lR(s){for(var l=s;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var y=f[m],k=y.getSnapshot;y=y.value;try{if(!Vr(k(),y))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ko(s,l){for(l&=~uh,l&=~Tu,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var f=31-$r(l),m=1<<f;s[f]=-1,l&=~m}}function Ub(s){if((vt&6)!==0)throw Error(n(327));Ks();var l=Uc(s,0);if((l&1)===0)return er(s,cn()),null;var f=Ou(s,l);if(s.tag!==0&&f===2){var m=Kf(s);m!==0&&(l=m,f=hh(s,m))}if(f===1)throw f=fl,Xo(s,0),ko(s,l),er(s,cn()),f;if(f===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Zo(s,Zn,Hi),er(s,cn()),null}function gh(s,l){var f=vt;vt|=1;try{return s(l)}finally{vt=f,vt===0&&(qs=cn()+500,iu&&ho())}}function Jo(s){bo!==null&&bo.tag===0&&(vt&6)===0&&Ks();var l=vt;vt|=1;var f=Mr.transition,m=Mt;try{if(Mr.transition=null,Mt=1,s)return s()}finally{Mt=m,Mr.transition=f,vt=l,(vt&6)===0&&ho()}}function vh(){gr=Ws.current,qt(Ws)}function Xo(s,l){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,jP(f)),pn!==null)for(f=pn.return;f!==null;){var m=f;switch(Ep(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&nu();break;case 3:$s(),qt(Qn),qt(Dn),Up();break;case 5:Fp(m);break;case 4:$s();break;case 13:qt(Zt);break;case 19:qt(Zt);break;case 10:Mp(m.type._context);break;case 22:case 23:vh()}f=f.return}if(wn=s,pn=s=Co(s.current,null),On=gr=l,bn=0,fl=null,uh=Tu=Qo=0,Zn=pl=null,Ko!==null){for(l=0;l<Ko.length;l++)if(f=Ko[l],m=f.interleaved,m!==null){f.interleaved=null;var y=m.next,k=f.pending;if(k!==null){var _=k.next;k.next=y,m.next=_}f.pending=m}Ko=null}return s}function Bb(s,l){do{var f=pn;try{if(Op(),hu.current=yu,mu){for(var m=en.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}mu=!1}if(Yo=0,xn=yn=en=null,sl=!1,al=0,ch.current=null,f===null||f.return===null){bn=1,fl=l,pn=null;break}e:{var k=s,_=f.return,j=f,V=l;if(l=On,j.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var X=V,fe=j,he=fe.tag;if((fe.mode&1)===0&&(he===0||he===11||he===15)){var ue=fe.alternate;ue?(fe.updateQueue=ue.updateQueue,fe.memoizedState=ue.memoizedState,fe.lanes=ue.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Pe=db(_);if(Pe!==null){Pe.flags&=-257,fb(Pe,_,j,k,l),Pe.mode&1&&ub(k,X,l),l=Pe,V=X;var Ne=l.updateQueue;if(Ne===null){var Le=new Set;Le.add(V),l.updateQueue=Le}else Ne.add(V);break e}else{if((l&1)===0){ub(k,X,l),yh();break e}V=Error(n(426))}}else if(Qt&&j.mode&1){var un=db(_);if(un!==null){(un.flags&65536)===0&&(un.flags|=256),fb(un,_,j,k,l),Ip(Vs(V,j));break e}}k=V=Vs(V,j),bn!==4&&(bn=2),pl===null?pl=[k]:pl.push(k),k=_;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var G=lb(k,V,l);L0(k,G);break e;case 1:j=V;var H=k.type,Q=k.stateNode;if((k.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(yo===null||!yo.has(Q)))){k.flags|=65536,l&=-l,k.lanes|=l;var be=cb(k,j,l);L0(k,be);break e}}k=k.return}while(k!==null)}Vb(f)}catch(De){l=De,pn===f&&f!==null&&(pn=f=f.return);continue}break}while(!0)}function zb(){var s=wu.current;return wu.current=yu,s===null?yu:s}function yh(){(bn===0||bn===3||bn===2)&&(bn=4),wn===null||(Qo&268435455)===0&&(Tu&268435455)===0||ko(wn,On)}function Ou(s,l){var f=vt;vt|=2;var m=zb();(wn!==s||On!==l)&&(Hi=null,Xo(s,l));do try{cR();break}catch(y){Bb(s,y)}while(!0);if(Op(),vt=f,wu.current=m,pn!==null)throw Error(n(261));return wn=null,On=0,bn}function cR(){for(;pn!==null;)$b(pn)}function uR(){for(;pn!==null&&!L2();)$b(pn)}function $b(s){var l=qb(s.alternate,s,gr);s.memoizedProps=s.pendingProps,l===null?Vb(s):pn=l,ch.current=null}function Vb(s){var l=s;do{var f=l.alternate;if(s=l.return,(l.flags&32768)===0){if(f=nR(f,l,gr),f!==null){pn=f;return}}else{if(f=rR(f,l),f!==null){f.flags&=32767,pn=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{bn=6,pn=null;return}}if(l=l.sibling,l!==null){pn=l;return}pn=l=s}while(l!==null);bn===0&&(bn=5)}function Zo(s,l,f){var m=Mt,y=Mr.transition;try{Mr.transition=null,Mt=1,dR(s,l,f,m)}finally{Mr.transition=y,Mt=m}return null}function dR(s,l,f,m){do Ks();while(bo!==null);if((vt&6)!==0)throw Error(n(327));f=s.finishedWork;var y=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var k=f.lanes|f.childLanes;if(W2(s,k),s===wn&&(pn=wn=null,On=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Pu||(Pu=!0,Kb(Lc,function(){return Ks(),null})),k=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||k){k=Mr.transition,Mr.transition=null;var _=Mt;Mt=1;var j=vt;vt|=4,ch.current=null,oR(s,f),Ab(f,s),OP(yp),$c=!!vp,yp=vp=null,s.current=f,sR(f),D2(),vt=j,Mt=_,Mr.transition=k}else s.current=f;if(Pu&&(Pu=!1,bo=s,Ru=y),k=s.pendingLanes,k===0&&(yo=null),U2(f.stateNode),er(s,cn()),l!==null)for(m=s.onRecoverableError,f=0;f<l.length;f++)y=l[f],m(y.value,{componentStack:y.stack,digest:y.digest});if(Eu)throw Eu=!1,s=fh,fh=null,s;return(Ru&1)!==0&&s.tag!==0&&Ks(),k=s.pendingLanes,(k&1)!==0?s===ph?hl++:(hl=0,ph=s):hl=0,ho(),null}function Ks(){if(bo!==null){var s=Oy(Ru),l=Mr.transition,f=Mt;try{if(Mr.transition=null,Mt=16>s?16:s,bo===null)var m=!1;else{if(s=bo,bo=null,Ru=0,(vt&6)!==0)throw Error(n(331));var y=vt;for(vt|=4,_e=s.current;_e!==null;){var k=_e,_=k.child;if((_e.flags&16)!==0){var j=k.deletions;if(j!==null){for(var V=0;V<j.length;V++){var X=j[V];for(_e=X;_e!==null;){var fe=_e;switch(fe.tag){case 0:case 11:case 15:dl(8,fe,k)}var he=fe.child;if(he!==null)he.return=fe,_e=he;else for(;_e!==null;){fe=_e;var ue=fe.sibling,Pe=fe.return;if(Rb(fe),fe===X){_e=null;break}if(ue!==null){ue.return=Pe,_e=ue;break}_e=Pe}}}var Ne=k.alternate;if(Ne!==null){var Le=Ne.child;if(Le!==null){Ne.child=null;do{var un=Le.sibling;Le.sibling=null,Le=un}while(Le!==null)}}_e=k}}if((k.subtreeFlags&2064)!==0&&_!==null)_.return=k,_e=_;else e:for(;_e!==null;){if(k=_e,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:dl(9,k,k.return)}var G=k.sibling;if(G!==null){G.return=k.return,_e=G;break e}_e=k.return}}var H=s.current;for(_e=H;_e!==null;){_=_e;var Q=_.child;if((_.subtreeFlags&2064)!==0&&Q!==null)Q.return=_,_e=Q;else e:for(_=H;_e!==null;){if(j=_e,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:xu(9,j)}}catch(De){nn(j,j.return,De)}if(j===_){_e=null;break e}var be=j.sibling;if(be!==null){be.return=j.return,_e=be;break e}_e=j.return}}if(vt=y,ho(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(Dc,s)}catch{}m=!0}return m}finally{Mt=f,Mr.transition=l}}return!1}function Hb(s,l,f){l=Vs(f,l),l=lb(s,l,1),s=go(s,l,1),l=Gn(),s!==null&&(ja(s,1,l),er(s,l))}function nn(s,l,f){if(s.tag===3)Hb(s,s,f);else for(;l!==null;){if(l.tag===3){Hb(l,s,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(yo===null||!yo.has(m))){s=Vs(f,s),s=cb(l,s,1),l=go(l,s,1),s=Gn(),l!==null&&(ja(l,1,s),er(l,s));break}}l=l.return}}function fR(s,l,f){var m=s.pingCache;m!==null&&m.delete(l),l=Gn(),s.pingedLanes|=s.suspendedLanes&f,wn===s&&(On&f)===f&&(bn===4||bn===3&&(On&130023424)===On&&500>cn()-dh?Xo(s,0):uh|=f),er(s,l)}function Wb(s,l){l===0&&((s.mode&1)===0?l=1:(l=jc,jc<<=1,(jc&130023424)===0&&(jc=4194304)));var f=Gn();s=zi(s,l),s!==null&&(ja(s,l,f),er(s,f))}function pR(s){var l=s.memoizedState,f=0;l!==null&&(f=l.retryLane),Wb(s,f)}function hR(s,l){var f=0;switch(s.tag){case 13:var m=s.stateNode,y=s.memoizedState;y!==null&&(f=y.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),Wb(s,f)}var qb;qb=function(s,l,f){if(s!==null)if(s.memoizedProps!==l.pendingProps||Qn.current)Xn=!0;else{if((s.lanes&f)===0&&(l.flags&128)===0)return Xn=!1,tR(s,l,f);Xn=(s.flags&131072)!==0}else Xn=!1,Qt&&(l.flags&1048576)!==0&&T0(l,su,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;ku(s,l),s=l.pendingProps;var y=Ls(l,Dn.current);zs(l,f),y=$p(null,l,m,s,y,f);var k=Vp();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Jn(m)?(k=!0,ru(l)):k=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Lp(l),y.updater=bu,l.stateNode=y,y._reactInternals=l,Yp(l,m,s,f),l=Zp(null,l,m,!0,k,f)):(l.tag=0,Qt&&k&&Tp(l),Kn(null,l,y,f),l=l.child),l;case 16:m=l.elementType;e:{switch(ku(s,l),s=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=gR(m),s=Wr(m,s),y){case 0:l=Xp(null,l,m,s,f);break e;case 1:l=yb(null,l,m,s,f);break e;case 11:l=pb(null,l,m,s,f);break e;case 14:l=hb(null,l,m,Wr(m.type,s),f);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Wr(m,y),Xp(s,l,m,y,f);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Wr(m,y),yb(s,l,m,y,f);case 3:e:{if(bb(l),s===null)throw Error(n(387));m=l.pendingProps,k=l.memoizedState,y=k.element,N0(s,l),fu(l,m,null,f);var _=l.memoizedState;if(m=_.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){y=Vs(Error(n(423)),l),l=Sb(s,l,m,f,y);break e}else if(m!==y){y=Vs(Error(n(424)),l),l=Sb(s,l,m,f,y);break e}else for(mr=uo(l.stateNode.containerInfo.firstChild),hr=l,Qt=!0,Hr=null,f=M0(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(js(),m===y){l=Vi(s,l,f);break e}Kn(s,l,m,f)}l=l.child}return l;case 5:return F0(l),s===null&&Rp(l),m=l.type,y=l.pendingProps,k=s!==null?s.memoizedProps:null,_=y.children,bp(m,y)?_=null:k!==null&&bp(m,k)&&(l.flags|=32),vb(s,l),Kn(s,l,_,f),l.child;case 6:return s===null&&Rp(l),null;case 13:return kb(s,l,f);case 4:return Dp(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Us(l,null,m,f):Kn(s,l,m,f),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Wr(m,y),pb(s,l,m,y,f);case 7:return Kn(s,l,l.pendingProps,f),l.child;case 8:return Kn(s,l,l.pendingProps.children,f),l.child;case 12:return Kn(s,l,l.pendingProps.children,f),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,k=l.memoizedProps,_=y.value,zt(cu,m._currentValue),m._currentValue=_,k!==null)if(Vr(k.value,_)){if(k.children===y.children&&!Qn.current){l=Vi(s,l,f);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var j=k.dependencies;if(j!==null){_=k.child;for(var V=j.firstContext;V!==null;){if(V.context===m){if(k.tag===1){V=$i(-1,f&-f),V.tag=2;var X=k.updateQueue;if(X!==null){X=X.shared;var fe=X.pending;fe===null?V.next=V:(V.next=fe.next,fe.next=V),X.pending=V}}k.lanes|=f,V=k.alternate,V!==null&&(V.lanes|=f),Ap(k.return,f,l),j.lanes|=f;break}V=V.next}}else if(k.tag===10)_=k.type===l.type?null:k.child;else if(k.tag===18){if(_=k.return,_===null)throw Error(n(341));_.lanes|=f,j=_.alternate,j!==null&&(j.lanes|=f),Ap(_,f,l),_=k.sibling}else _=k.child;if(_!==null)_.return=k;else for(_=k;_!==null;){if(_===l){_=null;break}if(k=_.sibling,k!==null){k.return=_.return,_=k;break}_=_.return}k=_}Kn(s,l,y.children,f),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,zs(l,f),y=_r(y),m=m(y),l.flags|=1,Kn(s,l,m,f),l.child;case 14:return m=l.type,y=Wr(m,l.pendingProps),y=Wr(m.type,y),hb(s,l,m,y,f);case 15:return mb(s,l,l.type,l.pendingProps,f);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Wr(m,y),ku(s,l),l.tag=1,Jn(m)?(s=!0,ru(l)):s=!1,zs(l,f),sb(l,m,y),Yp(l,m,y,f),Zp(null,l,m,!0,s,f);case 19:return xb(s,l,f);case 22:return gb(s,l,f)}throw Error(n(156,l.tag))};function Kb(s,l){return Ey(s,l)}function mR(s,l,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,l,f,m){return new mR(s,l,f,m)}function bh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gR(s){if(typeof s=="function")return bh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===q)return 14}return 2}function Co(s,l){var f=s.alternate;return f===null?(f=Ar(s.tag,l,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=l,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,l=s.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Mu(s,l,f,m,y,k){var _=2;if(m=s,typeof s=="function")bh(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case D:return es(f.children,y,k,l);case B:_=8,y|=8;break;case U:return s=Ar(12,f,l,y|2),s.elementType=U,s.lanes=k,s;case W:return s=Ar(13,f,l,y),s.elementType=W,s.lanes=k,s;case K:return s=Ar(19,f,l,y),s.elementType=K,s.lanes=k,s;case le:return Au(f,y,k,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:_=10;break e;case N:_=9;break e;case $:_=11;break e;case q:_=14;break e;case ne:_=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=Ar(_,f,l,y),l.elementType=s,l.type=m,l.lanes=k,l}function es(s,l,f,m){return s=Ar(7,s,m,l),s.lanes=f,s}function Au(s,l,f,m){return s=Ar(22,s,m,l),s.elementType=le,s.lanes=f,s.stateNode={isHidden:!1},s}function Sh(s,l,f){return s=Ar(6,s,null,l),s.lanes=f,s}function kh(s,l,f){return l=Ar(4,s.children!==null?s.children:[],s.key,l),l.lanes=f,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function vR(s,l,f,m,y){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gf(0),this.expirationTimes=Gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gf(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Ch(s,l,f,m,y,k,_,j,V){return s=new vR(s,l,f,j,V),l===1?(l=1,k===!0&&(l|=8)):l=0,k=Ar(3,null,null,l),s.current=k,k.stateNode=s,k.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lp(k),s}function yR(s,l,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:m==null?null:""+m,children:s,containerInfo:l,implementation:f}}function Gb(s){if(!s)return po;s=s._reactInternals;e:{if(Di(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Jn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var f=s.type;if(Jn(f))return C0(s,f,l)}return l}function Yb(s,l,f,m,y,k,_,j,V){return s=Ch(f,m,!0,s,y,k,_,j,V),s.context=Gb(null),f=s.current,m=Gn(),y=So(f),k=$i(m,y),k.callback=l??null,go(f,k,y),s.current.lanes=y,ja(s,y,m),er(s,m),s}function Nu(s,l,f,m){var y=l.current,k=Gn(),_=So(y);return f=Gb(f),l.context===null?l.context=f:l.pendingContext=f,l=$i(k,_),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=go(y,l,_),s!==null&&(Gr(s,y,_,k),du(s,y,_)),_}function Lu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Qb(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<l?f:l}}function xh(s,l){Qb(s,l),(s=s.alternate)&&Qb(s,l)}function bR(){return null}var Jb=typeof reportError=="function"?reportError:function(s){console.error(s)};function wh(s){this._internalRoot=s}Du.prototype.render=wh.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Nu(s,l,null,null)},Du.prototype.unmount=wh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Jo(function(){Nu(null,s,null,null)}),l[Fi]=null}};function Du(s){this._internalRoot=s}Du.prototype.unstable_scheduleHydration=function(s){if(s){var l=Ny();s={blockedOn:null,target:s,priority:l};for(var f=0;f<ao.length&&l!==0&&l<ao[f].priority;f++);ao.splice(f,0,s),f===0&&Fy(s)}};function Th(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Xb(){}function SR(s,l,f,m,y){if(y){if(typeof m=="function"){var k=m;m=function(){var X=Lu(_);k.call(X)}}var _=Yb(l,m,s,0,null,!1,!1,"",Xb);return s._reactRootContainer=_,s[Fi]=_.current,Xa(s.nodeType===8?s.parentNode:s),Jo(),_}for(;y=s.lastChild;)s.removeChild(y);if(typeof m=="function"){var j=m;m=function(){var X=Lu(V);j.call(X)}}var V=Ch(s,0,!1,null,null,!1,!1,"",Xb);return s._reactRootContainer=V,s[Fi]=V.current,Xa(s.nodeType===8?s.parentNode:s),Jo(function(){Nu(l,V,f,m)}),V}function ju(s,l,f,m,y){var k=f._reactRootContainer;if(k){var _=k;if(typeof y=="function"){var j=y;y=function(){var V=Lu(_);j.call(V)}}Nu(l,_,s,y)}else _=SR(f,l,s,y,m);return Lu(_)}My=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var f=Fa(l.pendingLanes);f!==0&&(Yf(l,f|1),er(l,cn()),(vt&6)===0&&(qs=cn()+500,ho()))}break;case 13:Jo(function(){var m=zi(s,1);if(m!==null){var y=Gn();Gr(m,s,1,y)}}),xh(s,1)}},Qf=function(s){if(s.tag===13){var l=zi(s,134217728);if(l!==null){var f=Gn();Gr(l,s,134217728,f)}xh(s,134217728)}},Ay=function(s){if(s.tag===13){var l=So(s),f=zi(s,l);if(f!==null){var m=Gn();Gr(f,s,l,m)}xh(s,l)}},Ny=function(){return Mt},Ly=function(s,l){var f=Mt;try{return Mt=s,l()}finally{Mt=f}},Li=function(s,l,f){switch(l){case"input":if(Qe(s,f),l=f.name,f.type==="radio"&&l!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==s&&m.form===s.form){var y=tu(m);if(!y)throw Error(n(90));He(m),Qe(m,y)}}}break;case"textarea":ct(s,f);break;case"select":l=f.value,l!=null&&tt(s,!!f.multiple,l,!1)}},$o=gh,et=Jo;var kR={usingClientEntryPoint:!1,Events:[tl,As,tu,xs,ws,gh]},ml={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CR={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Da(s),s===null?null:s.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||bR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Dc=Uu.inject(CR),ai=Uu}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kR,tr.createPortal=function(s,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(l))throw Error(n(200));return yR(s,l,null,f)},tr.createRoot=function(s,l){if(!Th(s))throw Error(n(299));var f=!1,m="",y=Jb;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=Ch(s,1,!1,null,null,f,!1,m,y),s[Fi]=l.current,Xa(s.nodeType===8?s.parentNode:s),new wh(l)},tr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Da(l),s=s===null?null:s.stateNode,s},tr.flushSync=function(s){return Jo(s)},tr.hydrate=function(s,l,f){if(!Fu(l))throw Error(n(200));return ju(null,s,l,!0,f)},tr.hydrateRoot=function(s,l,f){if(!Th(s))throw Error(n(405));var m=f!=null&&f.hydratedSources||null,y=!1,k="",_=Jb;if(f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(_=f.onRecoverableError)),l=Yb(l,null,s,1,f??null,y,!1,k,_),s[Fi]=l.current,Xa(s),m)for(s=0;s<m.length;s++)f=m[s],y=f._getVersion,y=y(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,y]:l.mutableSourceEagerHydrationData.push(f,y);return new Du(l)},tr.render=function(s,l,f){if(!Fu(l))throw Error(n(200));return ju(null,s,l,!1,f)},tr.unmountComponentAtNode=function(s){if(!Fu(s))throw Error(n(40));return s._reactRootContainer?(Jo(function(){ju(null,null,s,!1,function(){s._reactRootContainer=null,s[Fi]=null})}),!0):!1},tr.unstable_batchedUpdates=gh,tr.unstable_renderSubtreeIntoContainer=function(s,l,f,m){if(!Fu(f))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return ju(s,l,f,!1,m)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var s1;function zC(){if(s1)return Rh.exports;s1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rh.exports=MR(),Rh.exports}var a1;function AR(){if(a1)return Bu;a1=1;var e=zC();return Bu.createRoot=e.createRoot,Bu.hydrateRoot=e.hydrateRoot,Bu}var NR=AR();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l1="popstate";function LR(e={}){function t(r,i){let{pathname:o,search:a,hash:c}=r.location;return Nm("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xl(i)}return FR(t,n,null,e)}function tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DR(){return Math.random().toString(36).substring(2,10)}function c1(e,t){return{usr:e.state,key:e.key,idx:t}}function Nm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Pa(t):t,state:n,key:t&&t.key||r||DR()}}function Xl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Pa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function FR(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c="POP",u=null,d=p();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function p(){return(a.state||{idx:null}).idx}function h(){c="POP";let x=p(),C=x==null?null:x-d;d=x,u&&u({action:c,location:b.location,delta:C})}function g(x,C){c="PUSH";let O=Nm(b.location,x,C);d=p()+1;let R=c1(O,d),P=b.createHref(O);try{a.pushState(R,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(P)}o&&u&&u({action:c,location:b.location,delta:1})}function v(x,C){c="REPLACE";let O=Nm(b.location,x,C);d=p();let R=c1(O,d),P=b.createHref(O);a.replaceState(R,"",P),o&&u&&u({action:c,location:b.location,delta:0})}function S(x){return jR(x)}let b={get action(){return c},get location(){return e(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(l1,h),u=x,()=>{i.removeEventListener(l1,h),u=null}},createHref(x){return t(i,x)},createURL:S,encodeLocation(x){let C=S(x);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:v,go(x){return a.go(x)}};return b}function jR(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Xl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $C(e,t,n="/"){return UR(e,t,n,!1)}function UR(e,t,n,r){let i=typeof t=="string"?Pa(t):t,o=eo(i.pathname||"/",n);if(o==null)return null;let a=VC(e);BR(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=JR(o);c=YR(a[u],d,r)}return c}function VC(e,t=[],n=[],r=""){let i=(o,a,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(tn(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=Zi([r,u.relativePath]),p=n.concat(u);o.children&&o.children.length>0&&(tn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),VC(o.children,t,p,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:KR(d,o.index),routesMeta:p})};return e.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,a);else for(let u of HC(o.path))i(o,a,u)}),t}function HC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=HC(r.join("/")),c=[];return c.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...a),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function BR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:GR(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var zR=/^:[\w-]+$/,$R=3,VR=2,HR=1,WR=10,qR=-2,u1=e=>e==="*";function KR(e,t){let n=e.split("/"),r=n.length;return n.some(u1)&&(r+=qR),t&&(r+=VR),n.filter(i=>!u1(i)).reduce((i,o)=>i+(zR.test(o)?$R:o===""?HR:WR),r)}function GR(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function YR(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",h=_d({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),g=u.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=_d({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Zi([o,h.pathname]),pathnameBase:tI(Zi([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=Zi([o,h.pathnameBase]))}return a}function _d(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=QR(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:h},g)=>{if(p==="*"){let S=c[g]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=c[g];return h&&!v?d[p]=void 0:d[p]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:e}}function QR(e,t=!1,n=!0){Pi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function JR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function eo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function XR(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Pa(e):e;return{pathname:n?n.startsWith("/")?n:ZR(n,t):t,search:nI(r),hash:rI(i)}}function ZR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Oh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function WC(e){let t=eI(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function qC(e,t,n,r=!1){let i;typeof e=="string"?i=Pa(e):(i={...e},tn(!i.pathname||!i.pathname.includes("?"),Oh("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),Oh("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),Oh("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,c;if(a==null)c=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}c=h>=0?t[h]:"/"}let u=XR(i,c),d=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}var Zi=e=>e.join("/").replace(/\/\/+/g,"/"),tI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var KC=["POST","PUT","PATCH","DELETE"];new Set(KC);var oI=["GET",...KC];new Set(oI);var Ra=w.createContext(null);Ra.displayName="DataRouter";var nf=w.createContext(null);nf.displayName="DataRouterState";w.createContext(!1);var GC=w.createContext({isTransitioning:!1});GC.displayName="ViewTransition";var sI=w.createContext(new Map);sI.displayName="Fetchers";var aI=w.createContext(null);aI.displayName="Await";var Oi=w.createContext(null);Oi.displayName="Navigation";var dc=w.createContext(null);dc.displayName="Location";var Mi=w.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var ev=w.createContext(null);ev.displayName="RouteError";function lI(e,{relative:t}={}){tn(fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Oi),{hash:i,pathname:o,search:a}=pc(e,{relative:t}),c=o;return n!=="/"&&(c=o==="/"?n:Zi([n,o])),r.createHref({pathname:c,search:a,hash:i})}function fc(){return w.useContext(dc)!=null}function vs(){return tn(fc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(dc).location}var YC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QC(e){w.useContext(Oi).static||w.useLayoutEffect(e)}function cI(){let{isDataRoute:e}=w.useContext(Mi);return e?xI():uI()}function uI(){tn(fc(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Ra),{basename:t,navigator:n}=w.useContext(Oi),{matches:r}=w.useContext(Mi),{pathname:i}=vs(),o=JSON.stringify(WC(r)),a=w.useRef(!1);return QC(()=>{a.current=!0}),w.useCallback((u,d={})=>{if(Pi(a.current,YC),!a.current)return;if(typeof u=="number"){n.go(u);return}let p=qC(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Zi([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,o,i,e])}w.createContext(null);function dI(){let{matches:e}=w.useContext(Mi),t=e[e.length-1];return t?t.params:{}}function pc(e,{relative:t}={}){let{matches:n}=w.useContext(Mi),{pathname:r}=vs(),i=JSON.stringify(WC(n));return w.useMemo(()=>qC(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function fI(e,t){return JC(e,t)}function JC(e,t,n,r){var C;tn(fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(Oi),{matches:o}=w.useContext(Mi),a=o[o.length-1],c=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",p=a&&a.route;{let O=p&&p.path||"";XC(u,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let h=vs(),g;if(t){let O=typeof t=="string"?Pa(t):t;tn(d==="/"||((C=O.pathname)==null?void 0:C.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${O.pathname}" was given in the \`location\` prop.`),g=O}else g=h;let v=g.pathname||"/",S=v;if(d!=="/"){let O=d.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(O.length).join("/")}let b=$C(e,{pathname:S});Pi(p||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Pi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=vI(b&&b.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:Zi([d,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:Zi([d,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,n,r);return t&&x?w.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function pI(){let e=CI(),t=iI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,a)}var hI=w.createElement(pI,null),mI=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Mi.Provider,{value:this.props.routeContext},w.createElement(ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gI({routeContext:e,match:t,children:n}){let r=w.useContext(Ra);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Mi.Provider,{value:e},n)}function vI(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);tn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:h}=n,g=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){a=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,p)=>{let h,g=!1,v=null,S=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||hI,a&&(c<0&&p===0?(XC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,S=null):c===p&&(g=!0,S=d.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,p+1)),x=()=>{let C;return h?C=v:g?C=S:d.route.Component?C=w.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,w.createElement(gI,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?w.createElement(mI,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}function tv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yI(e){let t=w.useContext(Ra);return tn(t,tv(e)),t}function bI(e){let t=w.useContext(nf);return tn(t,tv(e)),t}function SI(e){let t=w.useContext(Mi);return tn(t,tv(e)),t}function nv(e){let t=SI(e),n=t.matches[t.matches.length-1];return tn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function kI(){return nv("useRouteId")}function CI(){var r;let e=w.useContext(ev),t=bI("useRouteError"),n=nv("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function xI(){let{router:e}=yI("useNavigate"),t=nv("useNavigate"),n=w.useRef(!1);return QC(()=>{n.current=!0}),w.useCallback(async(i,o={})=>{Pi(n.current,YC),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var d1={};function XC(e,t,n){!t&&!d1[e]&&(d1[e]=!0,Pi(!1,n))}w.memo(wI);function wI({routes:e,future:t,state:n}){return JC(e,void 0,n,t)}function ZC(e){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TI({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){tn(!fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=Pa(n));let{pathname:u="/",search:d="",hash:p="",state:h=null,key:g="default"}=n,v=w.useMemo(()=>{let S=eo(u,a);return S==null?null:{location:{pathname:S,search:d,hash:p,state:h,key:g},navigationType:r}},[a,u,d,p,h,g,r]);return Pi(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:w.createElement(Oi.Provider,{value:c},w.createElement(dc.Provider,{children:t,value:v}))}function EI({children:e,location:t}){return fI(Lm(e),t)}function Lm(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let o=[...t,i];if(r.type===w.Fragment){n.push.apply(n,Lm(r.props.children,o));return}tn(r.type===ZC,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Lm(r.props.children,o)),n.push(a)}),n}var id="get",od="application/x-www-form-urlencoded";function rf(e){return e!=null&&typeof e.tagName=="string"}function PI(e){return rf(e)&&e.tagName.toLowerCase()==="button"}function RI(e){return rf(e)&&e.tagName.toLowerCase()==="form"}function II(e){return rf(e)&&e.tagName.toLowerCase()==="input"}function _I(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OI(e,t){return e.button===0&&(!t||t==="_self")&&!_I(e)}var zu=null;function MI(){if(zu===null)try{new FormData(document.createElement("form"),0),zu=!1}catch{zu=!0}return zu}var AI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mh(e){return e!=null&&!AI.has(e)?(Pi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${od}"`),null):e}function NI(e,t){let n,r,i,o,a;if(RI(e)){let c=e.getAttribute("action");r=c?eo(c,t):null,n=e.getAttribute("method")||id,i=Mh(e.getAttribute("enctype"))||od,o=new FormData(e)}else if(PI(e)||II(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?eo(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||id,i=Mh(e.getAttribute("formenctype"))||Mh(c.getAttribute("enctype"))||od,o=new FormData(c,e),!MI()){let{name:d,type:p,value:h}=e;if(p==="image"){let g=d?`${d}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else d&&o.append(d,h)}}else{if(rf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=id,r=null,i=od,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function LI(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&eo(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function DI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function jI(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await DI(o,n);return a.links?a.links():[]}return[]}));return $I(r.flat(1).filter(FI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function f1(e,t,n,r,i,o){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,c=(u,d)=>{var p;return n[d].pathname!==u.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return o==="assets"?t.filter((u,d)=>a(u,d)||c(u,d)):o==="data"?t.filter((u,d)=>{var h;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(a(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function UI(e,t,{includeHydrateFallback:n}={}){return BI(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function BI(e){return[...new Set(e)]}function zI(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function $I(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(zI(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function ex(){let e=w.useContext(Ra);return rv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function VI(){let e=w.useContext(nf);return rv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var iv=w.createContext(void 0);iv.displayName="FrameworkContext";function tx(){let e=w.useContext(iv);return rv(e,"You must render this element inside a <HydratedRouter> element"),e}function HI(e,t){let n=w.useContext(iv),[r,i]=w.useState(!1),[o,a]=w.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:p,onTouchStart:h}=t,g=w.useRef(null);w.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let b=C=>{C.forEach(O=>{a(O.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[e]),w.useEffect(()=>{if(r){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},S=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,g,{}]:[o,g,{onFocus:yl(c,v),onBlur:yl(u,S),onMouseEnter:yl(d,v),onMouseLeave:yl(p,S),onTouchStart:yl(h,v)}]:[!1,g,{}]}function yl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function WI({page:e,...t}){let{router:n}=ex(),r=w.useMemo(()=>$C(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(KI,{page:e,matches:r,...t}):null}function qI(e){let{manifest:t,routeModules:n}=tx(),[r,i]=w.useState([]);return w.useEffect(()=>{let o=!1;return jI(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function KI({page:e,matches:t,...n}){let r=vs(),{manifest:i,routeModules:o}=tx(),{basename:a}=ex(),{loaderData:c,matches:u}=VI(),d=w.useMemo(()=>f1(e,t,u,i,r,"data"),[e,t,u,i,r]),p=w.useMemo(()=>f1(e,t,u,i,r,"assets"),[e,t,u,i,r]),h=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,b=!1;if(t.forEach(C=>{var R;let O=i.routes[C.route.id];!O||!O.hasLoader||(!d.some(P=>P.route.id===C.route.id)&&C.route.id in c&&((R=o[C.route.id])!=null&&R.shouldRevalidate)||O.hasClientLoader?b=!0:S.add(C.route.id))}),S.size===0)return[];let x=LI(e,a,"data");return b&&S.size>0&&x.searchParams.set("_routes",t.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[x.pathname+x.search]},[a,c,r,i,d,t,e,o]),g=w.useMemo(()=>UI(p,i),[p,i]),v=qI(p);return w.createElement(w.Fragment,null,h.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),g.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:b})=>w.createElement("link",{key:S,nonce:n.nonce,...b})))}function GI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var nx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nx&&(window.__reactRouterVersion="7.8.0")}catch{}function YI({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=LR({window:n,v5Compat:!0}));let i=r.current,[o,a]=w.useState({action:i.action,location:i.location}),c=w.useCallback(u=>{w.startTransition(()=>a(u))},[a]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.createElement(TI,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ix=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:c,target:u,to:d,preventScrollReset:p,viewTransition:h,...g},v){let{basename:S}=w.useContext(Oi),b=typeof d=="string"&&rx.test(d),x,C=!1;if(typeof d=="string"&&b&&(x=d,nx))try{let U=new URL(window.location.href),T=d.startsWith("//")?new URL(U.protocol+d):new URL(d),N=eo(T.pathname,S);T.origin===U.origin&&N!=null?d=N+T.search+T.hash:C=!0}catch{Pi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=lI(d,{relative:i}),[R,P,E]=HI(r,g),I=ZI(d,{replace:a,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:h});function D(U){t&&t(U),U.defaultPrevented||I(U)}let B=w.createElement("a",{...g,...E,href:x||O,onClick:C||o?t:D,ref:GI(v,P),target:u,"data-discover":!b&&n==="render"?"true":void 0});return R&&!b?w.createElement(w.Fragment,null,B,w.createElement(WI,{page:O})):B});ix.displayName="Link";var QI=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:c,children:u,...d},p){let h=pc(a,{relative:d.relative}),g=vs(),v=w.useContext(nf),{navigator:S,basename:b}=w.useContext(Oi),x=v!=null&&i3(h)&&c===!0,C=S.encodeLocation?S.encodeLocation(h).pathname:h.pathname,O=g.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(O=O.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&b&&(R=eo(R,b)||R);const P=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let E=O===C||!i&&O.startsWith(C)&&O.charAt(P)==="/",I=R!=null&&(R===C||!i&&R.startsWith(C)&&R.charAt(C.length)==="/"),D={isActive:E,isPending:I,isTransitioning:x},B=E?t:void 0,U;typeof r=="function"?U=r(D):U=[r,E?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(D):o;return w.createElement(ix,{...d,"aria-current":B,className:U,ref:p,style:T,to:a,viewTransition:c},typeof u=="function"?u(D):u)});QI.displayName="NavLink";var JI=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=id,action:c,onSubmit:u,relative:d,preventScrollReset:p,viewTransition:h,...g},v)=>{let S=n3(),b=r3(c,{relative:d}),x=a.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&rx.test(c),O=R=>{if(u&&u(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,E=(P==null?void 0:P.getAttribute("formmethod"))||a;S(P||R.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:i,state:o,relative:d,preventScrollReset:p,viewTransition:h})};return w.createElement("form",{ref:v,method:x,action:b,onSubmit:r?u:O,...g,"data-discover":!C&&e==="render"?"true":void 0})});JI.displayName="Form";function XI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ox(e){let t=w.useContext(Ra);return tn(t,XI(e)),t}function ZI(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let c=cI(),u=vs(),d=pc(e,{relative:o});return w.useCallback(p=>{if(OI(p,t)){p.preventDefault();let h=n!==void 0?n:Xl(u)===Xl(d);c(e,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,n,r,t,e,i,o,a])}var e3=0,t3=()=>`__${String(++e3)}__`;function n3(){let{router:e}=ox("useSubmit"),{basename:t}=w.useContext(Oi),n=kI();return w.useCallback(async(r,i={})=>{let{action:o,method:a,encType:c,formData:u,body:d}=NI(r,t);if(i.navigate===!1){let p=i.fetcherKey||t3();await e.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||c,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function r3(e,{relative:t}={}){let{basename:n}=w.useContext(Oi),r=w.useContext(Mi);tn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...pc(e||".",{relative:t})},a=vs();if(e==null){o.search=a.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(h=>h).forEach(h=>c.append("index",h));let p=c.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Zi([n,o.pathname])),Xl(o)}function i3(e,{relative:t}={}){let n=w.useContext(GC);tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ox("useViewTransitionState"),i=pc(e,{relative:t});if(!n.isTransitioning)return!1;let o=eo(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=eo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _d(i.pathname,a)!=null||_d(i.pathname,o)!=null}var sx=zC();const $u=tf(sx),Zl={black:"#000",white:"#fff"},Gs={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ys={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Qs={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Js={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Xs={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},bl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},o3={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function to(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const ni="$$material";function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Od.apply(null,arguments)}function s3(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function a3(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var l3=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(a3(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=s3(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Bn="-ms-",Md="-moz-",wt="-webkit-",ax="comm",ov="rule",sv="decl",c3="@import",lx="@keyframes",u3="@layer",d3=Math.abs,of=String.fromCharCode,f3=Object.assign;function p3(e,t){return An(e,0)^45?(((t<<2^An(e,0))<<2^An(e,1))<<2^An(e,2))<<2^An(e,3):0}function cx(e){return e.trim()}function h3(e,t){return(e=t.exec(e))?e[0]:e}function Et(e,t,n){return e.replace(t,n)}function Dm(e,t){return e.indexOf(t)}function An(e,t){return e.charCodeAt(t)|0}function ec(e,t,n){return e.slice(t,n)}function yi(e){return e.length}function av(e){return e.length}function Vu(e,t){return t.push(e),e}function m3(e,t){return e.map(t).join("")}var sf=1,ka=1,ux=0,ur=0,gn=0,Ia="";function af(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:sf,column:ka,length:a,return:""}}function Sl(e,t){return f3(af("",null,null,"",null,null,0),e,{length:-e.length},t)}function g3(){return gn}function v3(){return gn=ur>0?An(Ia,--ur):0,ka--,gn===10&&(ka=1,sf--),gn}function xr(){return gn=ur<ux?An(Ia,ur++):0,ka++,gn===10&&(ka=1,sf++),gn}function xi(){return An(Ia,ur)}function sd(){return ur}function hc(e,t){return ec(Ia,e,t)}function tc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dx(e){return sf=ka=1,ux=yi(Ia=e),ur=0,[]}function fx(e){return Ia="",e}function ad(e){return cx(hc(ur-1,Fm(e===91?e+2:e===40?e+1:e)))}function y3(e){for(;(gn=xi())&&gn<33;)xr();return tc(e)>2||tc(gn)>3?"":" "}function b3(e,t){for(;--t&&xr()&&!(gn<48||gn>102||gn>57&&gn<65||gn>70&&gn<97););return hc(e,sd()+(t<6&&xi()==32&&xr()==32))}function Fm(e){for(;xr();)switch(gn){case e:return ur;case 34:case 39:e!==34&&e!==39&&Fm(gn);break;case 40:e===41&&Fm(e);break;case 92:xr();break}return ur}function S3(e,t){for(;xr()&&e+gn!==57;)if(e+gn===84&&xi()===47)break;return"/*"+hc(t,ur-1)+"*"+of(e===47?e:xr())}function k3(e){for(;!tc(xi());)xr();return hc(e,ur)}function C3(e){return fx(ld("",null,null,null,[""],e=dx(e),0,[0],e))}function ld(e,t,n,r,i,o,a,c,u){for(var d=0,p=0,h=a,g=0,v=0,S=0,b=1,x=1,C=1,O=0,R="",P=i,E=o,I=r,D=R;x;)switch(S=O,O=xr()){case 40:if(S!=108&&An(D,h-1)==58){Dm(D+=Et(ad(O),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:D+=ad(O);break;case 9:case 10:case 13:case 32:D+=y3(S);break;case 92:D+=b3(sd()-1,7);continue;case 47:switch(xi()){case 42:case 47:Vu(x3(S3(xr(),sd()),t,n),u);break;default:D+="/"}break;case 123*b:c[d++]=yi(D)*C;case 125*b:case 59:case 0:switch(O){case 0:case 125:x=0;case 59+p:C==-1&&(D=Et(D,/\f/g,"")),v>0&&yi(D)-h&&Vu(v>32?h1(D+";",r,n,h-1):h1(Et(D," ","")+";",r,n,h-2),u);break;case 59:D+=";";default:if(Vu(I=p1(D,t,n,d,p,i,c,R,P=[],E=[],h),o),O===123)if(p===0)ld(D,t,I,I,P,o,h,c,E);else switch(g===99&&An(D,3)===110?100:g){case 100:case 108:case 109:case 115:ld(e,I,I,r&&Vu(p1(e,I,I,0,0,i,c,R,i,P=[],h),E),i,E,h,c,r?P:E);break;default:ld(D,I,I,I,[""],E,0,c,E)}}d=p=v=0,b=C=1,R=D="",h=a;break;case 58:h=1+yi(D),v=S;default:if(b<1){if(O==123)--b;else if(O==125&&b++==0&&v3()==125)continue}switch(D+=of(O),O*b){case 38:C=p>0?1:(D+="\f",-1);break;case 44:c[d++]=(yi(D)-1)*C,C=1;break;case 64:xi()===45&&(D+=ad(xr())),g=xi(),p=h=yi(R=D+=k3(sd())),O++;break;case 45:S===45&&yi(D)==2&&(b=0)}}return o}function p1(e,t,n,r,i,o,a,c,u,d,p){for(var h=i-1,g=i===0?o:[""],v=av(g),S=0,b=0,x=0;S<r;++S)for(var C=0,O=ec(e,h+1,h=d3(b=a[S])),R=e;C<v;++C)(R=cx(b>0?g[C]+" "+O:Et(O,/&\f/g,g[C])))&&(u[x++]=R);return af(e,t,n,i===0?ov:c,u,d,p)}function x3(e,t,n){return af(e,t,n,ax,of(g3()),ec(e,2,-2),0)}function h1(e,t,n,r){return af(e,t,n,sv,ec(e,0,r),ec(e,r+1,-1),r)}function ua(e,t){for(var n="",r=av(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function w3(e,t,n,r){switch(e.type){case u3:if(e.children.length)break;case c3:case sv:return e.return=e.return||e.value;case ax:return"";case lx:return e.return=e.value+"{"+ua(e.children,r)+"}";case ov:e.value=e.props.join(",")}return yi(n=ua(e.children,r))?e.return=e.value+"{"+n+"}":""}function T3(e){var t=av(e);return function(n,r,i,o){for(var a="",c=0;c<t;c++)a+=e[c](n,r,i,o)||"";return a}}function E3(e){return function(t){t.root||(t=t.return)&&e(t)}}function px(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var P3=function(t,n,r){for(var i=0,o=0;i=o,o=xi(),i===38&&o===12&&(n[r]=1),!tc(o);)xr();return hc(t,ur)},R3=function(t,n){var r=-1,i=44;do switch(tc(i)){case 0:i===38&&xi()===12&&(n[r]=1),t[r]+=P3(ur-1,n,r);break;case 2:t[r]+=ad(i);break;case 4:if(i===44){t[++r]=xi()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=of(i)}while(i=xr());return t},I3=function(t,n){return fx(R3(dx(t),n))},m1=new WeakMap,_3=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!m1.get(r))&&!i){m1.set(t,!0);for(var o=[],a=I3(n,o),c=r.props,u=0,d=0;u<a.length;u++)for(var p=0;p<c.length;p++,d++)t.props[d]=o[u]?a[u].replace(/&\f/g,c[p]):c[p]+" "+a[u]}}},O3=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function hx(e,t){switch(p3(e,t)){case 5103:return wt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+e+Md+e+Bn+e+e;case 6828:case 4268:return wt+e+Bn+e+e;case 6165:return wt+e+Bn+"flex-"+e+e;case 5187:return wt+e+Et(e,/(\w+).+(:[^]+)/,wt+"box-$1$2"+Bn+"flex-$1$2")+e;case 5443:return wt+e+Bn+"flex-item-"+Et(e,/flex-|-self/,"")+e;case 4675:return wt+e+Bn+"flex-line-pack"+Et(e,/align-content|flex-|-self/,"")+e;case 5548:return wt+e+Bn+Et(e,"shrink","negative")+e;case 5292:return wt+e+Bn+Et(e,"basis","preferred-size")+e;case 6060:return wt+"box-"+Et(e,"-grow","")+wt+e+Bn+Et(e,"grow","positive")+e;case 4554:return wt+Et(e,/([^-])(transform)/g,"$1"+wt+"$2")+e;case 6187:return Et(Et(Et(e,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),e,"")+e;case 5495:case 3959:return Et(e,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return Et(Et(e,/(.+:)(flex-)?(.*)/,wt+"box-pack:$3"+Bn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wt+e+e;case 4095:case 3583:case 4068:case 2532:return Et(e,/(.+)-inline(.+)/,wt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yi(e)-1-t>6)switch(An(e,t+1)){case 109:if(An(e,t+4)!==45)break;case 102:return Et(e,/(.+:)(.+)-([^]+)/,"$1"+wt+"$2-$3$1"+Md+(An(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Dm(e,"stretch")?hx(Et(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(An(e,t+1)!==115)break;case 6444:switch(An(e,yi(e)-3-(~Dm(e,"!important")&&10))){case 107:return Et(e,":",":"+wt)+e;case 101:return Et(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wt+(An(e,14)===45?"inline-":"")+"box$3$1"+wt+"$2$3$1"+Bn+"$2box$3")+e}break;case 5936:switch(An(e,t+11)){case 114:return wt+e+Bn+Et(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return wt+e+Bn+Et(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return wt+e+Bn+Et(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return wt+e+Bn+e+e}return e}var M3=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case sv:t.return=hx(t.value,t.length);break;case lx:return ua([Sl(t,{value:Et(t.value,"@","@"+wt)})],i);case ov:if(t.length)return m3(t.props,function(o){switch(h3(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ua([Sl(t,{props:[Et(o,/:(read-\w+)/,":"+Md+"$1")]})],i);case"::placeholder":return ua([Sl(t,{props:[Et(o,/:(plac\w+)/,":"+wt+"input-$1")]}),Sl(t,{props:[Et(o,/:(plac\w+)/,":"+Md+"$1")]}),Sl(t,{props:[Et(o,/:(plac\w+)/,Bn+"input-$1")]})],i)}return""})}},A3=[M3],N3=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var x=b.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=t.stylisPlugins||A3,o={},a,c=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var x=b.getAttribute("data-emotion").split(" "),C=1;C<x.length;C++)o[x[C]]=!0;c.push(b)});var u,d=[_3,O3];{var p,h=[w3,E3(function(b){p.insert(b)})],g=T3(d.concat(i,h)),v=function(x){return ua(C3(x),g)};u=function(x,C,O,R){p=O,v(x?x+"{"+C.styles+"}":C.styles),R&&(S.inserted[C.name]=!0)}}var S={key:n,sheet:new l3({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:u};return S.sheet.hydrate(c),S},Ah={exports:{}},Ot={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function L3(){if(g1)return Ot;g1=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,S=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,x=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function R(E){if(typeof E=="object"&&E!==null){var I=E.$$typeof;switch(I){case t:switch(E=E.type,E){case u:case d:case r:case o:case i:case h:return E;default:switch(E=E&&E.$$typeof,E){case c:case p:case S:case v:case a:return E;default:return I}}case n:return I}}}function P(E){return R(E)===d}return Ot.AsyncMode=u,Ot.ConcurrentMode=d,Ot.ContextConsumer=c,Ot.ContextProvider=a,Ot.Element=t,Ot.ForwardRef=p,Ot.Fragment=r,Ot.Lazy=S,Ot.Memo=v,Ot.Portal=n,Ot.Profiler=o,Ot.StrictMode=i,Ot.Suspense=h,Ot.isAsyncMode=function(E){return P(E)||R(E)===u},Ot.isConcurrentMode=P,Ot.isContextConsumer=function(E){return R(E)===c},Ot.isContextProvider=function(E){return R(E)===a},Ot.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Ot.isForwardRef=function(E){return R(E)===p},Ot.isFragment=function(E){return R(E)===r},Ot.isLazy=function(E){return R(E)===S},Ot.isMemo=function(E){return R(E)===v},Ot.isPortal=function(E){return R(E)===n},Ot.isProfiler=function(E){return R(E)===o},Ot.isStrictMode=function(E){return R(E)===i},Ot.isSuspense=function(E){return R(E)===h},Ot.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===d||E===o||E===i||E===h||E===g||typeof E=="object"&&E!==null&&(E.$$typeof===S||E.$$typeof===v||E.$$typeof===a||E.$$typeof===c||E.$$typeof===p||E.$$typeof===x||E.$$typeof===C||E.$$typeof===O||E.$$typeof===b)},Ot.typeOf=R,Ot}var v1;function D3(){return v1||(v1=1,Ah.exports=L3()),Ah.exports}var Nh,y1;function F3(){if(y1)return Nh;y1=1;var e=D3(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function a(S){return e.isMemo(S)?i:o[S.$$typeof]||t}var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;function v(S,b,x){if(typeof b!="string"){if(g){var C=h(b);C&&C!==g&&v(S,C,x)}var O=u(b);d&&(O=O.concat(d(b)));for(var R=a(S),P=a(b),E=0;E<O.length;++E){var I=O[E];if(!n[I]&&!(x&&x[I])&&!(P&&P[I])&&!(R&&R[I])){var D=p(b,I);try{c(S,I,D)}catch{}}}}return S}return Nh=v,Nh}F3();var j3=!0;function mx(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var lv=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||j3===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},cv=function(t,n,r){lv(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function U3(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var B3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},z3=/[A-Z]|^ms/g,$3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gx=function(t){return t.charCodeAt(1)===45},b1=function(t){return t!=null&&typeof t!="boolean"},Lh=px(function(e){return gx(e)?e:e.replace(z3,"-$&").toLowerCase()}),S1=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace($3,function(r,i,o){return bi={name:i,styles:o,next:bi},i})}return B3[t]!==1&&!gx(t)&&typeof n=="number"&&n!==0?n+"px":n};function nc(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return bi={name:i.name,styles:i.styles,next:bi},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)bi={name:a.name,styles:a.styles,next:bi},a=a.next;var c=o.styles+";";return c}return V3(e,t,n)}case"function":{if(e!==void 0){var u=bi,d=n(e);return bi=u,nc(e,t,d)}break}}var p=n;if(t==null)return p;var h=t[p];return h!==void 0?h:p}function V3(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=nc(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var c=a;t!=null&&t[c]!==void 0?r+=o+"{"+t[c]+"}":b1(c)&&(r+=Lh(o)+":"+S1(o,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var u=0;u<a.length;u++)b1(a[u])&&(r+=Lh(o)+":"+S1(o,a[u])+";");else{var d=nc(e,t,a);switch(o){case"animation":case"animationName":{r+=Lh(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var k1=/label:\s*([^\s;{]+)\s*(;|$)/g,bi;function mc(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";bi=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=nc(n,t,o);else{var a=o;i+=a[0]}for(var c=1;c<e.length;c++)if(i+=nc(n,t,e[c]),r){var u=o;i+=u[c]}k1.lastIndex=0;for(var d="",p;(p=k1.exec(i))!==null;)d+="-"+p[1];var h=U3(i)+d;return{name:h,styles:i,next:bi}}var H3=function(t){return t()},vx=Id.useInsertionEffect?Id.useInsertionEffect:!1,yx=vx||H3,C1=vx||w.useLayoutEffect,bx=w.createContext(typeof HTMLElement<"u"?N3({key:"css"}):null);bx.Provider;var uv=function(t){return w.forwardRef(function(n,r){var i=w.useContext(bx);return t(n,i,r)})},gc=w.createContext({}),dv={}.hasOwnProperty,jm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",W3=function(t,n){var r={};for(var i in n)dv.call(n,i)&&(r[i]=n[i]);return r[jm]=t,r},q3=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return lv(n,r,i),yx(function(){return cv(n,r,i)}),null},K3=uv(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[jm],o=[r],a="";typeof e.className=="string"?a=mx(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var c=mc(o,void 0,w.useContext(gc));a+=t.key+"-"+c.name;var u={};for(var d in e)dv.call(e,d)&&d!=="css"&&d!==jm&&(u[d]=e[d]);return u.className=a,n&&(u.ref=n),w.createElement(w.Fragment,null,w.createElement(q3,{cache:t,serialized:c,isStringTag:typeof i=="string"}),w.createElement(i,u))}),G3=K3,x1=function(t,n){var r=arguments;if(n==null||!dv.call(n,"css"))return w.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=G3,o[1]=W3(t,n);for(var a=2;a<i;a++)o[a]=r[a];return w.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(x1||(x1={}));var Y3=uv(function(e,t){var n=e.styles,r=mc([n],void 0,w.useContext(gc)),i=w.useRef();return C1(function(){var o=t.key+"-global",a=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,u=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),u!==null&&(c=!0,u.setAttribute("data-emotion",o),a.hydrate([u])),i.current=[a,c],function(){a.flush()}},[t]),C1(function(){var o=i.current,a=o[0],c=o[1];if(c){o[1]=!1;return}if(r.next!==void 0&&cv(t,r.next,!0),a.tags.length){var u=a.tags[a.tags.length-1].nextElementSibling;a.before=u,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function fv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mc(t)}function vc(){var e=fv.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Q3=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,J3=px(function(e){return Q3.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),X3=J3,Z3=function(t){return t!=="theme"},w1=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?X3:Z3},T1=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(a){return t.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},e_=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return lv(n,r,i),yx(function(){return cv(n,r,i)}),null},t_=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,a;n!==void 0&&(o=n.label,a=n.target);var c=T1(t,n,r),u=c||w1(i),d=!u("as");return function(){var p=arguments,h=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&h.push("label:"+o+";"),p[0]==null||p[0].raw===void 0)h.push.apply(h,p);else{var g=p[0];h.push(g[0]);for(var v=p.length,S=1;S<v;S++)h.push(p[S],g[S])}var b=uv(function(x,C,O){var R=d&&x.as||i,P="",E=[],I=x;if(x.theme==null){I={};for(var D in x)I[D]=x[D];I.theme=w.useContext(gc)}typeof x.className=="string"?P=mx(C.registered,E,x.className):x.className!=null&&(P=x.className+" ");var B=mc(h.concat(E),C.registered,I);P+=C.key+"-"+B.name,a!==void 0&&(P+=" "+a);var U=d&&c===void 0?w1(R):u,T={};for(var N in x)d&&N==="as"||U(N)&&(T[N]=x[N]);return T.className=P,O&&(T.ref=O),w.createElement(w.Fragment,null,w.createElement(e_,{cache:C,serialized:B,isStringTag:typeof R=="string"}),w.createElement(R,T))});return b.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=h,b.__emotion_forwardProp=c,Object.defineProperty(b,"toString",{value:function(){return"."+a}}),b.withComponent=function(x,C){var O=e(x,Od({},n,C,{shouldForwardProp:T1(b,C,!0)}));return O.apply(void 0,h)},b}},n_=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Um=t_.bind(null);n_.forEach(function(e){Um[e]=Um(e)});function r_(e){return e==null||Object.keys(e).length===0}function Sx(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(r_(i)?n:i):t;return M.jsx(Y3,{styles:r})}/**
 * @mui/styled-engine v6.5.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function kx(e,t){return Um(e,t)}function i_(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const E1=[];function Oo(e){return E1[0]=e,mc(E1)}var Dh={exports:{}},At={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function o_(){if(P1)return At;P1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function S(b){if(typeof b=="object"&&b!==null){var x=b.$$typeof;switch(x){case e:switch(b=b.type,b){case n:case i:case r:case u:case d:case g:return b;default:switch(b=b&&b.$$typeof,b){case a:case c:case h:case p:return b;case o:return b;default:return x}}case t:return x}}}return At.ContextConsumer=o,At.ContextProvider=a,At.Element=e,At.ForwardRef=c,At.Fragment=n,At.Lazy=h,At.Memo=p,At.Portal=t,At.Profiler=i,At.StrictMode=r,At.Suspense=u,At.SuspenseList=d,At.isContextConsumer=function(b){return S(b)===o},At.isContextProvider=function(b){return S(b)===a},At.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},At.isForwardRef=function(b){return S(b)===c},At.isFragment=function(b){return S(b)===n},At.isLazy=function(b){return S(b)===h},At.isMemo=function(b){return S(b)===p},At.isPortal=function(b){return S(b)===t},At.isProfiler=function(b){return S(b)===i},At.isStrictMode=function(b){return S(b)===r},At.isSuspense=function(b){return S(b)===u},At.isSuspenseList=function(b){return S(b)===d},At.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===u||b===d||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===p||b.$$typeof===a||b.$$typeof===o||b.$$typeof===c||b.$$typeof===v||b.getModuleId!==void 0)},At.typeOf=S,At}var R1;function s_(){return R1||(R1=1,Dh.exports=o_()),Dh.exports}var Cx=s_();function Si(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function xx(e){if(w.isValidElement(e)||Cx.isValidElementType(e)||!Si(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=xx(e[n])}),t}function Vn(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Si(e)&&Si(t)&&Object.keys(t).forEach(i=>{w.isValidElement(t[i])||Cx.isValidElementType(t[i])?r[i]=t[i]:Si(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Si(e[i])?r[i]=Vn(e[i],t[i],n):n.clone?r[i]=Si(t[i])?xx(t[i]):t[i]:r[i]=t[i]}),r}const a_=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function l_(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=a_(t),a=Object.keys(o);function c(g){return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n})`}function u(g){return`@media (max-width:${(typeof t[g]=="number"?t[g]:g)-r/100}${n})`}function d(g,v){const S=a.indexOf(v);return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n}) and (max-width:${(S!==-1&&typeof t[a[S]]=="number"?t[a[S]]:v)-r/100}${n})`}function p(g){return a.indexOf(g)+1<a.length?d(g,a[a.indexOf(g)+1]):c(g)}function h(g){const v=a.indexOf(g);return v===0?c(a[1]):v===a.length-1?u(a[v]):d(g,a[a.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:a,values:o,up:c,down:u,between:d,only:p,not:h,unit:n,...i}}function I1(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,c;const o=/min-width:\s*([0-9.]+)/;return+(((a=r.match(o))==null?void 0:a[1])||0)-+(((c=i.match(o))==null?void 0:c[1])||0)});return n.length?n.reduce((r,i)=>{const o=t[i];return delete r[i],r[i]=o,r},{...t}):t}function c_(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function u_(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}function d_(e){const t=(o,a)=>o.replace("@media",a?`@container ${a}`:"@container");function n(o,a){o.up=(...c)=>t(e.breakpoints.up(...c),a),o.down=(...c)=>t(e.breakpoints.down(...c),a),o.between=(...c)=>t(e.breakpoints.between(...c),a),o.only=(...c)=>t(e.breakpoints.only(...c),a),o.not=(...c)=>{const u=t(e.breakpoints.not(...c),a);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=o=>(n(r,o),r);return n(i),{...e,containerQueries:i}}const f_={borderRadius:4};function Vl(e,t){return t?Vn(e,t,{clone:!1}):e}const lf={xs:0,sm:600,md:900,lg:1200,xl:1536},_1={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${lf[e]}px)`},p_={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:lf[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function jr(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||_1;return t.reduce((a,c,u)=>(a[o.up(o.keys[u])]=n(t[u]),a),{})}if(typeof t=="object"){const o=r.breakpoints||_1;return Object.keys(t).reduce((a,c)=>{if(c_(o.keys,c)){const u=u_(r.containerQueries?r:p_,c);u&&(a[u]=n(t[c],c))}else if(Object.keys(o.values||lf).includes(c)){const u=o.up(c);a[u]=n(t[c],c)}else{const u=c;a[u]=t[u]}return a},{})}return n(t)}function h_(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function O1(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function m_(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function cf({values:e,breakpoints:t,base:n}){const r=n||m_(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((a,c,u)=>(Array.isArray(e)?(a[c]=e[u]!=null?e[u]:e[o],o=u):typeof e=="object"?(a[c]=e[c]!=null?e[c]:e[o],o=c):a[c]=e,a),{})}function st(e){if(typeof e!="string")throw new Error(to(7));return e.charAt(0).toUpperCase()+e.slice(1)}function uf(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Ad(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=uf(e,n)||r,t&&(i=t(i,r,e)),i}function fn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=a=>{if(a[t]==null)return null;const c=a[t],u=a.theme,d=uf(u,r)||{};return jr(a,c,h=>{let g=Ad(d,i,h);return h===g&&typeof h=="string"&&(g=Ad(d,i,`${t}${h==="default"?"":st(h)}`,h)),n===!1?g:{[n]:g}})};return o.propTypes={},o.filterProps=[t],o}function g_(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const v_={m:"margin",p:"padding"},y_={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},M1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},b_=g_(e=>{if(e.length>2)if(M1[e])e=M1[e];else return[e];const[t,n]=e.split(""),r=v_[t],i=y_[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),pv=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],hv=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...pv,...hv];function yc(e,t,n,r){const i=uf(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const a=Math.abs(o),c=i[a];return o>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function mv(e){return yc(e,"spacing",8)}function bc(e,t){return typeof t=="string"||t==null?t:e(t)}function S_(e,t){return n=>e.reduce((r,i)=>(r[i]=bc(t,n),r),{})}function k_(e,t,n,r){if(!t.includes(n))return null;const i=b_(n),o=S_(i,r),a=e[n];return jr(e,a,o)}function wx(e,t){const n=mv(e.theme);return Object.keys(e).map(r=>k_(e,t,r,n)).reduce(Vl,{})}function rn(e){return wx(e,pv)}rn.propTypes={};rn.filterProps=pv;function on(e){return wx(e,hv)}on.propTypes={};on.filterProps=hv;function Tx(e=8,t=mv({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const a=t(o);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function df(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?Vl(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Dr(e){return typeof e!="number"?e:`${e}px solid`}function Br(e,t){return fn({prop:e,themeKey:"borders",transform:t})}const C_=Br("border",Dr),x_=Br("borderTop",Dr),w_=Br("borderRight",Dr),T_=Br("borderBottom",Dr),E_=Br("borderLeft",Dr),P_=Br("borderColor"),R_=Br("borderTopColor"),I_=Br("borderRightColor"),__=Br("borderBottomColor"),O_=Br("borderLeftColor"),M_=Br("outline",Dr),A_=Br("outlineColor"),ff=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=yc(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:bc(t,r)});return jr(e,e.borderRadius,n)}return null};ff.propTypes={};ff.filterProps=["borderRadius"];df(C_,x_,w_,T_,E_,P_,R_,I_,__,O_,ff,M_,A_);const pf=e=>{if(e.gap!==void 0&&e.gap!==null){const t=yc(e.theme,"spacing",8),n=r=>({gap:bc(t,r)});return jr(e,e.gap,n)}return null};pf.propTypes={};pf.filterProps=["gap"];const hf=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=yc(e.theme,"spacing",8),n=r=>({columnGap:bc(t,r)});return jr(e,e.columnGap,n)}return null};hf.propTypes={};hf.filterProps=["columnGap"];const mf=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=yc(e.theme,"spacing",8),n=r=>({rowGap:bc(t,r)});return jr(e,e.rowGap,n)}return null};mf.propTypes={};mf.filterProps=["rowGap"];const N_=fn({prop:"gridColumn"}),L_=fn({prop:"gridRow"}),D_=fn({prop:"gridAutoFlow"}),F_=fn({prop:"gridAutoColumns"}),j_=fn({prop:"gridAutoRows"}),U_=fn({prop:"gridTemplateColumns"}),B_=fn({prop:"gridTemplateRows"}),z_=fn({prop:"gridTemplateAreas"}),$_=fn({prop:"gridArea"});df(pf,hf,mf,N_,L_,D_,F_,j_,U_,B_,z_,$_);function da(e,t){return t==="grey"?t:e}const V_=fn({prop:"color",themeKey:"palette",transform:da}),H_=fn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:da}),W_=fn({prop:"backgroundColor",themeKey:"palette",transform:da});df(V_,H_,W_);function br(e){return e<=1&&e!==0?`${e*100}%`:e}const q_=fn({prop:"width",transform:br}),gv=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,o,a,c,u;const r=((a=(o=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:a[n])||lf[n];return r?((u=(c=e.theme)==null?void 0:c.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:br(n)}};return jr(e,e.maxWidth,t)}return null};gv.filterProps=["maxWidth"];const K_=fn({prop:"minWidth",transform:br}),G_=fn({prop:"height",transform:br}),Y_=fn({prop:"maxHeight",transform:br}),Q_=fn({prop:"minHeight",transform:br});fn({prop:"size",cssProperty:"width",transform:br});fn({prop:"size",cssProperty:"height",transform:br});const J_=fn({prop:"boxSizing"});df(q_,gv,K_,G_,Y_,Q_,J_);const Sc={border:{themeKey:"borders",transform:Dr},borderTop:{themeKey:"borders",transform:Dr},borderRight:{themeKey:"borders",transform:Dr},borderBottom:{themeKey:"borders",transform:Dr},borderLeft:{themeKey:"borders",transform:Dr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Dr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ff},color:{themeKey:"palette",transform:da},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:da},backgroundColor:{themeKey:"palette",transform:da},p:{style:on},pt:{style:on},pr:{style:on},pb:{style:on},pl:{style:on},px:{style:on},py:{style:on},padding:{style:on},paddingTop:{style:on},paddingRight:{style:on},paddingBottom:{style:on},paddingLeft:{style:on},paddingX:{style:on},paddingY:{style:on},paddingInline:{style:on},paddingInlineStart:{style:on},paddingInlineEnd:{style:on},paddingBlock:{style:on},paddingBlockStart:{style:on},paddingBlockEnd:{style:on},m:{style:rn},mt:{style:rn},mr:{style:rn},mb:{style:rn},ml:{style:rn},mx:{style:rn},my:{style:rn},margin:{style:rn},marginTop:{style:rn},marginRight:{style:rn},marginBottom:{style:rn},marginLeft:{style:rn},marginX:{style:rn},marginY:{style:rn},marginInline:{style:rn},marginInlineStart:{style:rn},marginInlineEnd:{style:rn},marginBlock:{style:rn},marginBlockStart:{style:rn},marginBlockEnd:{style:rn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:pf},rowGap:{style:mf},columnGap:{style:hf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:br},maxWidth:{style:gv},minWidth:{transform:br},height:{transform:br},maxHeight:{transform:br},minHeight:{transform:br},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function X_(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Z_(e,t){return typeof e=="function"?e(t):e}function eO(){function e(n,r,i,o){const a={[n]:r,theme:i},c=o[n];if(!c)return{[n]:r};const{cssProperty:u=n,themeKey:d,transform:p,style:h}=c;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const g=uf(i,d)||{};return h?h(a):jr(a,r,S=>{let b=Ad(g,p,S);return S===b&&typeof S=="string"&&(b=Ad(g,p,`${n}${S==="default"?"":st(S)}`,S)),u===!1?b:{[u]:b}})}function t(n){const{sx:r,theme:i={},nested:o}=n||{};if(!r)return null;const a=i.unstable_sxConfig??Sc;function c(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const p=h_(i.breakpoints),h=Object.keys(p);let g=p;return Object.keys(d).forEach(v=>{const S=Z_(d[v],i);if(S!=null)if(typeof S=="object")if(a[v])g=Vl(g,e(v,S,i,a));else{const b=jr({theme:i},S,x=>({[v]:x}));X_(b,S)?g[v]=t({sx:S,theme:i,nested:!0}):g=Vl(g,b)}else g=Vl(g,e(v,S,i,a))}),!o&&i.modularCssLayers?{"@layer sx":I1(i,O1(h,g))}:I1(i,O1(h,g))}return Array.isArray(r)?r.map(c):c(r)}return t}const No=eO();No.filterProps=["sx"];function tO(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function vv(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...a}=e,c=l_(n),u=Tx(i);let d=Vn({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...f_,...o}},a);return d=d_(d),d.applyStyles=tO,d=t.reduce((p,h)=>Vn(p,h),d),d.unstable_sxConfig={...Sc,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(h){return No({sx:h,theme:this})},d}function nO(e){return Object.keys(e).length===0}function gf(e=null){const t=w.useContext(gc);return!t||nO(t)?e:t}const rO=vv();function yv(e=rO){return gf(e)}function Fh(e){const t=Oo(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Ex({styles:e,themeId:t,defaultTheme:n={}}){const r=yv(n),i=t&&r[t]||r;let o=typeof e=="function"?e(i):e;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(a=>Fh(typeof a=="function"?a(i):a)):o=Fh(o)),M.jsx(Sx,{styles:o})}const iO=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??Sc;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function bv(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=iO(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...a)=>{const c=t(...a);return Si(c)?{...r,...c}:r}:o={...r,...t},{...i,sx:o}}const A1=e=>e,oO=()=>{let e=A1;return{configure(t){e=t},generate(t){return e(t)},reset(){e=A1}}},Px=oO();function Rx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Rx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Rx(e))&&(r&&(r+=" "),r+=t);return r}function sO(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=kx("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(No);return w.forwardRef(function(u,d){const p=yv(n),{className:h,component:g="div",...v}=bv(u);return M.jsx(o,{as:g,ref:d,className:$e(h,i?i(r):r),theme:t&&p[t]||p,...v})})}const aO={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ct(e,t,n="Mui"){const r=aO[t];return r?`${n}-${r}`:`${Px.generate(e)}-${t}`}function pt(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Ct(e,i,n)}),r}function Ix(e){const{variants:t,...n}=e,r={variants:t,style:Oo(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=Oo(i.style))}),r}const lO=vv();function jh(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function ss(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function cO(e){return e?(t,n)=>n[e]:null}function uO(e,t,n){e.theme=pO(e.theme)?n:e.theme[t]||e.theme}function cd(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(i=>cd(e,i,n));if(Array.isArray(r==null?void 0:r.variants)){let i;if(r.isProcessed)i=n?ss(r.style,n):r.style;else{const{variants:o,...a}=r;i=n?ss(Oo(a),n):a}return _x(e,r.variants,[i],n)}return r!=null&&r.isProcessed?n?ss(Oo(r.style),n):r.style:n?ss(Oo(r),n):r}function _x(e,t,n=[],r=void 0){var o;let i;e:for(let a=0;a<t.length;a+=1){const c=t[a];if(typeof c.props=="function"){if(i??(i={...e,...e.ownerState,ownerState:e.ownerState}),!c.props(i))continue}else for(const u in c.props)if(e[u]!==c.props[u]&&((o=e.ownerState)==null?void 0:o[u])!==c.props[u])continue e;typeof c.style=="function"?(i??(i={...e,...e.ownerState,ownerState:e.ownerState}),n.push(r?ss(Oo(c.style(i)),r):c.style(i))):n.push(r?ss(Oo(c.style),r):c.style)}return n}function dO(e={}){const{themeId:t,defaultTheme:n=lO,rootShouldForwardProp:r=jh,slotShouldForwardProp:i=jh}=e;function o(c){uO(c,t,n)}return(c,u={})=>{i_(c,I=>I.filter(D=>D!==No));const{name:d,slot:p,skipVariantsResolver:h,skipSx:g,overridesResolver:v=cO(mO(p)),...S}=u,b=d&&d.startsWith("Mui")||p?"components":"custom",x=h!==void 0?h:p&&p!=="Root"&&p!=="root"||!1,C=g||!1;let O=jh;p==="Root"||p==="root"?O=r:p?O=i:hO(c)&&(O=void 0);const R=kx(c,{shouldForwardProp:O,label:fO(),...S}),P=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(B){return cd(B,I,B.theme.modularCssLayers?b:void 0)};if(Si(I)){const D=Ix(I);return function(U){return D.variants?cd(U,D,U.theme.modularCssLayers?b:void 0):U.theme.modularCssLayers?ss(D.style,b):D.style}}return I},E=(...I)=>{const D=[],B=I.map(P),U=[];if(D.push(o),d&&v&&U.push(function(W){var le,ee;const q=(ee=(le=W.theme.components)==null?void 0:le[d])==null?void 0:ee.styleOverrides;if(!q)return null;const ne={};for(const Y in q)ne[Y]=cd(W,q[Y],W.theme.modularCssLayers?"theme":void 0);return v(W,ne)}),d&&!x&&U.push(function(W){var ne,le;const K=W.theme,q=(le=(ne=K==null?void 0:K.components)==null?void 0:ne[d])==null?void 0:le.variants;return q?_x(W,q,[],W.theme.modularCssLayers?"theme":void 0):null}),C||U.push(No),Array.isArray(B[0])){const $=B.shift(),W=new Array(D.length).fill(""),K=new Array(U.length).fill("");let q;q=[...W,...$,...K],q.raw=[...W,...$.raw,...K],D.unshift(q)}const T=[...D,...B,...U],N=R(...T);return c.muiName&&(N.muiName=c.muiName),N};return R.withConfig&&(E.withConfig=R.withConfig),E}}function fO(e,t){return void 0}function pO(e){for(const t in e)return!1;return!0}function hO(e){return typeof e=="string"&&e.charCodeAt(0)>96}function mO(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Nd(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],a=t[i];if(!a)n[i]=o||{};else if(!o)n[i]=a;else{n[i]={...a};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=c;n[i][u]=Nd(o[u],a[u])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function gO(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Nd(t.components[n].defaultProps,r)}const Tr=typeof window<"u"?w.useLayoutEffect:w.useEffect;function vO(e,t,n,r,i){const[o,a]=w.useState(()=>i&&n?n(e).matches:r?r(e).matches:t);return Tr(()=>{if(!n)return;const c=n(e),u=()=>{a(c.matches)};return u(),c.addEventListener("change",u),()=>{c.removeEventListener("change",u)}},[e,n]),o}const yO={...Id},Ox=yO.useSyncExternalStore;function bO(e,t,n,r,i){const o=w.useCallback(()=>t,[t]),a=w.useMemo(()=>{if(i&&n)return()=>n(e).matches;if(r!==null){const{matches:p}=r(e);return()=>p}return o},[o,e,r,i,n]),[c,u]=w.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const p=n(e);return[()=>p.matches,h=>(p.addEventListener("change",h),()=>{p.removeEventListener("change",h)})]},[o,n,e]);return Ox(u,c,a)}function Mx(e={}){const{themeId:t}=e;return function(r,i={}){let o=gf();o&&t&&(o=o[t]||o);const a=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:u=a?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:p=!1}=gO({name:"MuiUseMediaQuery",props:i,theme:o});let h=typeof r=="function"?r(o):r;return h=h.replace(/^@media( ?)/m,""),h.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(Ox!==void 0?bO:vO)(h,c,u,d,p)}}Mx();function SO(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Sv(e,t=0,n=1){return SO(e,t,n)}function kO(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Lo(e){if(e.type)return e;if(e.charAt(0)==="#")return Lo(kO(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(to(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(to(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const CO=e=>{const t=Lo(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},jl=(e,t)=>{try{return CO(e)}catch{return e}};function vf(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Ax(e){e=Lo(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=(d,p=(d+n/30)%12)=>i-o*Math.max(Math.min(p-3,9-p,1),-1);let c="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(c+="a",u.push(t[3])),vf({type:c,values:u})}function Bm(e){e=Lo(e);let t=e.type==="hsl"||e.type==="hsla"?Lo(Ax(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function xO(e,t){const n=Bm(e),r=Bm(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Sr(e,t){return e=Lo(e),t=Sv(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,vf(e)}function Hu(e,t,n){try{return Sr(e,t)}catch{return e}}function kv(e,t){if(e=Lo(e),t=Sv(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return vf(e)}function jt(e,t,n){try{return kv(e,t)}catch{return e}}function Cv(e,t){if(e=Lo(e),t=Sv(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return vf(e)}function Ut(e,t,n){try{return Cv(e,t)}catch{return e}}function wO(e,t=.15){return Bm(e)>.5?kv(e,t):Cv(e,t)}function Wu(e,t,n){try{return wO(e,t)}catch{return e}}function N1(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function yf(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function Uh(e,t){var n,r,i;return w.isValidElement(e)&&t.indexOf(e.type.muiName??((i=(r=(n=e.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Ur(e){return e&&e.ownerDocument||document}function ri(e){return Ur(e).defaultView||window}function L1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let D1=0;function TO(e){const[t,n]=w.useState(e),r=e||t;return w.useEffect(()=>{t==null&&(D1+=1,n(`mui-${D1}`))},[t]),r}const EO={...Id},F1=EO.useId;function bf(e){if(F1!==void 0){const t=F1();return e??t}return TO(e)}function j1({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=w.useRef(e!==void 0),[o,a]=w.useState(t),c=i?e:o,u=w.useCallback(d=>{i||a(d)},[]);return[c,u]}function wi(e){const t=w.useRef(e);return Tr(()=>{t.current=e}),w.useRef((...n)=>(0,t.current)(...n)).current}function Hn(...e){const t=w.useRef(void 0),n=w.useCallback(r=>{const i=e.map(o=>{if(o==null)return null;if(typeof o=="function"){const a=o,c=a(r);return typeof c=="function"?c:()=>{a(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},e);return w.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}const U1={};function Nx(e,t){const n=w.useRef(U1);return n.current===U1&&(n.current=e(t)),n}const PO=[];function RO(e){w.useEffect(e,PO)}class xv{constructor(){gl(this,"currentId",null);gl(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});gl(this,"disposeEffect",()=>this.clear)}static create(){return new xv}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Lx(){const e=Nx(xv.create).current;return RO(e.disposeEffect),e}function B1(e){try{return e.matches(":focus-visible")}catch{}return!1}function Dx(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function xt(e,t,n=void 0){const r={};for(const i in e){const o=e[i];let a="",c=!0;for(let u=0;u<o.length;u+=1){const d=o[u];d&&(a+=(c===!0?"":" ")+t(d),c=!1,n&&n[d]&&(a+=" "+n[d]))}r[i]=a}return r}function IO(e){return typeof e=="string"}function Fx(e,t,n){return e===void 0||IO(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function jx(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function z1(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Ux(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const v=$e(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),S={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...n,...i,...r};return v.length>0&&(b.className=v),Object.keys(S).length>0&&(b.style=S),{props:b,internalRef:void 0}}const a=jx({...i,...r}),c=z1(r),u=z1(i),d=t(a),p=$e(d==null?void 0:d.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),h={...d==null?void 0:d.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},g={...d,...n,...u,...c};return p.length>0&&(g.className=p),Object.keys(h).length>0&&(g.style=h),{props:g,internalRef:d.ref}}function Bx(e,t,n){return typeof e=="function"?e(t,n):e}function rc(e){var h;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,a=i?{}:Bx(n,r),{props:c,internalRef:u}=Ux({...o,externalSlotProps:a}),d=Hn(u,a==null?void 0:a.ref,(h=e.additionalProps)==null?void 0:h.ref);return Fx(t,{...c,ref:d},r)}function kc(e){var t;return parseInt(w.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const zx=w.createContext(null);function wv(){return w.useContext(zx)}const _O=typeof Symbol=="function"&&Symbol.for,OO=_O?Symbol.for("mui.nested"):"__THEME_NESTED__";function MO(e,t){return typeof t=="function"?t(e):{...e,...t}}function AO(e){const{children:t,theme:n}=e,r=wv(),i=w.useMemo(()=>{const o=r===null?{...n}:MO(r,n);return o!=null&&(o[OO]=r!==null),o},[n,r]);return M.jsx(zx.Provider,{value:i,children:t})}const $x=w.createContext();function NO({value:e,...t}){return M.jsx($x.Provider,{value:e??!0,...t})}const Tv=()=>w.useContext($x)??!1,Vx=w.createContext(void 0);function LO({value:e,children:t}){return M.jsx(Vx.Provider,{value:e,children:t})}function DO(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Nd(i.defaultProps,r):!i.styleOverrides&&!i.variants?Nd(i,r):r}function FO({props:e,name:t}){const n=w.useContext(Vx);return DO({props:e,name:t,theme:{components:n}})}function jO(e){const t=gf(),n=bf()||"",{modularCssLayers:r}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Tr(()=>{var c,u;const o=document.querySelector("head");if(!o)return;const a=o.firstChild;if(i){if(a&&((c=a.hasAttribute)!=null&&c.call(a,"data-mui-layer-order"))&&a.getAttribute("data-mui-layer-order")===n)return;const d=document.createElement("style");d.setAttribute("data-mui-layer-order",n),d.textContent=i,o.prepend(d)}else(u=o.querySelector(`style[data-mui-layer-order="${n}"]`))==null||u.remove()},[i,n]),i?M.jsx(Ex,{styles:i}):null}const $1={};function V1(e,t,n,r=!1){return w.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),a=e?{...t,[e]:o}:o;return r?()=>a:a}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function Hx(e){const{children:t,theme:n,themeId:r}=e,i=gf($1),o=wv()||$1,a=V1(r,i,n),c=V1(r,o,n,!0),u=(r?a[r]:a).direction==="rtl",d=jO(a);return M.jsx(AO,{theme:c,children:M.jsx(gc.Provider,{value:a,children:M.jsx(NO,{value:u,children:M.jsxs(LO,{value:r?a[r].components:a.components,children:[d,t]})})})})}const H1={theme:void 0};function UO(e){let t,n;return function(i){let o=t;return(o===void 0||i.theme!==n)&&(H1.theme=i.theme,o=Ix(e(H1)),t=o,n=i.theme),o}}const Ev="mode",Pv="color-scheme",BO="data-color-scheme";function zO(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=Ev,colorSchemeStorageKey:o=Pv,attribute:a=BO,colorSchemeNode:c="document.documentElement",nonce:u}=e||{};let d="",p=a;if(a==="class"&&(p=".%s"),a==="data"&&(p="[data-%s]"),p.startsWith(".")){const g=p.substring(1);d+=`${c}.classList.remove('${g}'.replace('%s', light), '${g}'.replace('%s', dark));
      ${c}.classList.add('${g}'.replace('%s', colorScheme));`}const h=p.match(/\[([^\]]+)\]/);if(h){const[g,v]=h[1].split("=");v||(d+=`${c}.removeAttribute('${g}'.replace('%s', light));
      ${c}.removeAttribute('${g}'.replace('%s', dark));`),d+=`
      ${c}.setAttribute('${g}'.replace('%s', colorScheme), ${v?`${v}.replace('%s', colorScheme)`:'""'});`}else d+=`${c}.setAttribute('${p}', colorScheme);`;return M.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${o}-dark') || '${r}';
  const light = localStorage.getItem('${o}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${d}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function $O(){}const VO=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(n){if(typeof window>"u")return;if(!t)return n;let r;try{r=t.localStorage.getItem(e)}catch{}return r||n},set:n=>{if(t)try{t.localStorage.setItem(e,n)}catch{}},subscribe:n=>{if(!t)return $O;const r=i=>{const o=i.newValue;i.key===e&&n(o)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function Bh(){}function W1(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Wx(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function HO(e){return Wx(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function WO(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:o=Ev,colorSchemeStorageKey:a=Pv,storageWindow:c=typeof window>"u"?void 0:window,storageManager:u=VO,noSsr:d=!1}=e,p=i.join(","),h=i.length>1,g=w.useMemo(()=>u==null?void 0:u({key:o,storageWindow:c}),[u,o,c]),v=w.useMemo(()=>u==null?void 0:u({key:`${a}-light`,storageWindow:c}),[u,a,c]),S=w.useMemo(()=>u==null?void 0:u({key:`${a}-dark`,storageWindow:c}),[u,a,c]),[b,x]=w.useState(()=>{const B=(g==null?void 0:g.get(t))||t,U=(v==null?void 0:v.get(n))||n,T=(S==null?void 0:S.get(r))||r;return{mode:B,systemMode:W1(B),lightColorScheme:U,darkColorScheme:T}}),[C,O]=w.useState(d||!h);w.useEffect(()=>{O(!0)},[]);const R=HO(b),P=w.useCallback(B=>{x(U=>{if(B===U.mode)return U;const T=B??t;return g==null||g.set(T),{...U,mode:T,systemMode:W1(T)}})},[g,t]),E=w.useCallback(B=>{B?typeof B=="string"?B&&!p.includes(B)?console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`):x(U=>{const T={...U};return Wx(U,N=>{N==="light"&&(v==null||v.set(B),T.lightColorScheme=B),N==="dark"&&(S==null||S.set(B),T.darkColorScheme=B)}),T}):x(U=>{const T={...U},N=B.light===null?n:B.light,$=B.dark===null?r:B.dark;return N&&(p.includes(N)?(T.lightColorScheme=N,v==null||v.set(N)):console.error(`\`${N}\` does not exist in \`theme.colorSchemes\`.`)),$&&(p.includes($)?(T.darkColorScheme=$,S==null||S.set($)):console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`)),T}):x(U=>(v==null||v.set(n),S==null||S.set(r),{...U,lightColorScheme:n,darkColorScheme:r}))},[p,v,S,n,r]),I=w.useCallback(B=>{b.mode==="system"&&x(U=>{const T=B!=null&&B.matches?"dark":"light";return U.systemMode===T?U:{...U,systemMode:T}})},[b.mode]),D=w.useRef(I);return D.current=I,w.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const B=(...T)=>D.current(...T),U=window.matchMedia("(prefers-color-scheme: dark)");return U.addListener(B),B(U),()=>{U.removeListener(B)}},[h]),w.useEffect(()=>{if(h){const B=(g==null?void 0:g.subscribe(N=>{(!N||["light","dark","system"].includes(N))&&P(N||t)}))||Bh,U=(v==null?void 0:v.subscribe(N=>{(!N||p.match(N))&&E({light:N})}))||Bh,T=(S==null?void 0:S.subscribe(N=>{(!N||p.match(N))&&E({dark:N})}))||Bh;return()=>{B(),U(),T()}}},[E,P,p,t,c,h,g,v,S]),{...b,mode:C?b.mode:void 0,systemMode:C?b.systemMode:void 0,colorScheme:C?R:void 0,setMode:P,setColorScheme:E}}const qO="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function KO(e){const{themeId:t,theme:n={},modeStorageKey:r=Ev,colorSchemeStorageKey:i=Pv,disableTransitionOnChange:o=!1,defaultColorScheme:a,resolveTheme:c}=e,u={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},d=w.createContext(void 0),p=()=>w.useContext(d)||u,h={},g={};function v(C){var ct,Cn,re,pe;const{children:O,theme:R,modeStorageKey:P=r,colorSchemeStorageKey:E=i,disableTransitionOnChange:I=o,storageManager:D,storageWindow:B=typeof window>"u"?void 0:window,documentNode:U=typeof document>"u"?void 0:document,colorSchemeNode:T=typeof document>"u"?void 0:document.documentElement,disableNestedContext:N=!1,disableStyleSheetGeneration:$=!1,defaultMode:W="system",noSsr:K}=C,q=w.useRef(!1),ne=wv(),le=w.useContext(d),ee=!!le&&!N,Y=w.useMemo(()=>R||(typeof n=="function"?n():n),[R]),A=Y[t],F=A||Y,{colorSchemes:J=h,components:L=g,cssVarPrefix:ve}=F,ke=Object.keys(J).filter(Ce=>!!J[Ce]).join(","),me=w.useMemo(()=>ke.split(","),[ke]),we=typeof a=="string"?a:a.light,Ee=typeof a=="string"?a:a.dark,Re=J[we]&&J[Ee]?W:((Cn=(ct=J[F.defaultColorScheme])==null?void 0:ct.palette)==null?void 0:Cn.mode)||((re=F.palette)==null?void 0:re.mode),{mode:Te,setMode:Ue,systemMode:He,lightColorScheme:it,darkColorScheme:We,colorScheme:at,setColorScheme:Ft}=WO({supportedColorSchemes:me,defaultLightColorScheme:we,defaultDarkColorScheme:Ee,modeStorageKey:P,colorSchemeStorageKey:E,defaultMode:Re,storageManager:D,storageWindow:B,noSsr:K});let Qe=Te,Ye=at;ee&&(Qe=le.mode,Ye=le.colorScheme);const ht=w.useMemo(()=>{var je;const Ce=Ye||F.defaultColorScheme,Me=((je=F.generateThemeVars)==null?void 0:je.call(F))||F.vars,Fe={...F,components:L,colorSchemes:J,cssVarPrefix:ve,vars:Me};if(typeof Fe.generateSpacing=="function"&&(Fe.spacing=Fe.generateSpacing()),Ce){const mt=J[Ce];mt&&typeof mt=="object"&&Object.keys(mt).forEach(gt=>{mt[gt]&&typeof mt[gt]=="object"?Fe[gt]={...Fe[gt],...mt[gt]}:Fe[gt]=mt[gt]})}return c?c(Fe):Fe},[F,Ye,L,J,ve]),ut=F.colorSchemeSelector;Tr(()=>{if(Ye&&T&&ut&&ut!=="media"){const Ce=ut;let Me=ut;if(Ce==="class"&&(Me=".%s"),Ce==="data"&&(Me="[data-%s]"),Ce!=null&&Ce.startsWith("data-")&&!Ce.includes("%s")&&(Me=`[${Ce}="%s"]`),Me.startsWith("."))T.classList.remove(...me.map(Fe=>Me.substring(1).replace("%s",Fe))),T.classList.add(Me.substring(1).replace("%s",Ye));else{const Fe=Me.replace("%s",Ye).match(/\[([^\]]+)\]/);if(Fe){const[je,mt]=Fe[1].split("=");mt||me.forEach(gt=>{T.removeAttribute(je.replace(Ye,gt))}),T.setAttribute(je,mt?mt.replace(/"|'/g,""):"")}else T.setAttribute(Me,Ye)}}},[Ye,ut,T,me]),w.useEffect(()=>{let Ce;if(I&&q.current&&U){const Me=U.createElement("style");Me.appendChild(U.createTextNode(qO)),U.head.appendChild(Me),window.getComputedStyle(U.body),Ce=setTimeout(()=>{U.head.removeChild(Me)},1)}return()=>{clearTimeout(Ce)}},[Ye,I,U]),w.useEffect(()=>(q.current=!0,()=>{q.current=!1}),[]);const tt=w.useMemo(()=>({allColorSchemes:me,colorScheme:Ye,darkColorScheme:We,lightColorScheme:it,mode:Qe,setColorScheme:Ft,setMode:Ue,systemMode:He}),[me,Ye,We,it,Qe,Ft,Ue,He,ht.colorSchemeSelector]);let Oe=!0;($||F.cssVariables===!1||ee&&(ne==null?void 0:ne.cssVarPrefix)===ve)&&(Oe=!1);const Yt=M.jsxs(w.Fragment,{children:[M.jsx(Hx,{themeId:A?t:void 0,theme:ht,children:O}),Oe&&M.jsx(Sx,{styles:((pe=ht.generateStyleSheets)==null?void 0:pe.call(ht))||[]})]});return ee?Yt:M.jsx(d.Provider,{value:tt,children:Yt})}const S=typeof a=="string"?a:a.light,b=typeof a=="string"?a:a.dark;return{CssVarsProvider:v,useColorScheme:p,getInitColorSchemeScript:C=>zO({colorSchemeStorageKey:i,defaultLightColorScheme:S,defaultDarkColorScheme:b,modeStorageKey:r,...C})}}function GO(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const q1=(e,t,n,r=[])=>{let i=e;t.forEach((o,a)=>{a===t.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},YO=(e,t,n)=>{function r(i,o=[],a=[]){Object.entries(i).forEach(([c,u])=>{(!n||n&&!n([...o,c]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...o,c],Array.isArray(u)?[...a,c]:a):t([...o,c],u,a))})}r(e)},QO=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function zh(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},a={};return YO(e,(c,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(c,u))){const p=`--${n?`${n}-`:""}${c.join("-")}`,h=QO(c,u);Object.assign(i,{[p]:h}),q1(o,c,`var(${p})`,d),q1(a,c,`var(${p}, ${h})`,d)}},c=>c[0]==="vars"),{css:i,vars:o,varsWithDefaults:a}}function JO(e,t={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:a,defaultColorScheme:c="light",...u}=e,{vars:d,css:p,varsWithDefaults:h}=zh(u,t);let g=h;const v={},{[c]:S,...b}=o;if(Object.entries(b||{}).forEach(([R,P])=>{const{vars:E,css:I,varsWithDefaults:D}=zh(P,t);g=Vn(g,D),v[R]={css:I,vars:E}}),S){const{css:R,vars:P,varsWithDefaults:E}=zh(S,t);g=Vn(g,E),v[c]={css:R,vars:P}}function x(R,P){var I,D;let E=i;if(i==="class"&&(E=".%s"),i==="data"&&(E="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(E=`[${i}="%s"]`),R){if(E==="media")return e.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${((D=(I=o[R])==null?void 0:I.palette)==null?void 0:D.mode)||R})`]:{":root":P}};if(E)return e.defaultColorScheme===R?`:root, ${E.replace("%s",String(R))}`:E.replace("%s",String(R))}return":root"}return{vars:g,generateThemeVars:()=>{let R={...d};return Object.entries(v).forEach(([,{vars:P}])=>{R=Vn(R,P)}),R},generateStyleSheets:()=>{var B,U;const R=[],P=e.defaultColorScheme||"light";function E(T,N){Object.keys(N).length&&R.push(typeof T=="string"?{[T]:{...N}}:T)}E(n(void 0,{...p}),p);const{[P]:I,...D}=v;if(I){const{css:T}=I,N=(U=(B=o[P])==null?void 0:B.palette)==null?void 0:U.mode,$=!r&&N?{colorScheme:N,...T}:{...T};E(n(P,{...$}),$)}return Object.entries(D).forEach(([T,{css:N}])=>{var K,q;const $=(q=(K=o[T])==null?void 0:K.palette)==null?void 0:q.mode,W=!r&&$?{colorScheme:$,...N}:{...N};E(n(T,{...W}),W)}),R}}}function XO(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function qx(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Zl.white,default:Zl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const ZO=qx();function Kx(){return{text:{primary:Zl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Zl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const K1=Kx();function G1(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Cv(e.main,i):t==="dark"&&(e.dark=kv(e.main,o)))}function eM(e="light"){return e==="dark"?{main:Qs[200],light:Qs[50],dark:Qs[400]}:{main:Qs[700],light:Qs[400],dark:Qs[800]}}function tM(e="light"){return e==="dark"?{main:Ys[200],light:Ys[50],dark:Ys[400]}:{main:Ys[500],light:Ys[300],dark:Ys[700]}}function nM(e="light"){return e==="dark"?{main:Gs[500],light:Gs[300],dark:Gs[700]}:{main:Gs[700],light:Gs[400],dark:Gs[800]}}function rM(e="light"){return e==="dark"?{main:Js[400],light:Js[300],dark:Js[700]}:{main:Js[700],light:Js[500],dark:Js[900]}}function iM(e="light"){return e==="dark"?{main:Xs[400],light:Xs[300],dark:Xs[700]}:{main:Xs[800],light:Xs[500],dark:Xs[900]}}function oM(e="light"){return e==="dark"?{main:bl[400],light:bl[300],dark:bl[700]}:{main:"#ed6c02",light:bl[500],dark:bl[900]}}function Rv(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||eM(t),a=e.secondary||tM(t),c=e.error||nM(t),u=e.info||rM(t),d=e.success||iM(t),p=e.warning||oM(t);function h(b){return xO(b,K1.text.primary)>=n?K1.text.primary:ZO.text.primary}const g=({color:b,name:x,mainShade:C=500,lightShade:O=300,darkShade:R=700})=>{if(b={...b},!b.main&&b[C]&&(b.main=b[C]),!b.hasOwnProperty("main"))throw new Error(to(11,x?` (${x})`:"",C));if(typeof b.main!="string")throw new Error(to(12,x?` (${x})`:"",JSON.stringify(b.main)));return G1(b,"light",O,r),G1(b,"dark",R,r),b.contrastText||(b.contrastText=h(b.main)),b};let v;return t==="light"?v=qx():t==="dark"&&(v=Kx()),Vn({common:{...Zl},mode:t,primary:g({color:o,name:"primary"}),secondary:g({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:c,name:"error"}),warning:g({color:p,name:"warning"}),info:g({color:u,name:"info"}),success:g({color:d,name:"success"}),grey:o3,contrastThreshold:n,getContrastText:h,augmentColor:g,tonalOffset:r,...v},i)}function sM(e){const t={};return Object.entries(e).forEach(r=>{const[i,o]=r;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function aM(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function lM(e){return Math.round(e*1e5)/1e5}const Y1={textTransform:"uppercase"},Q1='"Roboto", "Helvetica", "Arial", sans-serif';function Gx(e,t){const{fontFamily:n=Q1,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:d,pxToRem:p,...h}=typeof t=="function"?t(e):t,g=r/14,v=p||(x=>`${x/u*g}rem`),S=(x,C,O,R,P)=>({fontFamily:n,fontWeight:x,fontSize:v(C),lineHeight:O,...n===Q1?{letterSpacing:`${lM(R/C)}em`}:{},...P,...d}),b={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(a,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(a,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(a,14,1.75,.4,Y1),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,Y1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Vn({htmlFontSize:u,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:c,...b},h,{clone:!1})}const cM=.2,uM=.14,dM=.12;function Jt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${cM})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${uM})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${dM})`].join(",")}const fM=["none",Jt(0,2,1,-1,0,1,1,0,0,1,3,0),Jt(0,3,1,-2,0,2,2,0,0,1,5,0),Jt(0,3,3,-2,0,3,4,0,0,1,8,0),Jt(0,2,4,-1,0,4,5,0,0,1,10,0),Jt(0,3,5,-1,0,5,8,0,0,1,14,0),Jt(0,3,5,-1,0,6,10,0,0,1,18,0),Jt(0,4,5,-2,0,7,10,1,0,2,16,1),Jt(0,5,5,-3,0,8,10,1,0,3,14,2),Jt(0,5,6,-3,0,9,12,1,0,3,16,2),Jt(0,6,6,-3,0,10,14,1,0,4,18,3),Jt(0,6,7,-4,0,11,15,1,0,4,20,3),Jt(0,7,8,-4,0,12,17,2,0,5,22,4),Jt(0,7,8,-4,0,13,19,2,0,5,24,4),Jt(0,7,9,-4,0,14,21,2,0,5,26,4),Jt(0,8,9,-5,0,15,22,2,0,6,28,5),Jt(0,8,10,-5,0,16,24,2,0,6,30,5),Jt(0,8,11,-5,0,17,26,2,0,6,32,5),Jt(0,9,11,-5,0,18,28,2,0,7,34,6),Jt(0,9,12,-6,0,19,29,2,0,7,36,6),Jt(0,10,13,-6,0,20,31,3,0,8,38,7),Jt(0,10,13,-6,0,21,33,3,0,8,40,7),Jt(0,10,14,-6,0,22,35,3,0,8,42,7),Jt(0,11,14,-7,0,23,36,3,0,9,44,8),Jt(0,11,15,-7,0,24,38,3,0,9,46,8)],pM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},hM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function J1(e){return`${Math.round(e)}ms`}function mM(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function gM(e){const t={...pM,...e.easing},n={...hM,...e.duration};return{getAutoHeightDuration:mM,create:(i=["all"],o={})=>{const{duration:a=n.standard,easing:c=t.easeInOut,delay:u=0,...d}=o;return(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof a=="string"?a:J1(a)} ${c} ${typeof u=="string"?u:J1(u)}`).join(",")},...e,easing:t,duration:n}}const vM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function yM(e){return Si(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Yx(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[a,c]=i[o];!yM(c)||a.startsWith("unstable_")?delete r[a]:Si(c)&&(r[a]={...c},n(r[a]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function zm(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:a={},typography:c={},shape:u,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(to(20));const p=Rv(o),h=vv(e);let g=Vn(h,{mixins:aM(h.breakpoints,r),palette:p,shadows:fM.slice(),typography:Gx(p,c),transitions:gM(a),zIndex:{...vM}});return g=Vn(g,d),g=t.reduce((v,S)=>Vn(v,S),g),g.unstable_sxConfig={...Sc,...d==null?void 0:d.unstable_sxConfig},g.unstable_sx=function(S){return No({sx:S,theme:this})},g.toRuntimeSource=Yx,g}function $m(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const bM=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=$m(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Qx(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Jx(e){return e==="dark"?bM:[]}function SM(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=Rv(t);return{palette:o,opacity:{...Qx(o.mode),...n},overlays:r||Jx(o.mode),...i}}function kM(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const CM=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],xM=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const a={};return CM(e.cssVarPrefix).forEach(c=>{a[c]=n[c],delete n[c]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:o?{[o.replace("%s",t)]:a,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...a}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function wM(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ie(e,t,n){!e[t]&&n&&(e[t]=n)}function Ul(e){return typeof e!="string"||!e.startsWith("hsl")?e:Ax(e)}function Wi(e,t){`${t}Channel`in e||(e[`${t}Channel`]=jl(Ul(e[t])))}function TM(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const fi=e=>{try{return e()}catch{}},EM=(e="mui")=>GO(e);function $h(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=SM({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:o,...a}=zm({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:o,opacity:{...Qx(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||Jx(i)},a}function PM(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:a=kM,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...d}=e,p=Object.keys(n)[0],h=r||(n.light&&p!=="light"?"light":p),g=EM(o),{[h]:v,light:S,dark:b,...x}=n,C={...x};let O=v;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(O=!0),!O)throw new Error(to(21,h));const R=$h(C,O,d,h);S&&!C.light&&$h(C,S,void 0,"light"),b&&!C.dark&&$h(C,b,void 0,"dark");let P={defaultColorScheme:h,...R,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:u,getCssVar:g,colorSchemes:C,font:{...sM(R.typography),...R.font},spacing:TM(d.spacing)};Object.keys(P.colorSchemes).forEach(U=>{const T=P.colorSchemes[U].palette,N=$=>{const W=$.split("-"),K=W[1],q=W[2];return g($,T[K][q])};if(T.mode==="light"&&(ie(T.common,"background","#fff"),ie(T.common,"onBackground","#000")),T.mode==="dark"&&(ie(T.common,"background","#000"),ie(T.common,"onBackground","#fff")),wM(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){ie(T.Alert,"errorColor",jt(T.error.light,.6)),ie(T.Alert,"infoColor",jt(T.info.light,.6)),ie(T.Alert,"successColor",jt(T.success.light,.6)),ie(T.Alert,"warningColor",jt(T.warning.light,.6)),ie(T.Alert,"errorFilledBg",N("palette-error-main")),ie(T.Alert,"infoFilledBg",N("palette-info-main")),ie(T.Alert,"successFilledBg",N("palette-success-main")),ie(T.Alert,"warningFilledBg",N("palette-warning-main")),ie(T.Alert,"errorFilledColor",fi(()=>T.getContrastText(T.error.main))),ie(T.Alert,"infoFilledColor",fi(()=>T.getContrastText(T.info.main))),ie(T.Alert,"successFilledColor",fi(()=>T.getContrastText(T.success.main))),ie(T.Alert,"warningFilledColor",fi(()=>T.getContrastText(T.warning.main))),ie(T.Alert,"errorStandardBg",Ut(T.error.light,.9)),ie(T.Alert,"infoStandardBg",Ut(T.info.light,.9)),ie(T.Alert,"successStandardBg",Ut(T.success.light,.9)),ie(T.Alert,"warningStandardBg",Ut(T.warning.light,.9)),ie(T.Alert,"errorIconColor",N("palette-error-main")),ie(T.Alert,"infoIconColor",N("palette-info-main")),ie(T.Alert,"successIconColor",N("palette-success-main")),ie(T.Alert,"warningIconColor",N("palette-warning-main")),ie(T.AppBar,"defaultBg",N("palette-grey-100")),ie(T.Avatar,"defaultBg",N("palette-grey-400")),ie(T.Button,"inheritContainedBg",N("palette-grey-300")),ie(T.Button,"inheritContainedHoverBg",N("palette-grey-A100")),ie(T.Chip,"defaultBorder",N("palette-grey-400")),ie(T.Chip,"defaultAvatarColor",N("palette-grey-700")),ie(T.Chip,"defaultIconColor",N("palette-grey-700")),ie(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ie(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ie(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ie(T.LinearProgress,"primaryBg",Ut(T.primary.main,.62)),ie(T.LinearProgress,"secondaryBg",Ut(T.secondary.main,.62)),ie(T.LinearProgress,"errorBg",Ut(T.error.main,.62)),ie(T.LinearProgress,"infoBg",Ut(T.info.main,.62)),ie(T.LinearProgress,"successBg",Ut(T.success.main,.62)),ie(T.LinearProgress,"warningBg",Ut(T.warning.main,.62)),ie(T.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),ie(T.Slider,"primaryTrack",Ut(T.primary.main,.62)),ie(T.Slider,"secondaryTrack",Ut(T.secondary.main,.62)),ie(T.Slider,"errorTrack",Ut(T.error.main,.62)),ie(T.Slider,"infoTrack",Ut(T.info.main,.62)),ie(T.Slider,"successTrack",Ut(T.success.main,.62)),ie(T.Slider,"warningTrack",Ut(T.warning.main,.62));const $=Wu(T.background.default,.8);ie(T.SnackbarContent,"bg",$),ie(T.SnackbarContent,"color",fi(()=>T.getContrastText($))),ie(T.SpeedDialAction,"fabHoverBg",Wu(T.background.paper,.15)),ie(T.StepConnector,"border",N("palette-grey-400")),ie(T.StepContent,"border",N("palette-grey-400")),ie(T.Switch,"defaultColor",N("palette-common-white")),ie(T.Switch,"defaultDisabledColor",N("palette-grey-100")),ie(T.Switch,"primaryDisabledColor",Ut(T.primary.main,.62)),ie(T.Switch,"secondaryDisabledColor",Ut(T.secondary.main,.62)),ie(T.Switch,"errorDisabledColor",Ut(T.error.main,.62)),ie(T.Switch,"infoDisabledColor",Ut(T.info.main,.62)),ie(T.Switch,"successDisabledColor",Ut(T.success.main,.62)),ie(T.Switch,"warningDisabledColor",Ut(T.warning.main,.62)),ie(T.TableCell,"border",Ut(Hu(T.divider,1),.88)),ie(T.Tooltip,"bg",Hu(T.grey[700],.92))}if(T.mode==="dark"){ie(T.Alert,"errorColor",Ut(T.error.light,.6)),ie(T.Alert,"infoColor",Ut(T.info.light,.6)),ie(T.Alert,"successColor",Ut(T.success.light,.6)),ie(T.Alert,"warningColor",Ut(T.warning.light,.6)),ie(T.Alert,"errorFilledBg",N("palette-error-dark")),ie(T.Alert,"infoFilledBg",N("palette-info-dark")),ie(T.Alert,"successFilledBg",N("palette-success-dark")),ie(T.Alert,"warningFilledBg",N("palette-warning-dark")),ie(T.Alert,"errorFilledColor",fi(()=>T.getContrastText(T.error.dark))),ie(T.Alert,"infoFilledColor",fi(()=>T.getContrastText(T.info.dark))),ie(T.Alert,"successFilledColor",fi(()=>T.getContrastText(T.success.dark))),ie(T.Alert,"warningFilledColor",fi(()=>T.getContrastText(T.warning.dark))),ie(T.Alert,"errorStandardBg",jt(T.error.light,.9)),ie(T.Alert,"infoStandardBg",jt(T.info.light,.9)),ie(T.Alert,"successStandardBg",jt(T.success.light,.9)),ie(T.Alert,"warningStandardBg",jt(T.warning.light,.9)),ie(T.Alert,"errorIconColor",N("palette-error-main")),ie(T.Alert,"infoIconColor",N("palette-info-main")),ie(T.Alert,"successIconColor",N("palette-success-main")),ie(T.Alert,"warningIconColor",N("palette-warning-main")),ie(T.AppBar,"defaultBg",N("palette-grey-900")),ie(T.AppBar,"darkBg",N("palette-background-paper")),ie(T.AppBar,"darkColor",N("palette-text-primary")),ie(T.Avatar,"defaultBg",N("palette-grey-600")),ie(T.Button,"inheritContainedBg",N("palette-grey-800")),ie(T.Button,"inheritContainedHoverBg",N("palette-grey-700")),ie(T.Chip,"defaultBorder",N("palette-grey-700")),ie(T.Chip,"defaultAvatarColor",N("palette-grey-300")),ie(T.Chip,"defaultIconColor",N("palette-grey-300")),ie(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ie(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ie(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ie(T.LinearProgress,"primaryBg",jt(T.primary.main,.5)),ie(T.LinearProgress,"secondaryBg",jt(T.secondary.main,.5)),ie(T.LinearProgress,"errorBg",jt(T.error.main,.5)),ie(T.LinearProgress,"infoBg",jt(T.info.main,.5)),ie(T.LinearProgress,"successBg",jt(T.success.main,.5)),ie(T.LinearProgress,"warningBg",jt(T.warning.main,.5)),ie(T.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),ie(T.Slider,"primaryTrack",jt(T.primary.main,.5)),ie(T.Slider,"secondaryTrack",jt(T.secondary.main,.5)),ie(T.Slider,"errorTrack",jt(T.error.main,.5)),ie(T.Slider,"infoTrack",jt(T.info.main,.5)),ie(T.Slider,"successTrack",jt(T.success.main,.5)),ie(T.Slider,"warningTrack",jt(T.warning.main,.5));const $=Wu(T.background.default,.98);ie(T.SnackbarContent,"bg",$),ie(T.SnackbarContent,"color",fi(()=>T.getContrastText($))),ie(T.SpeedDialAction,"fabHoverBg",Wu(T.background.paper,.15)),ie(T.StepConnector,"border",N("palette-grey-600")),ie(T.StepContent,"border",N("palette-grey-600")),ie(T.Switch,"defaultColor",N("palette-grey-300")),ie(T.Switch,"defaultDisabledColor",N("palette-grey-600")),ie(T.Switch,"primaryDisabledColor",jt(T.primary.main,.55)),ie(T.Switch,"secondaryDisabledColor",jt(T.secondary.main,.55)),ie(T.Switch,"errorDisabledColor",jt(T.error.main,.55)),ie(T.Switch,"infoDisabledColor",jt(T.info.main,.55)),ie(T.Switch,"successDisabledColor",jt(T.success.main,.55)),ie(T.Switch,"warningDisabledColor",jt(T.warning.main,.55)),ie(T.TableCell,"border",jt(Hu(T.divider,1),.68)),ie(T.Tooltip,"bg",Hu(T.grey[700],.92))}Wi(T.background,"default"),Wi(T.background,"paper"),Wi(T.common,"background"),Wi(T.common,"onBackground"),Wi(T,"divider"),Object.keys(T).forEach($=>{const W=T[$];$!=="tonalOffset"&&W&&typeof W=="object"&&(W.main&&ie(T[$],"mainChannel",jl(Ul(W.main))),W.light&&ie(T[$],"lightChannel",jl(Ul(W.light))),W.dark&&ie(T[$],"darkChannel",jl(Ul(W.dark))),W.contrastText&&ie(T[$],"contrastTextChannel",jl(Ul(W.contrastText))),$==="text"&&(Wi(T[$],"primary"),Wi(T[$],"secondary")),$==="action"&&(W.active&&Wi(T[$],"active"),W.selected&&Wi(T[$],"selected")))})}),P=t.reduce((U,T)=>Vn(U,T),P);const E={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:xM(P)},{vars:I,generateThemeVars:D,generateStyleSheets:B}=JO(P,E);return P.vars=I,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([U,T])=>{P[U]=T}),P.generateThemeVars=D,P.generateStyleSheets=B,P.generateSpacing=function(){return Tx(d.spacing,mv(this))},P.getColorSchemeSelector=XO(c),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=a,P.unstable_sxConfig={...Sc,...d==null?void 0:d.unstable_sxConfig},P.unstable_sx=function(T){return No({sx:T,theme:this})},P.toRuntimeSource=Yx,P}function X1(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:Rv({...n===!0?{}:n.palette,mode:t})})}function Sf(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...a}=e,c=o||"light",u=i==null?void 0:i[c],d={...i,...n?{[c]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return zm(e,...t);let p=n;"palette"in e||d[c]&&(d[c]!==!0?p=d[c].palette:c==="dark"&&(p={mode:"dark"}));const h=zm({...e,palette:p},...t);return h.defaultColorScheme=c,h.colorSchemes=d,h.palette.mode==="light"&&(h.colorSchemes.light={...d.light!==!0&&d.light,palette:h.palette},X1(h,"dark",d.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:h.palette},X1(h,"light",d.light)),h}return!n&&!("light"in d)&&c==="light"&&(d.light=!0),PM({...a,colorSchemes:d,defaultColorScheme:c,...typeof r!="boolean"&&r},...t)}const Iv=Sf();function _a(){const e=yv(Iv);return e[ni]||e}function Xx(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const zr=e=>Xx(e)&&e!=="classes",Ie=dO({themeId:ni,defaultTheme:Iv,rootShouldForwardProp:zr});function RM({theme:e,...t}){const n=ni in e?e[ni]:void 0;return M.jsx(Hx,{...t,themeId:n?ni:void 0,theme:n||e})}const qu={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:IM}=KO({themeId:ni,theme:()=>Sf({cssVariables:!0}),colorSchemeStorageKey:qu.colorSchemeStorageKey,modeStorageKey:qu.modeStorageKey,defaultColorScheme:{light:qu.defaultLightColorScheme,dark:qu.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Gx(e.palette,e.typography)};return t.unstable_sx=function(r){return No({sx:r,theme:this})},t}}),_M=IM;function OM({theme:e,...t}){const n=w.useMemo(()=>{if(typeof e=="function")return e;const r=ni in e?e[ni]:e;return"colorSchemes"in r?null:"vars"in r?e:{...e,vars:null}},[e]);return n?M.jsx(RM,{theme:n,...t}):M.jsx(_M,{theme:e,...t})}function MM(e){return M.jsx(Ex,{...e,defaultTheme:Iv,themeId:ni})}function AM(e){return function(n){return M.jsx(MM,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function NM(){return bv}const Dt=UO;function It(e){return FO(e)}function LM(e){return Ct("MuiSvgIcon",e)}pt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const DM=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${st(t)}`,`fontSize${st(n)}`]};return xt(i,LM,r)},FM=Ie("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${st(n.color)}`],t[`fontSize${st(n.fontSize)}`]]}})(Dt(({theme:e})=>{var t,n,r,i,o,a,c,u,d,p,h,g,v,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(d=e.typography)==null?void 0:d.pxToRem)==null?void 0:p.call(d,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,b])=>b&&b.main).map(([b])=>{var x,C;return{props:{color:b},style:{color:(C=(x=(e.vars??e).palette)==null?void 0:x[b])==null?void 0:C.main}}}),{props:{color:"action"},style:{color:(g=(h=(e.vars??e).palette)==null?void 0:h.action)==null?void 0:g.active}},{props:{color:"disabled"},style:{color:(S=(v=(e.vars??e).palette)==null?void 0:v.action)==null?void 0:S.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Vm=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:c="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:h,viewBox:g="0 0 24 24",...v}=r,S=w.isValidElement(i)&&i.type==="svg",b={...r,color:a,component:c,fontSize:u,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:g,hasSvgAsChild:S},x={};p||(x.viewBox=g);const C=DM(b);return M.jsxs(FM,{as:c,className:$e(C.root,o),focusable:"false",color:d,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...x,...v,...S&&i.props,ownerState:b,children:[S?i.props.children:i,h?M.jsx("title",{children:h}):null]})});Vm.muiName="SvgIcon";function jo(e,t){function n(r,i){return M.jsx(Vm,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=Vm.muiName,w.memo(w.forwardRef(n))}function jM(e,t){if(!e)return t;if(typeof e=="function"||typeof t=="function")return i=>{const o=typeof t=="function"?t(i):t,a=typeof e=="function"?e({...i,...o}):e,c=$e(i==null?void 0:i.className,o==null?void 0:o.className,a==null?void 0:a.className);return{...o,...a,...!!c&&{className:c},...(o==null?void 0:o.style)&&(a==null?void 0:a.style)&&{style:{...o.style,...a.style}},...(o==null?void 0:o.sx)&&(a==null?void 0:a.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(a.sx)?a.sx:[a.sx]]}}};const n=t,r=$e(n==null?void 0:n.className,e==null?void 0:e.className);return{...t,...e,...!!r&&{className:r},...(n==null?void 0:n.style)&&(e==null?void 0:e.style)&&{style:{...n.style,...e.style}},...(n==null?void 0:n.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function Zx(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Hm(e,t)}function ew(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Hm(e,t)}const Z1={disabled:!1},Ld=ei.createContext(null);var UM=function(t){return t.scrollTop},Bl="unmounted",rs="exited",is="entering",oa="entered",Wm="exiting",Ai=function(e){ew(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=i,c=a&&!a.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?c?(u=rs,o.appearStatus=is):u=oa:r.unmountOnExit||r.mountOnEnter?u=Bl:u=rs,o.state={status:u},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Bl?{status:rs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==is&&a!==oa&&(o=is):(a===is||a===oa)&&(o=Wm)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,c;return o=a=c=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,c=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:c}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===is){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:$u.findDOMNode(this);a&&UM(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rs&&this.setState({status:Bl})},n.performEnter=function(i){var o=this,a=this.props.enter,c=this.context?this.context.isMounting:i,u=this.props.nodeRef?[c]:[$u.findDOMNode(this),c],d=u[0],p=u[1],h=this.getTimeouts(),g=c?h.appear:h.enter;if(!i&&!a||Z1.disabled){this.safeSetState({status:oa},function(){o.props.onEntered(d)});return}this.props.onEnter(d,p),this.safeSetState({status:is},function(){o.props.onEntering(d,p),o.onTransitionEnd(g,function(){o.safeSetState({status:oa},function(){o.props.onEntered(d,p)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),c=this.props.nodeRef?void 0:$u.findDOMNode(this);if(!o||Z1.disabled){this.safeSetState({status:rs},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Wm},function(){i.props.onExiting(c),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:rs},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(c){a&&(a=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:$u.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!a||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=u[0],p=u[1];this.props.addEndListener(d,p)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Bl)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=Zx(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ei.createElement(Ld.Provider,{value:null},typeof a=="function"?a(i,c):ei.cloneElement(ei.Children.only(a),c))},t}(ei.Component);Ai.contextType=Ld;Ai.propTypes={};function Zs(){}Ai.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zs,onEntering:Zs,onEntered:Zs,onExit:Zs,onExiting:Zs,onExited:Zs};Ai.UNMOUNTED=Bl;Ai.EXITED=rs;Ai.ENTERING=is;Ai.ENTERED=oa;Ai.EXITING=Wm;function BM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _v(e,t){var n=function(o){return t&&w.isValidElement(o)?t(o):o},r=Object.create(null);return e&&w.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function zM(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,c={};for(var u in t){if(r[u])for(a=0;a<r[u].length;a++){var d=r[u][a];c[r[u][a]]=n(d)}c[u]=n(u)}for(a=0;a<i.length;a++)c[i[a]]=n(i[a]);return c}function as(e,t,n){return n[t]!=null?n[t]:e.props[t]}function $M(e,t){return _v(e.children,function(n){return w.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:as(n,"appear",e),enter:as(n,"enter",e),exit:as(n,"exit",e)})})}function VM(e,t,n){var r=_v(e.children),i=zM(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(w.isValidElement(a)){var c=o in t,u=o in r,d=t[o],p=w.isValidElement(d)&&!d.props.in;u&&(!c||p)?i[o]=w.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:as(a,"exit",e),enter:as(a,"enter",e)}):!u&&c&&!p?i[o]=w.cloneElement(a,{in:!1}):u&&c&&w.isValidElement(d)&&(i[o]=w.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:as(a,"exit",e),enter:as(a,"enter",e)}))}}),i}var HM=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},WM={component:"div",childFactory:function(t){return t}},Ov=function(e){ew(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=o.handleExited.bind(BM(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,c=o.handleExited,u=o.firstRender;return{children:u?$M(i,c):VM(i,a,c),firstRender:!1}},n.handleExited=function(i,o){var a=_v(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(c){var u=Od({},c.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,o=i.component,a=i.childFactory,c=Zx(i,["component","childFactory"]),u=this.state.contextValue,d=HM(this.state.children).map(a);return delete c.appear,delete c.enter,delete c.exit,o===null?ei.createElement(Ld.Provider,{value:u},d):ei.createElement(Ld.Provider,{value:u},ei.createElement(o,c,d))},t}(ei.Component);Ov.propTypes={};Ov.defaultProps=WM;const tw=e=>e.scrollTop;function Dd(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}function qM(e){return Ct("MuiPaper",e)}pt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const KM=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return xt(o,qM,i)},GM=Ie("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Dt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),YM=w.forwardRef(function(t,n){var v;const r=It({props:t,name:"MuiPaper"}),i=_a(),{className:o,component:a="div",elevation:c=1,square:u=!1,variant:d="elevation",...p}=r,h={...r,component:a,elevation:c,square:u,variant:d},g=KM(h);return M.jsx(GM,{as:a,ownerState:h,className:$e(g.root,o),ref:n,...p,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[c],...i.vars&&{"--Paper-overlay":(v=i.vars.overlays)==null?void 0:v[c]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Sr("#fff",$m(c))}, ${Sr("#fff",$m(c))})`}},...p.style}})});function Gt(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:a,shouldForwardComponentProp:c=!1,...u}=t,{component:d,slots:p={[e]:void 0},slotProps:h={[e]:void 0},...g}=o,v=p[e]||r,S=Bx(h[e],i),{props:{component:b,...x},internalRef:C}=Ux({className:n,...u,externalForwardedProps:e==="root"?g:void 0,externalSlotProps:S}),O=Hn(C,S==null?void 0:S.ref,t.ref),R=e==="root"?b||d:b,P=Fx(v,{...e==="root"&&!d&&!p[e]&&a,...e!=="root"&&!p[e]&&a,...x,...R&&!c&&{as:R},...R&&c&&{component:R},ref:O},i);return[v,P]}class Fd{constructor(){gl(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Fd}static use(){const t=Nx(Fd.create).current,[n,r]=w.useState(!1);return t.shouldMount=n,t.setShouldMount=r,w.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=JM(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function QM(){return Fd.use()}function JM(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function XM(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:c,onExited:u,timeout:d}=e,[p,h]=w.useState(!1),g=$e(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},S=$e(n.child,p&&n.childLeaving,r&&n.childPulsate);return!c&&!p&&h(!0),w.useEffect(()=>{if(!c&&u!=null){const b=setTimeout(u,d);return()=>{clearTimeout(b)}}},[u,c,d]),M.jsx("span",{className:g,style:v,children:M.jsx("span",{className:S})})}const Lr=pt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),qm=550,ZM=80,e4=vc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,t4=vc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,n4=vc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,r4=Ie("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),i4=Ie(XM,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Lr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${e4};
    animation-duration: ${qm}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Lr.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Lr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Lr.childLeaving} {
    opacity: 0;
    animation-name: ${t4};
    animation-duration: ${qm}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Lr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${n4};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,o4=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a,...c}=r,[u,d]=w.useState([]),p=w.useRef(0),h=w.useRef(null);w.useEffect(()=>{h.current&&(h.current(),h.current=null)},[u]);const g=w.useRef(!1),v=Lx(),S=w.useRef(null),b=w.useRef(null),x=w.useCallback(P=>{const{pulsate:E,rippleX:I,rippleY:D,rippleSize:B,cb:U}=P;d(T=>[...T,M.jsx(i4,{classes:{ripple:$e(o.ripple,Lr.ripple),rippleVisible:$e(o.rippleVisible,Lr.rippleVisible),ripplePulsate:$e(o.ripplePulsate,Lr.ripplePulsate),child:$e(o.child,Lr.child),childLeaving:$e(o.childLeaving,Lr.childLeaving),childPulsate:$e(o.childPulsate,Lr.childPulsate)},timeout:qm,pulsate:E,rippleX:I,rippleY:D,rippleSize:B},p.current)]),p.current+=1,h.current=U},[o]),C=w.useCallback((P={},E={},I=()=>{})=>{const{pulsate:D=!1,center:B=i||E.pulsate,fakeElement:U=!1}=E;if((P==null?void 0:P.type)==="mousedown"&&g.current){g.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(g.current=!0);const T=U?null:b.current,N=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $,W,K;if(B||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)$=Math.round(N.width/2),W=Math.round(N.height/2);else{const{clientX:q,clientY:ne}=P.touches&&P.touches.length>0?P.touches[0]:P;$=Math.round(q-N.left),W=Math.round(ne-N.top)}if(B)K=Math.sqrt((2*N.width**2+N.height**2)/3),K%2===0&&(K+=1);else{const q=Math.max(Math.abs((T?T.clientWidth:0)-$),$)*2+2,ne=Math.max(Math.abs((T?T.clientHeight:0)-W),W)*2+2;K=Math.sqrt(q**2+ne**2)}P!=null&&P.touches?S.current===null&&(S.current=()=>{x({pulsate:D,rippleX:$,rippleY:W,rippleSize:K,cb:I})},v.start(ZM,()=>{S.current&&(S.current(),S.current=null)})):x({pulsate:D,rippleX:$,rippleY:W,rippleSize:K,cb:I})},[i,x,v]),O=w.useCallback(()=>{C({},{pulsate:!0})},[C]),R=w.useCallback((P,E)=>{if(v.clear(),(P==null?void 0:P.type)==="touchend"&&S.current){S.current(),S.current=null,v.start(0,()=>{R(P,E)});return}S.current=null,d(I=>I.length>0?I.slice(1):I),h.current=E},[v]);return w.useImperativeHandle(n,()=>({pulsate:O,start:C,stop:R}),[O,C,R]),M.jsx(r4,{className:$e(Lr.root,o.root,a),ref:b,...c,children:M.jsx(Ov,{component:null,exit:!0,children:u})})});function s4(e){return Ct("MuiButtonBase",e)}const a4=pt("MuiButtonBase",["root","disabled","focusVisible"]),l4=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,a=xt({root:["root",t&&"disabled",n&&"focusVisible"]},s4,i);return n&&r&&(a.root+=` ${r}`),a},c4=Ie("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${a4.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Cc=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:c,component:u="button",disabled:d=!1,disableRipple:p=!1,disableTouchRipple:h=!1,focusRipple:g=!1,focusVisibleClassName:v,LinkComponent:S="a",onBlur:b,onClick:x,onContextMenu:C,onDragLeave:O,onFocus:R,onFocusVisible:P,onKeyDown:E,onKeyUp:I,onMouseDown:D,onMouseLeave:B,onMouseUp:U,onTouchEnd:T,onTouchMove:N,onTouchStart:$,tabIndex:W=0,TouchRippleProps:K,touchRippleRef:q,type:ne,...le}=r,ee=w.useRef(null),Y=QM(),A=Hn(Y.ref,q),[F,J]=w.useState(!1);d&&F&&J(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{J(!0),ee.current.focus()}}),[]);const L=Y.shouldMount&&!p&&!d;w.useEffect(()=>{F&&g&&!p&&Y.pulsate()},[p,g,F,Y]);const ve=qi(Y,"start",D,h),ke=qi(Y,"stop",C,h),me=qi(Y,"stop",O,h),we=qi(Y,"stop",U,h),Ee=qi(Y,"stop",Oe=>{F&&Oe.preventDefault(),B&&B(Oe)},h),Re=qi(Y,"start",$,h),Te=qi(Y,"stop",T,h),Ue=qi(Y,"stop",N,h),He=qi(Y,"stop",Oe=>{B1(Oe.target)||J(!1),b&&b(Oe)},!1),it=wi(Oe=>{ee.current||(ee.current=Oe.currentTarget),B1(Oe.target)&&(J(!0),P&&P(Oe)),R&&R(Oe)}),We=()=>{const Oe=ee.current;return u&&u!=="button"&&!(Oe.tagName==="A"&&Oe.href)},at=wi(Oe=>{g&&!Oe.repeat&&F&&Oe.key===" "&&Y.stop(Oe,()=>{Y.start(Oe)}),Oe.target===Oe.currentTarget&&We()&&Oe.key===" "&&Oe.preventDefault(),E&&E(Oe),Oe.target===Oe.currentTarget&&We()&&Oe.key==="Enter"&&!d&&(Oe.preventDefault(),x&&x(Oe))}),Ft=wi(Oe=>{g&&Oe.key===" "&&F&&!Oe.defaultPrevented&&Y.stop(Oe,()=>{Y.pulsate(Oe)}),I&&I(Oe),x&&Oe.target===Oe.currentTarget&&We()&&Oe.key===" "&&!Oe.defaultPrevented&&x(Oe)});let Qe=u;Qe==="button"&&(le.href||le.to)&&(Qe=S);const Ye={};Qe==="button"?(Ye.type=ne===void 0?"button":ne,Ye.disabled=d):(!le.href&&!le.to&&(Ye.role="button"),d&&(Ye["aria-disabled"]=d));const ht=Hn(n,ee),ut={...r,centerRipple:o,component:u,disabled:d,disableRipple:p,disableTouchRipple:h,focusRipple:g,tabIndex:W,focusVisible:F},tt=l4(ut);return M.jsxs(c4,{as:Qe,className:$e(tt.root,c),ownerState:ut,onBlur:He,onClick:x,onContextMenu:ke,onFocus:it,onKeyDown:at,onKeyUp:Ft,onMouseDown:ve,onMouseLeave:Ee,onMouseUp:we,onDragLeave:me,onTouchEnd:Te,onTouchMove:Ue,onTouchStart:Re,ref:ht,tabIndex:d?-1:W,type:ne,...Ye,...le,children:[a,L?M.jsx(o4,{ref:A,center:o,...K}):null]})});function qi(e,t,n,r=!1){return wi(i=>(n&&n(i),r||e[t](i),!0))}function u4(e){return typeof e.main=="string"}function d4(e,t=[]){if(!u4(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Do(e=[]){return([,t])=>t&&d4(t,e)}function f4(e){return Ct("MuiCircularProgress",e)}pt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const wo=44,Km=vc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Gm=vc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,p4=typeof Km!="string"?fv`
        animation: ${Km} 1.4s linear infinite;
      `:null,h4=typeof Gm!="string"?fv`
        animation: ${Gm} 1.4s ease-in-out infinite;
      `:null,m4=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${st(r)}`],svg:["svg"],circle:["circle",`circle${st(n)}`,i&&"circleDisableShrink"]};return xt(o,f4,t)},g4=Ie("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${st(n.color)}`]]}})(Dt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:p4||{animation:`${Km} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Do()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),v4=Ie("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),y4=Ie("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${st(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Dt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:h4||{animation:`${Gm} 1.4s ease-in-out infinite`}}]}))),b4=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:a=!1,size:c=40,style:u,thickness:d=3.6,value:p=0,variant:h="indeterminate",...g}=r,v={...r,color:o,disableShrink:a,size:c,thickness:d,value:p,variant:h},S=m4(v),b={},x={},C={};if(h==="determinate"){const O=2*Math.PI*((wo-d)/2);b.strokeDasharray=O.toFixed(3),C["aria-valuenow"]=Math.round(p),b.strokeDashoffset=`${((100-p)/100*O).toFixed(3)}px`,x.transform="rotate(-90deg)"}return M.jsx(g4,{className:$e(S.root,i),style:{width:c,height:c,...x,...u},ownerState:v,ref:n,role:"progressbar",...C,...g,children:M.jsx(v4,{className:S.svg,ownerState:v,viewBox:`${wo/2} ${wo/2} ${wo} ${wo}`,children:M.jsx(y4,{className:S.circle,style:b,ownerState:v,cx:wo,cy:wo,r:(wo-d)/2,fill:"none",strokeWidth:d})})})});function S4(e){return Ct("MuiIconButton",e)}const eS=pt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),k4=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o,loading:a}=e,c={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${st(r)}`,i&&`edge${st(i)}`,`size${st(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return xt(c,S4,t)},C4=Ie(Cc,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${st(n.color)}`],n.edge&&t[`edge${st(n.edge)}`],t[`size${st(n.size)}`]]}})(Dt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Sr(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Dt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Do()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Do()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Sr((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${eS.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${eS.loading}`]:{color:"transparent"}}))),x4=Ie("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Ti=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:c="default",disabled:u=!1,disableFocusRipple:d=!1,size:p="medium",id:h,loading:g=null,loadingIndicator:v,...S}=r,b=bf(h),x=v??M.jsx(b4,{"aria-labelledby":b,color:"inherit",size:16}),C={...r,edge:i,color:c,disabled:u,disableFocusRipple:d,loading:g,loadingIndicator:x,size:p},O=k4(C);return M.jsxs(C4,{id:g?b:h,className:$e(O.root,a),centerRipple:!0,focusRipple:!d,disabled:u||g,ref:n,...S,ownerState:C,children:[typeof g=="boolean"&&M.jsx("span",{className:O.loadingWrapper,style:{display:"contents"},children:M.jsx(x4,{className:O.loadingIndicator,ownerState:C,children:g&&x})}),o]})});function w4(e){return Ct("MuiTypography",e)}const tS=pt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),T4={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},E4=NM(),P4=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e,c={root:["root",o,e.align!=="inherit"&&`align${st(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return xt(c,w4,a)},R4=Ie("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${st(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Dt(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Do()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${st(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),nS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Rn=w.forwardRef(function(t,n){const{color:r,...i}=It({props:t,name:"MuiTypography"}),o=!T4[r],a=E4({...i,...o&&{color:r}}),{align:c="inherit",className:u,component:d,gutterBottom:p=!1,noWrap:h=!1,paragraph:g=!1,variant:v="body1",variantMapping:S=nS,...b}=a,x={...a,align:c,color:r,className:u,component:d,gutterBottom:p,noWrap:h,paragraph:g,variant:v,variantMapping:S},C=d||(g?"p":S[v]||nS[v])||"span",O=P4(x);return M.jsx(R4,{as:C,ref:n,className:$e(O.root,u),...b,ownerState:x,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...b.style}})});function I4(e){return typeof e=="function"?e():e}const _4=w.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[a,c]=w.useState(null),u=Hn(w.isValidElement(r)?kc(r):null,n);if(Tr(()=>{o||c(I4(i)||document.body)},[i,o]),Tr(()=>{if(a&&!o)return L1(n,a),()=>{L1(n,null)}},[n,a,o]),o){if(w.isValidElement(r)){const d={ref:u};return w.cloneElement(r,d)}return r}return a&&sx.createPortal(r,a)});function Ku(e){return parseInt(e,10)||0}const O4={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function M4(e){for(const t in e)return!1;return!0}function rS(e){return M4(e)||e.outerHeightStyle===0&&!e.overflowing}const A4=w.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:a,value:c,...u}=t,{current:d}=w.useRef(c!=null),p=w.useRef(null),h=Hn(n,p),g=w.useRef(null),v=w.useRef(null),S=w.useCallback(()=>{const R=p.current,P=v.current;if(!R||!P)return;const I=ri(R).getComputedStyle(R);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=I.width,P.value=R.value||t.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const D=I.boxSizing,B=Ku(I.paddingBottom)+Ku(I.paddingTop),U=Ku(I.borderBottomWidth)+Ku(I.borderTopWidth),T=P.scrollHeight;P.value="x";const N=P.scrollHeight;let $=T;o&&($=Math.max(Number(o)*N,$)),i&&($=Math.min(Number(i)*N,$)),$=Math.max($,N);const W=$+(D==="border-box"?B+U:0),K=Math.abs($-T)<=1;return{outerHeightStyle:W,overflowing:K}},[i,o,t.placeholder]),b=wi(()=>{const R=p.current,P=S();if(!R||!P||rS(P))return!1;const E=P.outerHeightStyle;return g.current!=null&&g.current!==E}),x=w.useCallback(()=>{const R=p.current,P=S();if(!R||!P||rS(P))return;const E=P.outerHeightStyle;g.current!==E&&(g.current=E,R.style.height=`${E}px`),R.style.overflow=P.overflowing?"hidden":""},[S]),C=w.useRef(-1);Tr(()=>{const R=yf(x),P=p==null?void 0:p.current;if(!P)return;const E=ri(P);E.addEventListener("resize",R);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{b()&&(I.unobserve(P),cancelAnimationFrame(C.current),x(),C.current=requestAnimationFrame(()=>{I.observe(P)}))}),I.observe(P)),()=>{R.clear(),cancelAnimationFrame(C.current),E.removeEventListener("resize",R),I&&I.disconnect()}},[S,x,b]),Tr(()=>{x()});const O=R=>{d||x(),r&&r(R)};return M.jsxs(w.Fragment,{children:[M.jsx("textarea",{value:c,onChange:O,ref:h,rows:o,style:a,...u}),M.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:v,tabIndex:-1,style:{...O4.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function Ym(e){return typeof e=="string"}function Oa({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const kf=w.createContext(void 0);function ys(){return w.useContext(kf)}function iS(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function jd(e,t=!1){return e&&(iS(e.value)&&e.value!==""||t&&iS(e.defaultValue)&&e.defaultValue!=="")}function N4(e){return e.startAdornment}function L4(e){return Ct("MuiInputBase",e)}const Ca=pt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var oS;const Cf=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${st(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},xf=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},D4=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:c,fullWidth:u,hiddenLabel:d,multiline:p,readOnly:h,size:g,startAdornment:v,type:S}=e,b={root:["root",`color${st(n)}`,r&&"disabled",i&&"error",u&&"fullWidth",a&&"focused",c&&"formControl",g&&g!=="medium"&&`size${st(g)}`,p&&"multiline",v&&"adornedStart",o&&"adornedEnd",d&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",S==="search"&&"inputTypeSearch",p&&"inputMultiline",g==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",v&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return xt(b,L4,t)},wf=Ie("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Cf})(Dt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ca.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Tf=Ie("input",{name:"MuiInputBase",slot:"Input",overridesResolver:xf})(Dt(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ca.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Ca.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),sS=AM({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Mv=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:c,color:u,components:d={},componentsProps:p={},defaultValue:h,disabled:g,disableInjectingGlobalStyles:v,endAdornment:S,error:b,fullWidth:x=!1,id:C,inputComponent:O="input",inputProps:R={},inputRef:P,margin:E,maxRows:I,minRows:D,multiline:B=!1,name:U,onBlur:T,onChange:N,onClick:$,onFocus:W,onKeyDown:K,onKeyUp:q,placeholder:ne,readOnly:le,renderSuffix:ee,rows:Y,size:A,slotProps:F={},slots:J={},startAdornment:L,type:ve="text",value:ke,...me}=r,we=R.value!=null?R.value:ke,{current:Ee}=w.useRef(we!=null),Re=w.useRef(),Te=w.useCallback(je=>{},[]),Ue=Hn(Re,P,R.ref,Te),[He,it]=w.useState(!1),We=ys(),at=Oa({props:r,muiFormControl:We,states:["color","disabled","error","hiddenLabel","size","required","filled"]});at.focused=We?We.focused:He,w.useEffect(()=>{!We&&g&&He&&(it(!1),T&&T())},[We,g,He,T]);const Ft=We&&We.onFilled,Qe=We&&We.onEmpty,Ye=w.useCallback(je=>{jd(je)?Ft&&Ft():Qe&&Qe()},[Ft,Qe]);Tr(()=>{Ee&&Ye({value:we})},[we,Ye,Ee]);const ht=je=>{W&&W(je),R.onFocus&&R.onFocus(je),We&&We.onFocus?We.onFocus(je):it(!0)},ut=je=>{T&&T(je),R.onBlur&&R.onBlur(je),We&&We.onBlur?We.onBlur(je):it(!1)},tt=(je,...mt)=>{if(!Ee){const gt=je.target||Re.current;if(gt==null)throw new Error(to(1));Ye({value:gt.value})}R.onChange&&R.onChange(je,...mt),N&&N(je,...mt)};w.useEffect(()=>{Ye(Re.current)},[]);const Oe=je=>{Re.current&&je.currentTarget===je.target&&Re.current.focus(),$&&$(je)};let Yt=O,ct=R;B&&Yt==="input"&&(Y?ct={type:void 0,minRows:Y,maxRows:Y,...ct}:ct={type:void 0,maxRows:I,minRows:D,...ct},Yt=A4);const Cn=je=>{Ye(je.animationName==="mui-auto-fill-cancel"?Re.current:{value:"x"})};w.useEffect(()=>{We&&We.setAdornedStart(!!L)},[We,L]);const re={...r,color:at.color||"primary",disabled:at.disabled,endAdornment:S,error:at.error,focused:at.focused,formControl:We,fullWidth:x,hiddenLabel:at.hiddenLabel,multiline:B,size:at.size,startAdornment:L,type:ve},pe=D4(re),Ce=J.root||d.Root||wf,Me=F.root||p.root||{},Fe=J.input||d.Input||Tf;return ct={...ct,...F.input??p.input},M.jsxs(w.Fragment,{children:[!v&&typeof sS=="function"&&(oS||(oS=M.jsx(sS,{}))),M.jsxs(Ce,{...Me,ref:n,onClick:Oe,...me,...!Ym(Ce)&&{ownerState:{...re,...Me.ownerState}},className:$e(pe.root,Me.className,c,le&&"MuiInputBase-readOnly"),children:[L,M.jsx(kf.Provider,{value:null,children:M.jsx(Fe,{"aria-invalid":at.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:h,disabled:at.disabled,id:C,onAnimationStart:Cn,name:U,placeholder:ne,readOnly:le,required:at.required,rows:Y,value:we,onKeyDown:K,onKeyUp:q,type:ve,...ct,...!Ym(Fe)&&{as:Yt,ownerState:{...re,...ct.ownerState}},ref:Ue,className:$e(pe.input,ct.className,le&&"MuiInputBase-readOnly"),onBlur:ut,onChange:tt,onFocus:ht})}),S,ee?ee({...at,startAdornment:L}):null]})]})});function F4(e){return Ct("MuiInput",e)}const kl={...Ca,...pt("MuiInput",["root","underline","input"])};function j4(e){return Ct("MuiOutlinedInput",e)}const pi={...Ca,...pt("MuiOutlinedInput",["root","notchedOutline","input"])};function U4(e){return Ct("MuiFilledInput",e)}const ts={...Ca,...pt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},B4=jo(M.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),z4={entering:{opacity:1},entered:{opacity:1}},$4=w.forwardRef(function(t,n){const r=_a(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:c,easing:u,in:d,onEnter:p,onEntered:h,onEntering:g,onExit:v,onExited:S,onExiting:b,style:x,timeout:C=i,TransitionComponent:O=Ai,...R}=t,P=w.useRef(null),E=Hn(P,kc(c),n),I=K=>q=>{if(K){const ne=P.current;q===void 0?K(ne):K(ne,q)}},D=I(g),B=I((K,q)=>{tw(K);const ne=Dd({style:x,timeout:C,easing:u},{mode:"enter"});K.style.webkitTransition=r.transitions.create("opacity",ne),K.style.transition=r.transitions.create("opacity",ne),p&&p(K,q)}),U=I(h),T=I(b),N=I(K=>{const q=Dd({style:x,timeout:C,easing:u},{mode:"exit"});K.style.webkitTransition=r.transitions.create("opacity",q),K.style.transition=r.transitions.create("opacity",q),v&&v(K)}),$=I(S),W=K=>{o&&o(P.current,K)};return M.jsx(O,{appear:a,in:d,nodeRef:P,onEnter:B,onEntered:U,onEntering:D,onExit:N,onExited:$,onExiting:T,addEndListener:W,timeout:C,...R,children:(K,{ownerState:q,...ne})=>w.cloneElement(c,{style:{opacity:0,visibility:K==="exited"&&!d?"hidden":void 0,...z4[K],...x,...c.props.style},ref:E,...ne})})});function V4(e){return Ct("MuiBackdrop",e)}pt("MuiBackdrop",["root","invisible"]);const H4=e=>{const{classes:t,invisible:n}=e;return xt({root:["root",n&&"invisible"]},V4,t)},W4=Ie("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),q4=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiBackdrop"}),{children:i,className:o,component:a="div",invisible:c=!1,open:u,components:d={},componentsProps:p={},slotProps:h={},slots:g={},TransitionComponent:v,transitionDuration:S,...b}=r,x={...r,component:a,invisible:c},C=H4(x),O={transition:v,root:d.Root,...g},R={...p,...h},P={slots:O,slotProps:R},[E,I]=Gt("root",{elementType:W4,externalForwardedProps:P,className:$e(C.root,o),ownerState:x}),[D,B]=Gt("transition",{elementType:$4,externalForwardedProps:P,ownerState:x});return M.jsx(D,{in:u,timeout:S,...b,...B,children:M.jsx(E,{"aria-hidden":!0,...I,classes:C,ref:n,children:i})})}),K4=pt("MuiBox",["root"]),G4=Sf(),Vh=sO({themeId:ni,defaultTheme:G4,defaultClassName:K4.root,generateClassName:Px.generate});function Y4(e){const t=Ur(e);return t.body===e?ri(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Hl(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function aS(e){return parseInt(ri(e).getComputedStyle(e).paddingRight,10)||0}function Q4(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function lS(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,a=>{const c=!o.includes(a),u=!Q4(a);c&&u&&Hl(a,i)})}function Hh(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function J4(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Y4(r)){const a=Dx(ri(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${aS(r)+a}px`;const c=Ur(r).querySelectorAll(".mui-fixed");[].forEach.call(c,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${aS(u)+a}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Ur(r).body;else{const a=r.parentElement,c=ri(r);o=(a==null?void 0:a.nodeName)==="HTML"&&c.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:a,property:c})=>{o?a.style.setProperty(c,o):a.style.removeProperty(c)})}}function X4(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Z4{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Hl(t.modalRef,!1);const i=X4(n);lS(n,t.mount,t.modalRef,i,!0);const o=Hh(this.containers,a=>a.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=Hh(this.containers,o=>o.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=J4(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=Hh(this.containers,a=>a.modals.includes(t)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&Hl(t.modalRef,n),lS(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&Hl(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const eA=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function tA(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function nA(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function rA(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||nA(e))}function iA(e){const t=[],n=[];return Array.from(e.querySelectorAll(eA)).forEach((r,i)=>{const o=tA(r);o===-1||!rA(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function oA(){return!0}function sA(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=iA,isEnabled:a=oA,open:c}=e,u=w.useRef(!1),d=w.useRef(null),p=w.useRef(null),h=w.useRef(null),g=w.useRef(null),v=w.useRef(!1),S=w.useRef(null),b=Hn(kc(t),S),x=w.useRef(null);w.useEffect(()=>{!c||!S.current||(v.current=!n)},[n,c]),w.useEffect(()=>{if(!c||!S.current)return;const R=Ur(S.current);return S.current.contains(R.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),v.current&&S.current.focus()),()=>{i||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}},[c]),w.useEffect(()=>{if(!c||!S.current)return;const R=Ur(S.current),P=D=>{x.current=D,!(r||!a()||D.key!=="Tab")&&R.activeElement===S.current&&D.shiftKey&&(u.current=!0,p.current&&p.current.focus())},E=()=>{var U,T;const D=S.current;if(D===null)return;if(!R.hasFocus()||!a()||u.current){u.current=!1;return}if(D.contains(R.activeElement)||r&&R.activeElement!==d.current&&R.activeElement!==p.current)return;if(R.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!v.current)return;let B=[];if((R.activeElement===d.current||R.activeElement===p.current)&&(B=o(S.current)),B.length>0){const N=!!((U=x.current)!=null&&U.shiftKey&&((T=x.current)==null?void 0:T.key)==="Tab"),$=B[0],W=B[B.length-1];typeof $!="string"&&typeof W!="string"&&(N?W.focus():$.focus())}else D.focus()};R.addEventListener("focusin",E),R.addEventListener("keydown",P,!0);const I=setInterval(()=>{R.activeElement&&R.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(I),R.removeEventListener("focusin",E),R.removeEventListener("keydown",P,!0)}},[n,r,i,a,c,o]);const C=R=>{h.current===null&&(h.current=R.relatedTarget),v.current=!0,g.current=R.target;const P=t.props.onFocus;P&&P(R)},O=R=>{h.current===null&&(h.current=R.relatedTarget),v.current=!0};return M.jsxs(w.Fragment,{children:[M.jsx("div",{tabIndex:c?0:-1,onFocus:O,ref:d,"data-testid":"sentinelStart"}),w.cloneElement(t,{ref:b,onFocus:C}),M.jsx("div",{tabIndex:c?0:-1,onFocus:O,ref:p,"data-testid":"sentinelEnd"})]})}function aA(e){return typeof e=="function"?e():e}function lA(e){return e?e.props.hasOwnProperty("in"):!1}const cS=()=>{},Gu=new Z4;function cA(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:a,children:c,onClose:u,open:d,rootRef:p}=e,h=w.useRef({}),g=w.useRef(null),v=w.useRef(null),S=Hn(v,p),[b,x]=w.useState(!d),C=lA(c);let O=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(O=!1);const R=()=>Ur(g.current),P=()=>(h.current.modalRef=v.current,h.current.mount=g.current,h.current),E=()=>{Gu.mount(P(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},I=wi(()=>{const q=aA(t)||R().body;Gu.add(P(),q),v.current&&E()}),D=()=>Gu.isTopModal(P()),B=wi(q=>{g.current=q,q&&(d&&D()?E():v.current&&Hl(v.current,O))}),U=w.useCallback(()=>{Gu.remove(P(),O)},[O]);w.useEffect(()=>()=>{U()},[U]),w.useEffect(()=>{d?I():(!C||!i)&&U()},[d,U,C,i,I]);const T=q=>ne=>{var le;(le=q.onKeyDown)==null||le.call(q,ne),!(ne.key!=="Escape"||ne.which===229||!D())&&(n||(ne.stopPropagation(),u&&u(ne,"escapeKeyDown")))},N=q=>ne=>{var le;(le=q.onClick)==null||le.call(q,ne),ne.target===ne.currentTarget&&u&&u(ne,"backdropClick")};return{getRootProps:(q={})=>{const ne=jx(e);delete ne.onTransitionEnter,delete ne.onTransitionExited;const le={...ne,...q};return{role:"presentation",...le,onKeyDown:T(le),ref:S}},getBackdropProps:(q={})=>{const ne=q;return{"aria-hidden":!0,...ne,onClick:N(ne),open:d}},getTransitionProps:()=>{const q=()=>{x(!1),o&&o()},ne=()=>{x(!0),a&&a(),i&&U()};return{onEnter:N1(q,(c==null?void 0:c.props.onEnter)??cS),onExited:N1(ne,(c==null?void 0:c.props.onExited)??cS)}},rootRef:S,portalRef:B,isTopModal:D,exited:b,hasTransition:C}}function uA(e){return Ct("MuiModal",e)}pt("MuiModal",["root","hidden","backdrop"]);const dA=e=>{const{open:t,exited:n,classes:r}=e;return xt({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},uA,r)},fA=Ie("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Dt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),pA=Ie(q4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),hA=w.forwardRef(function(t,n){const r=It({name:"MuiModal",props:t}),{BackdropComponent:i=pA,BackdropProps:o,classes:a,className:c,closeAfterTransition:u=!1,children:d,container:p,component:h,components:g={},componentsProps:v={},disableAutoFocus:S=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:x=!1,disablePortal:C=!1,disableRestoreFocus:O=!1,disableScrollLock:R=!1,hideBackdrop:P=!1,keepMounted:E=!1,onBackdropClick:I,onClose:D,onTransitionEnter:B,onTransitionExited:U,open:T,slotProps:N={},slots:$={},theme:W,...K}=r,q={...r,closeAfterTransition:u,disableAutoFocus:S,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:C,disableRestoreFocus:O,disableScrollLock:R,hideBackdrop:P,keepMounted:E},{getRootProps:ne,getBackdropProps:le,getTransitionProps:ee,portalRef:Y,isTopModal:A,exited:F,hasTransition:J}=cA({...q,rootRef:n}),L={...q,exited:F},ve=dA(L),ke={};if(d.props.tabIndex===void 0&&(ke.tabIndex="-1"),J){const{onEnter:Ue,onExited:He}=ee();ke.onEnter=Ue,ke.onExited=He}const me={slots:{root:g.Root,backdrop:g.Backdrop,...$},slotProps:{...v,...N}},[we,Ee]=Gt("root",{ref:n,elementType:fA,externalForwardedProps:{...me,...K,component:h},getSlotProps:ne,ownerState:L,className:$e(c,ve==null?void 0:ve.root,!L.open&&L.exited&&(ve==null?void 0:ve.hidden))}),[Re,Te]=Gt("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:me,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:Ue=>le({...Ue,onClick:He=>{I&&I(He),Ue!=null&&Ue.onClick&&Ue.onClick(He)}}),className:$e(o==null?void 0:o.className,ve==null?void 0:ve.backdrop),ownerState:L});return!E&&!T&&(!J||F)?null:M.jsx(_4,{ref:Y,container:p,disablePortal:C,children:M.jsxs(we,{...Ee,children:[!P&&i?M.jsx(Re,{...Te}):null,M.jsx(sA,{disableEnforceFocus:b,disableAutoFocus:S,disableRestoreFocus:O,isEnabled:A,open:T,children:w.cloneElement(d,ke)})]})})}),uS=pt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),mA=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:a,multiline:c}=e,u={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${st(o)}`,a&&"hiddenLabel",c&&"multiline"],input:["input"]},d=xt(u,U4,t);return{...t,...d}},gA=Ie(wf,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Cf(e,t),!n.disableUnderline&&t.underline]}})(Dt(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${ts.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${ts.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ts.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ts.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ts.disabled}, .${ts.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${ts.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Do()).map(([a])=>{var c;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(c=(e.vars||e).palette[a])==null?void 0:c.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:c})=>a.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),vA=Ie(Tf,{name:"MuiFilledInput",slot:"Input",overridesResolver:xf})(Dt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Av=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:a,fullWidth:c=!1,hiddenLabel:u,inputComponent:d="input",multiline:p=!1,slotProps:h,slots:g={},type:v="text",...S}=r,b={...r,disableUnderline:i,fullWidth:c,inputComponent:d,multiline:p,type:v},x=mA(r),C={root:{ownerState:b},input:{ownerState:b}},O=h??a?Vn(C,h??a):C,R=g.root??o.Root??gA,P=g.input??o.Input??vA;return M.jsx(Mv,{slots:{root:R,input:P},slotProps:O,fullWidth:c,inputComponent:d,multiline:p,ref:n,type:v,...S,classes:x})});Av.muiName="Input";function yA(e){return Ct("MuiFormControl",e)}pt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const bA=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${st(n)}`,r&&"fullWidth"]};return xt(i,yA,t)},SA=Ie("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${st(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),nw=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:c="div",disabled:u=!1,error:d=!1,focused:p,fullWidth:h=!1,hiddenLabel:g=!1,margin:v="none",required:S=!1,size:b="medium",variant:x="outlined",...C}=r,O={...r,color:a,component:c,disabled:u,error:d,fullWidth:h,hiddenLabel:g,margin:v,required:S,size:b,variant:x},R=bA(O),[P,E]=w.useState(()=>{let q=!1;return i&&w.Children.forEach(i,ne=>{if(!Uh(ne,["Input","Select"]))return;const le=Uh(ne,["Select"])?ne.props.input:ne;le&&N4(le.props)&&(q=!0)}),q}),[I,D]=w.useState(()=>{let q=!1;return i&&w.Children.forEach(i,ne=>{Uh(ne,["Input","Select"])&&(jd(ne.props,!0)||jd(ne.props.inputProps,!0))&&(q=!0)}),q}),[B,U]=w.useState(!1);u&&B&&U(!1);const T=p!==void 0&&!u?p:B;let N;w.useRef(!1);const $=w.useCallback(()=>{D(!0)},[]),W=w.useCallback(()=>{D(!1)},[]),K=w.useMemo(()=>({adornedStart:P,setAdornedStart:E,color:a,disabled:u,error:d,filled:I,focused:T,fullWidth:h,hiddenLabel:g,size:b,onBlur:()=>{U(!1)},onFocus:()=>{U(!0)},onEmpty:W,onFilled:$,registerEffect:N,required:S,variant:x}),[P,a,u,d,I,T,h,g,N,W,$,S,b,x]);return M.jsx(kf.Provider,{value:K,children:M.jsx(SA,{as:c,ownerState:O,className:$e(R.root,o),ref:n,...C,children:i})})});function kA(e){return Ct("MuiFormHelperText",e)}const dS=pt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var fS;const CA=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:a,focused:c,required:u}=e,d={root:["root",i&&"disabled",o&&"error",r&&`size${st(r)}`,n&&"contained",c&&"focused",a&&"filled",u&&"required"]};return xt(d,kA,t)},xA=Ie("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${st(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(Dt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${dS.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${dS.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),wA=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:a="p",disabled:c,error:u,filled:d,focused:p,margin:h,required:g,variant:v,...S}=r,b=ys(),x=Oa({props:r,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),C={...r,component:a,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete C.ownerState;const O=CA(C);return M.jsx(xA,{as:a,className:$e(O.root,o),ref:n,...S,ownerState:C,children:i===" "?fS||(fS=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function TA(e){return Ct("MuiFormLabel",e)}const Wl=pt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),EA=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:a,required:c}=e,u={root:["root",`color${st(n)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",c&&"required"],asterisk:["asterisk",o&&"error"]};return xt(u,TA,t)},PA=Ie("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(Dt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Do()).map(([t])=>({props:{color:t},style:{[`&.${Wl.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Wl.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Wl.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),RA=Ie("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Dt(({theme:e})=>({[`&.${Wl.error}`]:{color:(e.vars||e).palette.error.main}}))),IA=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiFormLabel"}),{children:i,className:o,color:a,component:c="label",disabled:u,error:d,filled:p,focused:h,required:g,...v}=r,S=ys(),b=Oa({props:r,muiFormControl:S,states:["color","required","focused","disabled","error","filled"]}),x={...r,color:b.color||"primary",component:c,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},C=EA(x);return M.jsxs(PA,{as:c,ownerState:x,className:$e(C.root,o),ref:n,...v,children:[i,b.required&&M.jsxs(RA,{ownerState:x,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]})}),pS=w.createContext();function _A(e){return Ct("MuiGrid",e)}const OA=[0,1,2,3,4,5,6,7,8,9,10],MA=["column-reverse","column","row-reverse","row"],AA=["nowrap","wrap-reverse","wrap"],Cl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ic=pt("MuiGrid",["root","container","item","zeroMinWidth",...OA.map(e=>`spacing-xs-${e}`),...MA.map(e=>`direction-xs-${e}`),...AA.map(e=>`wrap-xs-${e}`),...Cl.map(e=>`grid-xs-${e}`),...Cl.map(e=>`grid-sm-${e}`),...Cl.map(e=>`grid-md-${e}`),...Cl.map(e=>`grid-lg-${e}`),...Cl.map(e=>`grid-xl-${e}`)]);function NA({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=cf({values:t.columns,breakpoints:e.breakpoints.values}),c=typeof a=="object"?a[i]:a;if(c==null)return r;const u=`${Math.round(n/c*1e8)/1e6}%`;let d={};if(t.container&&t.item&&t.columnSpacing!==0){const p=e.spacing(t.columnSpacing);if(p!=="0px"){const h=`calc(${u} + ${p})`;d={flexBasis:h,maxWidth:h}}}o={flexBasis:u,flexGrow:0,maxWidth:u,...d}}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function LA({theme:e,ownerState:t}){const n=cf({values:t.direction,breakpoints:e.breakpoints.values});return jr({theme:e},n,r=>{const i={flexDirection:r};return r.startsWith("column")&&(i[`& > .${ic.item}`]={maxWidth:"none"}),i})}function rw({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function DA({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=cf({values:r,breakpoints:e.breakpoints.values});let a;typeof o=="object"&&(a=rw({breakpoints:e.breakpoints.values,values:o})),i=jr({theme:e},o,(c,u)=>{const d=e.spacing(c);return d!=="0px"?{marginTop:`calc(-1 * ${d})`,[`& > .${ic.item}`]:{paddingTop:d}}:a!=null&&a.includes(u)?{}:{marginTop:0,[`& > .${ic.item}`]:{paddingTop:0}}})}return i}function FA({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=cf({values:r,breakpoints:e.breakpoints.values});let a;typeof o=="object"&&(a=rw({breakpoints:e.breakpoints.values,values:o})),i=jr({theme:e},o,(c,u)=>{const d=e.spacing(c);if(d!=="0px"){const p=`calc(-1 * ${d})`;return{width:`calc(100% + ${d})`,marginLeft:p,[`& > .${ic.item}`]:{paddingLeft:d}}}return a!=null&&a.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${ic.item}`]:{paddingLeft:0}}})}return i}function jA(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const UA=Ie("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:a,wrap:c,zeroMinWidth:u,breakpoints:d}=n;let p=[];r&&(p=jA(a,d,t));const h=[];return d.forEach(g=>{const v=n[g];v&&h.push(t[`grid-${g}-${String(v)}`])}),[t.root,r&&t.container,o&&t.item,u&&t.zeroMinWidth,...p,i!=="row"&&t[`direction-xs-${String(i)}`],c!=="wrap"&&t[`wrap-xs-${String(c)}`],...h]}})(({ownerState:e})=>({boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...e.item&&{margin:0},...e.zeroMinWidth&&{minWidth:0},...e.wrap!=="wrap"&&{flexWrap:e.wrap}}),LA,DA,FA,NA);function BA(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const zA=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:a,zeroMinWidth:c,breakpoints:u}=e;let d=[];n&&(d=BA(o,u));const p=[];u.forEach(g=>{const v=e[g];v&&p.push(`grid-${g}-${String(v)}`)});const h={root:["root",n&&"container",i&&"item",c&&"zeroMinWidth",...d,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...p]};return xt(h,_A,t)},Pt=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiGrid"}),{breakpoints:i}=_a(),o=bv(r),{className:a,columns:c,columnSpacing:u,component:d="div",container:p=!1,direction:h="row",item:g=!1,rowSpacing:v,spacing:S=0,wrap:b="wrap",zeroMinWidth:x=!1,...C}=o,O=v||S,R=u||S,P=w.useContext(pS),E=p?c||12:P,I={},D={...C};i.keys.forEach(T=>{C[T]!=null&&(I[T]=C[T],delete D[T])});const B={...o,columns:E,container:p,direction:h,item:g,rowSpacing:O,columnSpacing:R,wrap:b,zeroMinWidth:x,spacing:S,...I,breakpoints:i.keys},U=zA(B);return M.jsx(pS.Provider,{value:E,children:M.jsx(UA,{ownerState:B,className:$e(U.root,a),as:d,ref:n,...D})})});function Qm(e){return`scale(${e}, ${e**2})`}const $A={entering:{opacity:1,transform:Qm(1)},entered:{opacity:1,transform:"none"}},Wh=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Jm=w.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:a,in:c,onEnter:u,onEntered:d,onEntering:p,onExit:h,onExited:g,onExiting:v,style:S,timeout:b="auto",TransitionComponent:x=Ai,...C}=t,O=Lx(),R=w.useRef(),P=_a(),E=w.useRef(null),I=Hn(E,kc(o),n),D=q=>ne=>{if(q){const le=E.current;ne===void 0?q(le):q(le,ne)}},B=D(p),U=D((q,ne)=>{tw(q);const{duration:le,delay:ee,easing:Y}=Dd({style:S,timeout:b,easing:a},{mode:"enter"});let A;b==="auto"?(A=P.transitions.getAutoHeightDuration(q.clientHeight),R.current=A):A=le,q.style.transition=[P.transitions.create("opacity",{duration:A,delay:ee}),P.transitions.create("transform",{duration:Wh?A:A*.666,delay:ee,easing:Y})].join(","),u&&u(q,ne)}),T=D(d),N=D(v),$=D(q=>{const{duration:ne,delay:le,easing:ee}=Dd({style:S,timeout:b,easing:a},{mode:"exit"});let Y;b==="auto"?(Y=P.transitions.getAutoHeightDuration(q.clientHeight),R.current=Y):Y=ne,q.style.transition=[P.transitions.create("opacity",{duration:Y,delay:le}),P.transitions.create("transform",{duration:Wh?Y:Y*.666,delay:Wh?le:le||Y*.333,easing:ee})].join(","),q.style.opacity=0,q.style.transform=Qm(.75),h&&h(q)}),W=D(g),K=q=>{b==="auto"&&O.start(R.current||0,q),r&&r(E.current,q)};return M.jsx(x,{appear:i,in:c,nodeRef:E,onEnter:U,onEntered:T,onEntering:B,onExit:$,onExited:W,onExiting:N,addEndListener:K,timeout:b==="auto"?null:b,...C,children:(q,{ownerState:ne,...le})=>w.cloneElement(o,{style:{opacity:0,transform:Qm(.75),visibility:q==="exited"&&!c?"hidden":void 0,...$A[q],...S,...o.props.style},ref:I,...le})})});Jm&&(Jm.muiSupportAuto=!0);const VA=Mx({themeId:ni}),HA=e=>{const{classes:t,disableUnderline:n}=e,i=xt({root:["root",!n&&"underline"],input:["input"]},F4,t);return{...t,...i}},WA=Ie(wf,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Cf(e,t),!n.disableUnderline&&t.underline]}})(Dt(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${kl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${kl.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${kl.disabled}, .${kl.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${kl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Do()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),qA=Ie(Tf,{name:"MuiInput",slot:"Input",overridesResolver:xf})({}),Nv=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:a,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:p,slots:h={},type:g="text",...v}=r,S=HA(r),x={root:{ownerState:{disableUnderline:i}}},C=p??a?Vn(p??a,x):x,O=h.root??o.Root??WA,R=h.input??o.Input??qA;return M.jsx(Mv,{slots:{root:O,input:R},slotProps:C,fullWidth:c,inputComponent:u,multiline:d,ref:n,type:g,...v,classes:S})});Nv.muiName="Input";function KA(e){return Ct("MuiInputAdornment",e)}const hS=pt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var mS;const GA=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${st(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},YA=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:a}=e,c={root:["root",n&&"disablePointerEvents",i&&`position${st(i)}`,a,r&&"hiddenLabel",o&&`size${st(o)}`]};return xt(c,KA,t)},QA=Ie("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:GA})(Dt(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${hS.positionStart}&:not(.${hS.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),JA=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:a="div",disablePointerEvents:c=!1,disableTypography:u=!1,position:d,variant:p,...h}=r,g=ys()||{};let v=p;p&&g.variant,g&&!v&&(v=g.variant);const S={...r,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:c,position:d,variant:v},b=YA(S);return M.jsx(kf.Provider,{value:null,children:M.jsx(QA,{as:a,ownerState:S,className:$e(b.root,o),ref:n,...h,children:typeof i=="string"&&!u?M.jsx(Rn,{color:"textSecondary",children:i}):M.jsxs(w.Fragment,{children:[d==="start"?mS||(mS=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function XA(e){return Ct("MuiInputLabel",e)}pt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ZA=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:c}=e,u={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${st(r)}`,a],asterisk:[c&&"asterisk"]},d=xt(u,XA,t);return{...t,...d}},e5=Ie(IA,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Wl.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Dt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),t5=w.forwardRef(function(t,n){const r=It({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:o,shrink:a,variant:c,className:u,...d}=r,p=ys();let h=a;typeof h>"u"&&p&&(h=p.filled||p.focused||p.adornedStart);const g=Oa({props:r,muiFormControl:p,states:["size","variant","required","focused"]}),v={...r,disableAnimation:i,formControl:p,shrink:h,size:g.size,variant:g.variant,required:g.required,focused:g.focused},S=ZA(v);return M.jsx(e5,{"data-shrink":h,ref:n,className:$e(S.root,u),...d,ownerState:v,classes:S})}),fs=w.createContext({});function n5(e){return Ct("MuiList",e)}pt("MuiList",["root","padding","dense","subheader"]);const r5=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return xt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},n5,t)},i5=Ie("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),o5=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:c=!1,disablePadding:u=!1,subheader:d,...p}=r,h=w.useMemo(()=>({dense:c}),[c]),g={...r,component:a,dense:c,disablePadding:u},v=r5(g);return M.jsx(fs.Provider,{value:h,children:M.jsxs(i5,{as:a,className:$e(v.root,o),ref:n,ownerState:g,...p,children:[d,i]})})});function s5(e){return Ct("MuiListItemButton",e)}const xl=pt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),a5=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},l5=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:a,selected:c}=e,d=xt({root:["root",r&&"dense",!o&&"gutters",a&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",c&&"selected"]},s5,n);return{...n,...d}},c5=Ie(Cc,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:a5})(Dt(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xl.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${xl.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Sr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${xl.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Sr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${xl.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${xl.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),qh=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:a="div",children:c,dense:u=!1,disableGutters:d=!1,divider:p=!1,focusVisibleClassName:h,selected:g=!1,className:v,...S}=r,b=w.useContext(fs),x=w.useMemo(()=>({dense:u||b.dense||!1,alignItems:i,disableGutters:d}),[i,b.dense,u,d]),C=w.useRef(null);Tr(()=>{o&&C.current&&C.current.focus()},[o]);const O={...r,alignItems:i,dense:x.dense,disableGutters:d,divider:p,selected:g},R=l5(O),P=Hn(C,n);return M.jsx(fs.Provider,{value:x,children:M.jsx(c5,{ref:P,href:S.href||S.to,component:(S.href||S.to)&&a==="div"?"button":a,focusVisibleClassName:$e(R.focusVisible,h),ownerState:O,className:$e(R.root,v),...S,classes:R,children:c})})});function u5(e){return Ct("MuiListItemIcon",e)}const gS=pt("MuiListItemIcon",["root","alignItemsFlexStart"]),d5=e=>{const{alignItems:t,classes:n}=e;return xt({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},u5,n)},f5=Ie("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(Dt(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Kh=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiListItemIcon"}),{className:i,...o}=r,a=w.useContext(fs),c={...r,alignItems:a.alignItems},u=d5(c);return M.jsx(f5,{className:$e(u.root,i),ownerState:c,ref:n,...o})});function p5(e){return Ct("MuiListItemText",e)}const sa=pt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),h5=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return xt({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},p5,t)},m5=Ie("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${sa.primary}`]:t.primary},{[`& .${sa.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${tS.root}:where(& .${sa.primary})`]:{display:"block"},[`.${tS.root}:where(& .${sa.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Gh=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:a=!1,inset:c=!1,primary:u,primaryTypographyProps:d,secondary:p,secondaryTypographyProps:h,slots:g={},slotProps:v={},...S}=r,{dense:b}=w.useContext(fs);let x=u??i,C=p;const O={...r,disableTypography:a,inset:c,primary:!!x,secondary:!!C,dense:b},R=h5(O),P={slots:g,slotProps:{primary:d,secondary:h,...v}},[E,I]=Gt("root",{className:$e(R.root,o),elementType:m5,externalForwardedProps:{...P,...S},ownerState:O,ref:n}),[D,B]=Gt("primary",{className:R.primary,elementType:Rn,externalForwardedProps:P,ownerState:O}),[U,T]=Gt("secondary",{className:R.secondary,elementType:Rn,externalForwardedProps:P,ownerState:O});return x!=null&&x.type!==Rn&&!a&&(x=M.jsx(D,{variant:b?"body2":"body1",component:B!=null&&B.variant?void 0:"span",...B,children:x})),C!=null&&C.type!==Rn&&!a&&(C=M.jsx(U,{variant:"body2",color:"textSecondary",...T,children:C})),M.jsxs(E,{...I,children:[x,C]})});function Yh(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function vS(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function iw(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function wl(e,t,n,r,i,o){let a=!1,c=i(e,t,t?n:!1);for(;c;){if(c===e.firstChild){if(a)return!1;a=!0}const u=r?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!iw(c,o)||u)c=i(e,c,n);else return c.focus(),!0}return!1}const g5=w.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:c,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:p,variant:h="selectedMenu",...g}=t,v=w.useRef(null),S=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Tr(()=>{i&&v.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(R,{direction:P})=>{const E=!v.current.style.width;if(R.clientHeight<v.current.clientHeight&&E){const I=`${Dx(ri(R))}px`;v.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=I,v.current.style.width=`calc(100% + ${I})`}return v.current}}),[]);const b=R=>{const P=v.current,E=R.key;if(R.ctrlKey||R.metaKey||R.altKey){p&&p(R);return}const D=Ur(P).activeElement;if(E==="ArrowDown")R.preventDefault(),wl(P,D,d,u,Yh);else if(E==="ArrowUp")R.preventDefault(),wl(P,D,d,u,vS);else if(E==="Home")R.preventDefault(),wl(P,null,d,u,Yh);else if(E==="End")R.preventDefault(),wl(P,null,d,u,vS);else if(E.length===1){const B=S.current,U=E.toLowerCase(),T=performance.now();B.keys.length>0&&(T-B.lastTime>500?(B.keys=[],B.repeating=!0,B.previousKeyMatched=!0):B.repeating&&U!==B.keys[0]&&(B.repeating=!1)),B.lastTime=T,B.keys.push(U);const N=D&&!B.repeating&&iw(D,B);B.previousKeyMatched&&(N||wl(P,D,!1,u,Yh,B))?R.preventDefault():B.previousKeyMatched=!1}p&&p(R)},x=Hn(v,n);let C=-1;w.Children.forEach(a,(R,P)=>{if(!w.isValidElement(R)){C===P&&(C+=1,C>=a.length&&(C=-1));return}R.props.disabled||(h==="selectedMenu"&&R.props.selected||C===-1)&&(C=P),C===P&&(R.props.disabled||R.props.muiSkipListHighlight||R.type.muiSkipListHighlight)&&(C+=1,C>=a.length&&(C=-1))});const O=w.Children.map(a,(R,P)=>{if(P===C){const E={};return o&&(E.autoFocus=!0),R.props.tabIndex===void 0&&h==="selectedMenu"&&(E.tabIndex=0),w.cloneElement(R,E)}return R});return M.jsx(o5,{role:"menu",ref:x,className:c,onKeyDown:b,tabIndex:i?0:-1,...g,children:O})});function v5(e){return Ct("MuiPopover",e)}pt("MuiPopover",["root","paper"]);function yS(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function bS(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function SS(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Yu(e){return typeof e=="function"?e():e}const y5=e=>{const{classes:t}=e;return xt({root:["root"],paper:["paper"]},v5,t)},b5=Ie(hA,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ow=Ie(YM,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Lv=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:u="anchorEl",children:d,className:p,container:h,elevation:g=8,marginThreshold:v=16,open:S,PaperProps:b={},slots:x={},slotProps:C={},transformOrigin:O={vertical:"top",horizontal:"left"},TransitionComponent:R,transitionDuration:P="auto",TransitionProps:E={},disableScrollLock:I=!1,...D}=r,B=w.useRef(),U={...r,anchorOrigin:a,anchorReference:u,elevation:g,marginThreshold:v,transformOrigin:O,TransitionComponent:R,transitionDuration:P,TransitionProps:E},T=y5(U),N=w.useCallback(()=>{if(u==="anchorPosition")return c;const Te=Yu(o),He=(Te&&Te.nodeType===1?Te:Ur(B.current).body).getBoundingClientRect();return{top:He.top+yS(He,a.vertical),left:He.left+bS(He,a.horizontal)}},[o,a.horizontal,a.vertical,c,u]),$=w.useCallback(Te=>({vertical:yS(Te,O.vertical),horizontal:bS(Te,O.horizontal)}),[O.horizontal,O.vertical]),W=w.useCallback(Te=>{const Ue={width:Te.offsetWidth,height:Te.offsetHeight},He=$(Ue);if(u==="none")return{top:null,left:null,transformOrigin:SS(He)};const it=N();let We=it.top-He.vertical,at=it.left-He.horizontal;const Ft=We+Ue.height,Qe=at+Ue.width,Ye=ri(Yu(o)),ht=Ye.innerHeight-v,ut=Ye.innerWidth-v;if(v!==null&&We<v){const tt=We-v;We-=tt,He.vertical+=tt}else if(v!==null&&Ft>ht){const tt=Ft-ht;We-=tt,He.vertical+=tt}if(v!==null&&at<v){const tt=at-v;at-=tt,He.horizontal+=tt}else if(Qe>ut){const tt=Qe-ut;at-=tt,He.horizontal+=tt}return{top:`${Math.round(We)}px`,left:`${Math.round(at)}px`,transformOrigin:SS(He)}},[o,u,N,$,v]),[K,q]=w.useState(S),ne=w.useCallback(()=>{const Te=B.current;if(!Te)return;const Ue=W(Te);Ue.top!==null&&Te.style.setProperty("top",Ue.top),Ue.left!==null&&(Te.style.left=Ue.left),Te.style.transformOrigin=Ue.transformOrigin,q(!0)},[W]);w.useEffect(()=>(I&&window.addEventListener("scroll",ne),()=>window.removeEventListener("scroll",ne)),[o,I,ne]);const le=()=>{ne()},ee=()=>{q(!1)};w.useEffect(()=>{S&&ne()}),w.useImperativeHandle(i,()=>S?{updatePosition:()=>{ne()}}:null,[S,ne]),w.useEffect(()=>{if(!S)return;const Te=yf(()=>{ne()}),Ue=ri(Yu(o));return Ue.addEventListener("resize",Te),()=>{Te.clear(),Ue.removeEventListener("resize",Te)}},[o,S,ne]);let Y=P;const A={slots:{transition:R,...x},slotProps:{transition:E,paper:b,...C}},[F,J]=Gt("transition",{elementType:Jm,externalForwardedProps:A,ownerState:U,getSlotProps:Te=>({...Te,onEntering:(Ue,He)=>{var it;(it=Te.onEntering)==null||it.call(Te,Ue,He),le()},onExited:Ue=>{var He;(He=Te.onExited)==null||He.call(Te,Ue),ee()}}),additionalProps:{appear:!0,in:S}});P==="auto"&&!F.muiSupportAuto&&(Y=void 0);const L=h||(o?Ur(Yu(o)).body:void 0),[ve,{slots:ke,slotProps:me,...we}]=Gt("root",{ref:n,elementType:b5,externalForwardedProps:{...A,...D},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:jM(typeof C.backdrop=="function"?C.backdrop(U):C.backdrop,{invisible:!0})},container:L,open:S},ownerState:U,className:$e(T.root,p)}),[Ee,Re]=Gt("paper",{ref:B,className:T.paper,elementType:ow,externalForwardedProps:A,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:K?void 0:{opacity:0}},ownerState:U});return M.jsx(ve,{...we,...!Ym(ve)&&{slots:ke,slotProps:me,disableScrollLock:I},children:M.jsx(F,{...J,timeout:Y,children:M.jsx(Ee,{...Re,children:d})})})});function S5(e){return Ct("MuiMenu",e)}pt("MuiMenu",["root","paper","list"]);const k5={vertical:"top",horizontal:"right"},C5={vertical:"top",horizontal:"left"},x5=e=>{const{classes:t}=e;return xt({root:["root"],paper:["paper"],list:["list"]},S5,t)},w5=Ie(Lv,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),T5=Ie(ow,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),E5=Ie(g5,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),P5=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:a,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:p,PaperProps:h={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:S,...b}={},variant:x="selectedMenu",slots:C={},slotProps:O={},...R}=r,P=Tv(),E={...r,autoFocus:i,disableAutoFocusItem:c,MenuListProps:u,onEntering:S,PaperProps:h,transitionDuration:v,TransitionProps:b,variant:x},I=x5(E),D=i&&!c&&p,B=w.useRef(null),U=(Y,A)=>{B.current&&B.current.adjustStyleForScrollbar(Y,{direction:P?"rtl":"ltr"}),S&&S(Y,A)},T=Y=>{Y.key==="Tab"&&(Y.preventDefault(),d&&d(Y,"tabKeyDown"))};let N=-1;w.Children.map(o,(Y,A)=>{w.isValidElement(Y)&&(Y.props.disabled||(x==="selectedMenu"&&Y.props.selected||N===-1)&&(N=A))});const $={slots:C,slotProps:{list:u,transition:b,paper:h,...O}},W=rc({elementType:C.root,externalSlotProps:O.root,ownerState:E,className:[I.root,a]}),[K,q]=Gt("paper",{className:I.paper,elementType:T5,externalForwardedProps:$,shouldForwardComponentProp:!0,ownerState:E}),[ne,le]=Gt("list",{className:$e(I.list,u.className),elementType:E5,shouldForwardComponentProp:!0,externalForwardedProps:$,getSlotProps:Y=>({...Y,onKeyDown:A=>{var F;T(A),(F=Y.onKeyDown)==null||F.call(Y,A)}}),ownerState:E}),ee=typeof $.slotProps.transition=="function"?$.slotProps.transition(E):$.slotProps.transition;return M.jsx(w5,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?k5:C5,slots:{root:C.root,paper:K,backdrop:C.backdrop,...C.transition&&{transition:C.transition}},slotProps:{root:W,paper:q,backdrop:typeof O.backdrop=="function"?O.backdrop(E):O.backdrop,transition:{...ee,onEntering:(...Y)=>{var A;U(...Y),(A=ee==null?void 0:ee.onEntering)==null||A.call(ee,...Y)}}},open:p,ref:n,transitionDuration:v,ownerState:E,...R,classes:g,children:M.jsx(ne,{actions:B,autoFocus:i&&(N===-1||c),autoFocusItem:D,variant:x,...le,children:o})})});function R5(e){return Ct("MuiMenuItem",e)}const Tl=pt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),I5=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},_5=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=e,u=xt({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},R5,a);return{...a,...u}},O5=Ie(Cc,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:I5})(Dt(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Tl.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Tl.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Sr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Tl.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Sr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Tl.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Tl.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${uS.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${uS.inset}`]:{marginLeft:52},[`& .${sa.root}`]:{marginTop:0,marginBottom:0},[`& .${sa.inset}`]:{paddingLeft:36},[`& .${gS.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${gS.root} svg`]:{fontSize:"1.25rem"}}}]}))),kS=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:c=!1,disableGutters:u=!1,focusVisibleClassName:d,role:p="menuitem",tabIndex:h,className:g,...v}=r,S=w.useContext(fs),b=w.useMemo(()=>({dense:a||S.dense||!1,disableGutters:u}),[S.dense,a,u]),x=w.useRef(null);Tr(()=>{i&&x.current&&x.current.focus()},[i]);const C={...r,dense:b.dense,divider:c,disableGutters:u},O=_5(r),R=Hn(x,n);let P;return r.disabled||(P=h!==void 0?h:-1),M.jsx(fs.Provider,{value:b,children:M.jsx(O5,{ref:R,role:p,tabIndex:P,component:o,focusVisibleClassName:$e(O.focusVisible,d),className:$e(O.root,g),...v,ownerState:C,classes:O})})});function M5(e){return Ct("MuiNativeSelect",e)}const Dv=pt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),A5=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e,c={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${st(n)}`,o&&"iconOpen",r&&"disabled"]};return xt(c,M5,t)},sw=Ie("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Dv.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),N5=Ie(sw,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:zr,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Dv.multiple}`]:t.multiple}]}})({}),aw=Ie("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Dv.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),L5=Ie(aw,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${st(n.variant)}`],n.open&&t.iconOpen]}})({}),D5=w.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:a,inputRef:c,variant:u="standard",...d}=t,p={...t,disabled:i,variant:u,error:o},h=A5(p);return M.jsxs(w.Fragment,{children:[M.jsx(N5,{ownerState:p,className:$e(h.select,r),disabled:i,ref:c||n,...d}),t.multiple?null:M.jsx(L5,{as:a,ownerState:p,className:h.icon})]})});var CS;const F5=Ie("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:zr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),j5=Ie("legend",{name:"MuiNotchedOutlined",shouldForwardProp:zr})(Dt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function U5(e){const{children:t,classes:n,className:r,label:i,notched:o,...a}=e,c=i!=null&&i!=="",u={...e,notched:o,withLabel:c};return M.jsx(F5,{"aria-hidden":!0,className:r,ownerState:u,...a,children:M.jsx(j5,{ownerState:u,children:c?M.jsx("span",{children:i}):CS||(CS=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const B5=e=>{const{classes:t}=e,r=xt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},j4,t);return{...t,...r}},z5=Ie(wf,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Cf})(Dt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${pi.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${pi.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${pi.focused} .${pi.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Do()).map(([n])=>({props:{color:n},style:{[`&.${pi.focused} .${pi.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${pi.error} .${pi.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${pi.disabled} .${pi.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),$5=Ie(U5,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(Dt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),V5=Ie(Tf,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:xf})(Dt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),Fv=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:a="input",label:c,multiline:u=!1,notched:d,slots:p={},slotProps:h={},type:g="text",...v}=r,S=B5(r),b=ys(),x=Oa({props:r,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C={...r,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:b,fullWidth:o,hiddenLabel:x.hiddenLabel,multiline:u,size:x.size,type:g},O=p.root??i.Root??z5,R=p.input??i.Input??V5,[P,E]=Gt("notchedOutline",{elementType:$5,className:S.notchedOutline,shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{slots:p,slotProps:h},additionalProps:{label:c!=null&&c!==""&&x.required?M.jsxs(w.Fragment,{children:[c,"","*"]}):c}});return M.jsx(Mv,{slots:{root:O,input:R},slotProps:h,renderSuffix:I=>M.jsx(P,{...E,notched:typeof d<"u"?d:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:n,type:g,...v,classes:{...S,notchedOutline:null}})});Fv.muiName="Input";function lw(e){return Ct("MuiSelect",e)}const El=pt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var xS;const H5=Ie(sw,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${El.select}`]:t.select},{[`&.${El.select}`]:t[n.variant]},{[`&.${El.error}`]:t.error},{[`&.${El.multiple}`]:t.multiple}]}})({[`&.${El.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),W5=Ie(aw,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${st(n.variant)}`],n.open&&t.iconOpen]}})({}),q5=Ie("input",{shouldForwardProp:e=>Xx(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function wS(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function K5(e){return e==null||typeof e=="string"&&!e.trim()}const G5=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e,c={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${st(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return xt(c,lw,t)},Y5=w.forwardRef(function(t,n){var In;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:a,children:c,className:u,defaultOpen:d,defaultValue:p,disabled:h,displayEmpty:g,error:v=!1,IconComponent:S,inputRef:b,labelId:x,MenuProps:C={},multiple:O,name:R,onBlur:P,onChange:E,onClose:I,onFocus:D,onOpen:B,open:U,readOnly:T,renderValue:N,required:$,SelectDisplayProps:W={},tabIndex:K,type:q,value:ne,variant:le="standard",...ee}=t,[Y,A]=j1({controlled:ne,default:p,name:"Select"}),[F,J]=j1({controlled:U,default:d,name:"Select"}),L=w.useRef(null),ve=w.useRef(null),[ke,me]=w.useState(null),{current:we}=w.useRef(U!=null),[Ee,Re]=w.useState(),Te=Hn(n,b),Ue=w.useCallback(Ae=>{ve.current=Ae,Ae&&me(Ae)},[]),He=ke==null?void 0:ke.parentNode;w.useImperativeHandle(Te,()=>({focus:()=>{ve.current.focus()},node:L.current,value:Y}),[Y]),w.useEffect(()=>{d&&F&&ke&&!we&&(Re(a?null:He.clientWidth),ve.current.focus())},[ke,a]),w.useEffect(()=>{o&&ve.current.focus()},[o]),w.useEffect(()=>{if(!x)return;const Ae=Ur(ve.current).getElementById(x);if(Ae){const qe=()=>{getSelection().isCollapsed&&ve.current.focus()};return Ae.addEventListener("click",qe),()=>{Ae.removeEventListener("click",qe)}}},[x]);const it=(Ae,qe)=>{Ae?B&&B(qe):I&&I(qe),we||(Re(a?null:He.clientWidth),J(Ae))},We=Ae=>{Ae.button===0&&(Ae.preventDefault(),ve.current.focus(),it(!0,Ae))},at=Ae=>{it(!1,Ae)},Ft=w.Children.toArray(c),Qe=Ae=>{const qe=Ft.find(yt=>yt.props.value===Ae.target.value);qe!==void 0&&(A(qe.props.value),E&&E(Ae,qe))},Ye=Ae=>qe=>{let yt;if(qe.currentTarget.hasAttribute("tabindex")){if(O){yt=Array.isArray(Y)?Y.slice():[];const Ht=Y.indexOf(Ae.props.value);Ht===-1?yt.push(Ae.props.value):yt.splice(Ht,1)}else yt=Ae.props.value;if(Ae.props.onClick&&Ae.props.onClick(qe),Y!==yt&&(A(yt),E)){const Ht=qe.nativeEvent||qe,fr=new Ht.constructor(Ht.type,Ht);Object.defineProperty(fr,"target",{writable:!0,value:{value:yt,name:R}}),E(fr,Ae)}O||it(!1,qe)}},ht=Ae=>{T||[" ","ArrowUp","ArrowDown","Enter"].includes(Ae.key)&&(Ae.preventDefault(),it(!0,Ae))},ut=ke!==null&&F,tt=Ae=>{!ut&&P&&(Object.defineProperty(Ae,"target",{writable:!0,value:{value:Y,name:R}}),P(Ae))};delete ee["aria-invalid"];let Oe,Yt;const ct=[];let Cn=!1;(jd({value:Y})||g)&&(N?Oe=N(Y):Cn=!0);const re=Ft.map(Ae=>{if(!w.isValidElement(Ae))return null;let qe;if(O){if(!Array.isArray(Y))throw new Error(to(2));qe=Y.some(yt=>wS(yt,Ae.props.value)),qe&&Cn&&ct.push(Ae.props.children)}else qe=wS(Y,Ae.props.value),qe&&Cn&&(Yt=Ae.props.children);return w.cloneElement(Ae,{"aria-selected":qe?"true":"false",onClick:Ye(Ae),onKeyUp:yt=>{yt.key===" "&&yt.preventDefault(),Ae.props.onKeyUp&&Ae.props.onKeyUp(yt)},role:"option",selected:qe,value:void 0,"data-value":Ae.props.value})});Cn&&(O?ct.length===0?Oe=null:Oe=ct.reduce((Ae,qe,yt)=>(Ae.push(qe),yt<ct.length-1&&Ae.push(", "),Ae),[]):Oe=Yt);let pe=Ee;!a&&we&&ke&&(pe=He.clientWidth);let Ce;typeof K<"u"?Ce=K:Ce=h?null:0;const Me=W.id||(R?`mui-component-select-${R}`:void 0),Fe={...t,variant:le,value:Y,open:ut,error:v},je=G5(Fe),mt={...C.PaperProps,...(In=C.slotProps)==null?void 0:In.paper},gt=bf();return M.jsxs(w.Fragment,{children:[M.jsx(H5,{as:"div",ref:Ue,tabIndex:Ce,role:"combobox","aria-controls":ut?gt:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":ut?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Me].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":$?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:ht,onMouseDown:h||T?null:We,onBlur:tt,onFocus:D,...W,ownerState:Fe,className:$e(W.className,je.select,u),id:Me,children:K5(Oe)?xS||(xS=M.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Oe}),M.jsx(q5,{"aria-invalid":v,value:Array.isArray(Y)?Y.join(","):Y,name:R,ref:L,"aria-hidden":!0,onChange:Qe,tabIndex:-1,disabled:h,className:je.nativeInput,autoFocus:o,required:$,...ee,ownerState:Fe}),M.jsx(W5,{as:S,className:je.icon,ownerState:Fe}),M.jsx(P5,{id:`menu-${R||""}`,anchorEl:He,open:ut,onClose:at,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,slotProps:{...C.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":O?"true":void 0,disableListWrap:!0,id:gt,...C.MenuListProps},paper:{...mt,style:{minWidth:pe,...mt!=null?mt.style:null}}},children:re})]})}),Q5=e=>{const{classes:t}=e,r=xt({root:["root"]},lw,t);return{...t,...r}},jv={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>zr(e)&&e!=="variant",slot:"Root"},J5=Ie(Nv,jv)(""),X5=Ie(Fv,jv)(""),Z5=Ie(Av,jv)(""),Uv=w.forwardRef(function(t,n){const r=It({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:a={},className:c,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:p=B4,id:h,input:g,inputProps:v,label:S,labelId:b,MenuProps:x,multiple:C=!1,native:O=!1,onClose:R,onOpen:P,open:E,renderValue:I,SelectDisplayProps:D,variant:B="outlined",...U}=r,T=O?D5:Y5,N=ys(),$=Oa({props:r,muiFormControl:N,states:["variant","error"]}),W=$.variant||B,K={...r,variant:W,classes:a},q=Q5(K),{root:ne,...le}=q,ee=g||{standard:M.jsx(J5,{ownerState:K}),outlined:M.jsx(X5,{label:S,ownerState:K}),filled:M.jsx(Z5,{ownerState:K})}[W],Y=Hn(n,kc(ee));return M.jsx(w.Fragment,{children:w.cloneElement(ee,{inputComponent:T,inputProps:{children:o,error:$.error,IconComponent:p,variant:W,type:void 0,multiple:C,...O?{id:h}:{autoWidth:i,defaultOpen:u,displayEmpty:d,labelId:b,MenuProps:x,onClose:R,onOpen:P,open:E,renderValue:I,SelectDisplayProps:{id:h,...D}},...v,classes:v?Vn(le,v.classes):le,...g?g.props.inputProps:{}},...(C&&O||d)&&W==="outlined"?{notched:!0}:{},ref:Y,className:$e(ee.props.className,c,q.root),...!g&&{variant:W},...U})})});Uv.muiName="Select";function eN(e){return Ct("MuiTab",e)}const Nr=pt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),tN=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:a,selected:c,disabled:u}=e,d={root:["root",o&&a&&"labelIcon",`textColor${st(n)}`,r&&"fullWidth",i&&"wrapped",c&&"selected",u&&"disabled"],icon:["iconWrapper","icon"]};return xt(d,eN,t)},nN=Ie(Cc,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${st(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${Nr.iconWrapper}`]:t.iconWrapper},{[`& .${Nr.icon}`]:t.icon}]}})(Dt(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${Nr.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${Nr.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${Nr.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${Nr.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Nr.selected}`]:{opacity:1},[`&.${Nr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Nr.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Nr.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Nr.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Nr.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),TS=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:a=!1,fullWidth:c,icon:u,iconPosition:d="top",indicator:p,label:h,onChange:g,onClick:v,onFocus:S,selected:b,selectionFollowsFocus:x,textColor:C="inherit",value:O,wrapped:R=!1,...P}=r,E={...r,disabled:o,disableFocusRipple:a,selected:b,icon:!!u,iconPosition:d,label:!!h,fullWidth:c,textColor:C,wrapped:R},I=tN(E),D=u&&h&&w.isValidElement(u)?w.cloneElement(u,{className:$e(I.icon,u.props.className)}):u,B=T=>{!b&&g&&g(T,O),v&&v(T)},U=T=>{x&&!b&&g&&g(T,O),S&&S(T)};return M.jsxs(nN,{focusRipple:!a,className:$e(I.root,i),ref:n,role:"tab","aria-selected":b,disabled:o,onClick:B,onFocus:U,ownerState:E,tabIndex:b?0:-1,...P,children:[d==="top"||d==="start"?M.jsxs(w.Fragment,{children:[D,h]}):M.jsxs(w.Fragment,{children:[h,D]}),p]})}),rN=jo(M.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),iN=jo(M.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function oN(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function sN(e,t,n,r={},i=()=>{}){const{ease:o=oN,duration:a=300}=r;let c=null;const u=t[e];let d=!1;const p=()=>{d=!0},h=g=>{if(d){i(new Error("Animation cancelled"));return}c===null&&(c=g);const v=Math.min(1,(g-c)/a);if(t[e]=o(v)*(n-u)+u,v>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(h)};return u===n?(i(new Error("Element already at target position")),p):(requestAnimationFrame(h),p)}const aN={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function lN(e){const{onChange:t,...n}=e,r=w.useRef(),i=w.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Tr(()=>{const a=yf(()=>{const u=r.current;o(),u!==r.current&&t(r.current)}),c=ri(i.current);return c.addEventListener("resize",a),()=>{a.clear(),c.removeEventListener("resize",a)}},[t]),w.useEffect(()=>{o(),t(r.current)},[t]),M.jsx("div",{style:aN,...n,ref:i})}function cN(e){return Ct("MuiTabScrollButton",e)}const uN=pt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),dN=e=>{const{classes:t,orientation:n,disabled:r}=e;return xt({root:["root",n,r&&"disabled"]},cN,t)},fN=Ie(Cc,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${uN.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),pN=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:a={},direction:c,orientation:u,disabled:d,...p}=r,h=Tv(),g={isRtl:h,...r},v=dN(g),S=o.StartScrollButtonIcon??rN,b=o.EndScrollButtonIcon??iN,x=rc({elementType:S,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),C=rc({elementType:b,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return M.jsx(fN,{component:"div",className:$e(v.root,i),ref:n,role:null,ownerState:g,tabIndex:null,...p,style:{...p.style,...u==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${h?-90:90}deg)`}},children:c==="left"?M.jsx(S,{...x}):M.jsx(b,{...C})})});function hN(e){return Ct("MuiTabs",e)}const Qh=pt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),ES=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,PS=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Qu=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(e,i);else{i.focus();return}}},mN=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:a,scrollButtonsHideMobile:c,classes:u}=e;return xt({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",c&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},hN,u)},gN=Ie("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Qh.scrollButtons}`]:t.scrollButtons},{[`& .${Qh.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(Dt(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${Qh.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),vN=Ie("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),yN=Ie("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),bN=Ie("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(Dt(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),SN=Ie(lN)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),RS={},kN=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiTabs"}),i=_a(),o=Tv(),{"aria-label":a,"aria-labelledby":c,action:u,centered:d=!1,children:p,className:h,component:g="div",allowScrollButtonsMobile:v=!1,indicatorColor:S="primary",onChange:b,orientation:x="horizontal",ScrollButtonComponent:C,scrollButtons:O="auto",selectionFollowsFocus:R,slots:P={},slotProps:E={},TabIndicatorProps:I={},TabScrollButtonProps:D={},textColor:B="primary",value:U,variant:T="standard",visibleScrollbar:N=!1,...$}=r,W=T==="scrollable",K=x==="vertical",q=K?"scrollTop":"scrollLeft",ne=K?"top":"left",le=K?"bottom":"right",ee=K?"clientHeight":"clientWidth",Y=K?"height":"width",A={...r,component:g,allowScrollButtonsMobile:v,indicatorColor:S,orientation:x,vertical:K,scrollButtons:O,textColor:B,variant:T,visibleScrollbar:N,fixed:!W,hideScrollbar:W&&!N,scrollableX:W&&!K,scrollableY:W&&K,centered:d&&!W,scrollButtonsHideMobile:!v},F=mN(A),J=rc({elementType:P.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:A}),L=rc({elementType:P.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:A}),[ve,ke]=w.useState(!1),[me,we]=w.useState(RS),[Ee,Re]=w.useState(!1),[Te,Ue]=w.useState(!1),[He,it]=w.useState(!1),[We,at]=w.useState({overflow:"hidden",scrollbarWidth:0}),Ft=new Map,Qe=w.useRef(null),Ye=w.useRef(null),ht={slots:P,slotProps:{indicator:I,scrollButton:D,...E}},ut=()=>{const ye=Qe.current;let de;if(ye){const Je=ye.getBoundingClientRect();de={clientWidth:ye.clientWidth,scrollLeft:ye.scrollLeft,scrollTop:ye.scrollTop,scrollWidth:ye.scrollWidth,top:Je.top,bottom:Je.bottom,left:Je.left,right:Je.right}}let Ve;if(ye&&U!==!1){const Je=Ye.current.children;if(Je.length>0){const _t=Je[Ft.get(U)];Ve=_t?_t.getBoundingClientRect():null}}return{tabsMeta:de,tabMeta:Ve}},tt=wi(()=>{const{tabsMeta:ye,tabMeta:de}=ut();let Ve=0,Je;K?(Je="top",de&&ye&&(Ve=de.top-ye.top+ye.scrollTop)):(Je=o?"right":"left",de&&ye&&(Ve=(o?-1:1)*(de[Je]-ye[Je]+ye.scrollLeft)));const _t={[Je]:Ve,[Y]:de?de[Y]:0};if(typeof me[Je]!="number"||typeof me[Y]!="number")we(_t);else{const bt=Math.abs(me[Je]-_t[Je]),vn=Math.abs(me[Y]-_t[Y]);(bt>=1||vn>=1)&&we(_t)}}),Oe=(ye,{animation:de=!0}={})=>{de?sN(q,Qe.current,ye,{duration:i.transitions.duration.standard}):Qe.current[q]=ye},Yt=ye=>{let de=Qe.current[q];K?de+=ye:de+=ye*(o?-1:1),Oe(de)},ct=()=>{const ye=Qe.current[ee];let de=0;const Ve=Array.from(Ye.current.children);for(let Je=0;Je<Ve.length;Je+=1){const _t=Ve[Je];if(de+_t[ee]>ye){Je===0&&(de=ye);break}de+=_t[ee]}return de},Cn=()=>{Yt(-1*ct())},re=()=>{Yt(ct())},[pe,{onChange:Ce,...Me}]=Gt("scrollbar",{className:$e(F.scrollableX,F.hideScrollbar),elementType:SN,shouldForwardComponentProp:!0,externalForwardedProps:ht,ownerState:A}),Fe=w.useCallback(ye=>{Ce==null||Ce(ye),at({overflow:null,scrollbarWidth:ye})},[Ce]),[je,mt]=Gt("scrollButtons",{className:$e(F.scrollButtons,D.className),elementType:pN,externalForwardedProps:ht,ownerState:A,additionalProps:{orientation:x,slots:{StartScrollButtonIcon:P.startScrollButtonIcon||P.StartScrollButtonIcon,EndScrollButtonIcon:P.endScrollButtonIcon||P.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:J,endScrollButtonIcon:L}}}),gt=()=>{const ye={};ye.scrollbarSizeListener=W?M.jsx(pe,{...Me,onChange:Fe}):null;const Ve=W&&(O==="auto"&&(Ee||Te)||O===!0);return ye.scrollButtonStart=Ve?M.jsx(je,{direction:o?"right":"left",onClick:Cn,disabled:!Ee,...mt}):null,ye.scrollButtonEnd=Ve?M.jsx(je,{direction:o?"left":"right",onClick:re,disabled:!Te,...mt}):null,ye},In=wi(ye=>{const{tabsMeta:de,tabMeta:Ve}=ut();if(!(!Ve||!de)){if(Ve[ne]<de[ne]){const Je=de[q]+(Ve[ne]-de[ne]);Oe(Je,{animation:ye})}else if(Ve[le]>de[le]){const Je=de[q]+(Ve[le]-de[le]);Oe(Je,{animation:ye})}}}),Ae=wi(()=>{W&&O!==!1&&it(!He)});w.useEffect(()=>{const ye=yf(()=>{Qe.current&&tt()});let de;const Ve=bt=>{bt.forEach(vn=>{vn.removedNodes.forEach(Ln=>{de==null||de.unobserve(Ln)}),vn.addedNodes.forEach(Ln=>{de==null||de.observe(Ln)})}),ye(),Ae()},Je=ri(Qe.current);Je.addEventListener("resize",ye);let _t;return typeof ResizeObserver<"u"&&(de=new ResizeObserver(ye),Array.from(Ye.current.children).forEach(bt=>{de.observe(bt)})),typeof MutationObserver<"u"&&(_t=new MutationObserver(Ve),_t.observe(Ye.current,{childList:!0})),()=>{ye.clear(),Je.removeEventListener("resize",ye),_t==null||_t.disconnect(),de==null||de.disconnect()}},[tt,Ae]),w.useEffect(()=>{const ye=Array.from(Ye.current.children),de=ye.length;if(typeof IntersectionObserver<"u"&&de>0&&W&&O!==!1){const Ve=ye[0],Je=ye[de-1],_t={root:Qe.current,threshold:.99},bt=qn=>{Re(!qn[0].isIntersecting)},vn=new IntersectionObserver(bt,_t);vn.observe(Ve);const Ln=qn=>{Ue(!qn[0].isIntersecting)},St=new IntersectionObserver(Ln,_t);return St.observe(Je),()=>{vn.disconnect(),St.disconnect()}}},[W,O,He,p==null?void 0:p.length]),w.useEffect(()=>{ke(!0)},[]),w.useEffect(()=>{tt()}),w.useEffect(()=>{In(RS!==me)},[In,me]),w.useImperativeHandle(u,()=>({updateIndicator:tt,updateScrollButtons:Ae}),[tt,Ae]);const[qe,yt]=Gt("indicator",{className:$e(F.indicator,I.className),elementType:bN,externalForwardedProps:ht,ownerState:A,additionalProps:{style:me}}),Ht=M.jsx(qe,{...yt});let fr=0;const Li=w.Children.map(p,ye=>{if(!w.isValidElement(ye))return null;const de=ye.props.value===void 0?fr:ye.props.value;Ft.set(de,fr);const Ve=de===U;return fr+=1,w.cloneElement(ye,{fullWidth:T==="fullWidth",indicator:Ve&&!ve&&Ht,selected:Ve,selectionFollowsFocus:R,onChange:b,textColor:B,value:de,...fr===1&&U===!1&&!ye.props.tabIndex?{tabIndex:0}:{}})}),si=ye=>{if(ye.altKey||ye.shiftKey||ye.ctrlKey||ye.metaKey)return;const de=Ye.current,Ve=Ur(de).activeElement;if(Ve.getAttribute("role")!=="tab")return;let _t=x==="horizontal"?"ArrowLeft":"ArrowUp",bt=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&o&&(_t="ArrowRight",bt="ArrowLeft"),ye.key){case _t:ye.preventDefault(),Qu(de,Ve,PS);break;case bt:ye.preventDefault(),Qu(de,Ve,ES);break;case"Home":ye.preventDefault(),Qu(de,null,ES);break;case"End":ye.preventDefault(),Qu(de,null,PS);break}},Pr=gt(),[Cs,xs]=Gt("root",{ref:n,className:$e(F.root,h),elementType:gN,externalForwardedProps:{...ht,...$,component:g},ownerState:A}),[ws,$o]=Gt("scroller",{ref:Qe,className:F.scroller,elementType:vN,externalForwardedProps:ht,ownerState:A,additionalProps:{style:{overflow:We.overflow,[K?`margin${o?"Left":"Right"}`:"marginBottom"]:N?void 0:-We.scrollbarWidth}}}),[et,nt]=Gt("list",{ref:Ye,className:$e(F.list,F.flexContainer),elementType:yN,externalForwardedProps:ht,ownerState:A,getSlotProps:ye=>({...ye,onKeyDown:de=>{var Ve;si(de),(Ve=ye.onKeyDown)==null||Ve.call(ye,de)}})});return M.jsxs(Cs,{...xs,children:[Pr.scrollButtonStart,Pr.scrollbarSizeListener,M.jsxs(ws,{...$o,children:[M.jsx(et,{"aria-label":a,"aria-labelledby":c,"aria-orientation":x==="vertical"?"vertical":null,role:"tablist",...nt,children:Li}),ve&&Ht]}),Pr.scrollButtonEnd]})});function CN(e){return Ct("MuiTextField",e)}pt("MuiTextField",["root"]);const xN={standard:Nv,filled:Av,outlined:Fv},wN=e=>{const{classes:t}=e;return xt({root:["root"]},CN,t)},TN=Ie(nw,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),EN=w.forwardRef(function(t,n){const r=It({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:a,className:c,color:u="primary",defaultValue:d,disabled:p=!1,error:h=!1,FormHelperTextProps:g,fullWidth:v=!1,helperText:S,id:b,InputLabelProps:x,inputProps:C,InputProps:O,inputRef:R,label:P,maxRows:E,minRows:I,multiline:D=!1,name:B,onBlur:U,onChange:T,onFocus:N,placeholder:$,required:W=!1,rows:K,select:q=!1,SelectProps:ne,slots:le={},slotProps:ee={},type:Y,value:A,variant:F="outlined",...J}=r,L={...r,autoFocus:o,color:u,disabled:p,error:h,fullWidth:v,multiline:D,required:W,select:q,variant:F},ve=wN(L),ke=bf(b),me=S&&ke?`${ke}-helper-text`:void 0,we=P&&ke?`${ke}-label`:void 0,Ee=xN[F],Re={slots:le,slotProps:{input:O,inputLabel:x,htmlInput:C,formHelperText:g,select:ne,...ee}},Te={},Ue=Re.slotProps.inputLabel;F==="outlined"&&(Ue&&typeof Ue.shrink<"u"&&(Te.notched=Ue.shrink),Te.label=P),q&&((!ne||!ne.native)&&(Te.id=void 0),Te["aria-describedby"]=void 0);const[He,it]=Gt("root",{elementType:TN,shouldForwardComponentProp:!0,externalForwardedProps:{...Re,...J},ownerState:L,className:$e(ve.root,c),ref:n,additionalProps:{disabled:p,error:h,fullWidth:v,required:W,color:u,variant:F}}),[We,at]=Gt("input",{elementType:Ee,externalForwardedProps:Re,additionalProps:Te,ownerState:L}),[Ft,Qe]=Gt("inputLabel",{elementType:t5,externalForwardedProps:Re,ownerState:L}),[Ye,ht]=Gt("htmlInput",{elementType:"input",externalForwardedProps:Re,ownerState:L}),[ut,tt]=Gt("formHelperText",{elementType:wA,externalForwardedProps:Re,ownerState:L}),[Oe,Yt]=Gt("select",{elementType:Uv,externalForwardedProps:Re,ownerState:L}),ct=M.jsx(We,{"aria-describedby":me,autoComplete:i,autoFocus:o,defaultValue:d,fullWidth:v,multiline:D,name:B,rows:K,maxRows:E,minRows:I,type:Y,value:A,id:ke,inputRef:R,onBlur:U,onChange:T,onFocus:N,placeholder:$,inputProps:ht,slots:{input:le.htmlInput?Ye:void 0},...at});return M.jsxs(He,{...it,children:[P!=null&&P!==""&&M.jsx(Ft,{htmlFor:ke,id:we,...Qe,children:P}),q?M.jsx(Oe,{"aria-describedby":me,id:ke,labelId:we,value:A,input:ct,...Yt,children:a}):ct,S&&M.jsx(ut,{id:me,...tt,children:S})]})}),cw=jo(M.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),Xm=jo(M.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic"),PN=jo(M.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m-1.2-9.1c0-.66.54-1.2 1.2-1.2s1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2s-1.2-.54-1.2-1.2zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"MicNone"),RN=jo(M.jsx("path",{d:"M6 6h12v12H6z"}),"Stop"),IN=jo(M.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),uw=()=>({"&.sidebarContainer":{background:"#ffffff",height:"100%",display:"flex",alignItems:"center",justifyContent:"end"},".sidebar":{background:"#f7f7f7",width:"100%",height:"100%",padding:"12px 24px",transition:"all 0.3s ease"},".Search":{position:"relative",borderRadius:"24px",backgroundColor:"#ffffff",width:"50%",border:"1px solid #D5D5D5",transition:"all 0.2s ease","&:hover":{boxShadow:"0 2px 4px rgba(0,0,0,0.05)",borderColor:"#999"}},".searchInput":{color:"inherit",height:"30px","& .MuiInputBase-input":{padding:"10px",paddingRight:"30px)"}},".SearchIconWrapper":{right:0,top:0,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",paddingRight:"5px","& svg":{fill:"#777C96"}},"&.historyItem":{background:"#ffffff",borderRadius:"12px",padding:"16px",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid #eaeaea","&:hover":{transform:"translateY(-2px)",boxShadow:"2px 4px 12px rgba(0,0,0,0.05)"},"& .itemContent":{display:"flex",alignItems:"center",gap:"16px"},"& .iconWrapper":{width:"40px",height:"40px",borderRadius:"8px",background:"#f0f7ff",display:"flex",alignItems:"center",justifyContent:"center","& .chatIcon":{background:"{color}",fontSize:"20px"}},"& .textContent":{flex:1},"& .timestamp":{fontSize:"0.875rem",fontWeight:500,color:"#1a1a1a",marginBottom:"4px"},"& .time":{fontSize:"0.813rem",color:"#666666"}},"&.headerContainer":{padding:"16px 24px",background:"linear-gradient(to bottom, #ffffff, #fafafa)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)",position:"sticky",top:0,zIndex:10},".titleWrapper":{display:"flex",alignItems:"center",justifyContent:"space-between","& .leftSection":{display:"flex",alignItems:"center",gap:"12px"}},".historyTitle":{fontSize:"1.25rem",fontWeight:600,color:"#1a1a1a",letterSpacing:"-0.01em"}}),_N=({className:e,sessionUUIDsWithMessages:t,handleSessionClick:n})=>M.jsx(M.Fragment,{children:t.sort((r,i)=>{const o=new Date(`${r.formattedDate} ${r.formattedTime}`);return new Date(`${i.formattedDate} ${i.formattedTime}`)-o}).map((r,i)=>M.jsx(Pt,{className:`${e} historyItem`,onClick:()=>n(r.session_uuid),children:M.jsxs(Pt,{className:"itemContent",children:[M.jsx(Pt,{className:"iconWrapper",children:M.jsx(cw,{className:"chatIcon"})}),M.jsxs(Pt,{className:"textContent",children:[M.jsx(Rn,{className:"timestamp",children:r.formattedDate}),M.jsx(Rn,{className:"time",children:r.formattedTime})]})]})},i))}),ON=Ie(_N)(uw),MN=({className:e})=>M.jsx(Pt,{className:`${e} headerContainer`,children:M.jsx(Pt,{className:"titleWrapper",children:M.jsx(Pt,{className:"leftSection",children:M.jsx(Rn,{variant:"h6",className:"historyTitle",children:"History"})})})}),AN=Ie(MN)(uw),NN=()=>({"&.sideBarRoot":{background:"#f7f7f7",width:"397px",height:"100%",flexShrink:0,transition:"all 0.3s ease"},".historySubheader":{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 24px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},".historyListing":{height:"480px",padding:"16px 24px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},".historyPopperContainer":{padding:"8px 16px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",border:"1px solid #E1E1E1",borderRadius:"8px",transition:"all 0.2s ease",transform:"translateY(4px)","& .MuiListItemIcon-root":{minWidth:"26px"},"& .MuiButtonBase-root":{padding:"8px 16px",transition:"all 0.2s ease","&:hover":{background:"rgba(0,0,0,0.04)",transform:"translateX(4px)"}}}}),LN=({color:e})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"46",height:"46",viewBox:"0 0 46 46",fill:"none",children:[M.jsx("path",{d:"M23 0.5C28.9674 0.5 34.6903 2.87053 38.9099 7.0901C43.1295 11.3097 45.5 17.0326 45.5 23V41C45.5 42.1935 45.0259 43.3381 44.182 44.182C43.3381 45.0259 42.1935 45.5 41 45.5H23C17.0326 45.5 11.3097 43.1295 7.0901 38.9099C2.87053 34.6903 0.5 28.9674 0.5 23C0.5 17.0326 2.87053 11.3097 7.0901 7.0901C11.3097 2.87053 17.0326 0.5 23 0.5Z",fill:e}),M.jsx("path",{d:"M30.5 16.25H17C15.3431 16.25 14 17.5931 14 19.25V30.5C14 32.1569 15.3431 33.5 17 33.5H30.5C32.1569 33.5 33.5 32.1569 33.5 30.5V19.25C33.5 17.5931 32.1569 16.25 30.5 16.25Z",fill:"#F7FBFF"}),M.jsx("path",{d:"M22.0457 22.3524C22.0457 22.0154 21.9458 21.686 21.7585 21.4057C21.5713 21.1255 21.3052 20.9071 20.9938 20.7781C20.6824 20.6492 20.3398 20.6154 20.0093 20.6812C19.6787 20.7469 19.3751 20.9092 19.1368 21.1475C18.8985 21.3858 18.7362 21.6895 18.6704 22.02C18.6047 22.3505 18.6384 22.6932 18.7674 23.0045C18.8964 23.3159 19.1148 23.582 19.395 23.7693C19.6752 23.9565 20.0047 24.0564 20.3417 24.0564C20.7934 24.0558 21.2265 23.8761 21.5459 23.5567C21.8654 23.2373 22.0451 22.8042 22.0457 22.3524ZM20.3417 22.9202C20.2294 22.9202 20.1196 22.8869 20.0263 22.8245C19.9329 22.7621 19.8601 22.6734 19.8172 22.5697C19.7742 22.466 19.7629 22.3518 19.7849 22.2417C19.8068 22.1315 19.8608 22.0304 19.9402 21.951C20.0196 21.8716 20.1208 21.8175 20.2309 21.7956C20.3411 21.7737 20.4552 21.7849 20.559 21.8279C20.6627 21.8709 20.7514 21.9436 20.8138 22.037C20.8761 22.1304 20.9094 22.2401 20.9094 22.3524C20.9094 22.4271 20.8947 22.501 20.8662 22.57C20.8376 22.639 20.7957 22.7016 20.7429 22.7544C20.6901 22.8072 20.6275 22.8491 20.5585 22.8777C20.4895 22.9062 20.4156 22.9209 20.3409 22.9209L20.3417 22.9202Z",fill:e}),M.jsx("path",{d:"M27.1586 20.6484C26.8216 20.6484 26.4921 20.7484 26.2119 20.9356C25.9317 21.1229 25.7133 21.389 25.5843 21.7003C25.4553 22.0117 25.4216 22.3543 25.4873 22.6849C25.5531 23.0154 25.7154 23.319 25.9537 23.5573C26.192 23.7957 26.4956 23.9579 26.8262 24.0237C27.1567 24.0894 27.4993 24.0557 27.8107 23.9267C28.122 23.7978 28.3882 23.5794 28.5754 23.2991C28.7627 23.0189 28.8626 22.6895 28.8626 22.3524C28.862 21.9007 28.6823 21.4676 28.3628 21.1482C28.0434 20.8288 27.6103 20.649 27.1586 20.6484ZM27.1586 22.9209C27.0463 22.9209 26.9365 22.8876 26.8432 22.8253C26.7498 22.7629 26.677 22.6742 26.6341 22.5705C26.5911 22.4667 26.5798 22.3526 26.6017 22.2424C26.6237 22.1323 26.6777 22.0311 26.7571 21.9517C26.8365 21.8723 26.9377 21.8183 27.0478 21.7963C27.158 21.7744 27.2721 21.7857 27.3759 21.8287C27.4796 21.8716 27.5683 21.9444 27.6307 22.0378C27.693 22.1311 27.7263 22.2409 27.7263 22.3532C27.7261 22.5037 27.6663 22.648 27.5598 22.7544C27.4534 22.8609 27.3091 22.9207 27.1586 22.9209Z",fill:e}),M.jsx("path",{d:"M26.3314 27.4149C25.5314 27.8203 24.6471 28.0316 23.7503 28.0316C22.8534 28.0316 21.9692 27.8203 21.1692 27.4149C21.1025 27.378 21.0292 27.3549 20.9534 27.3469C20.8777 27.3389 20.8011 27.3462 20.7282 27.3684C20.6554 27.3905 20.5877 27.4271 20.5292 27.476C20.4708 27.5248 20.4227 27.5849 20.3879 27.6526C20.3532 27.7204 20.3323 27.7944 20.3267 27.8704C20.3211 27.9464 20.3308 28.0227 20.3553 28.0948C20.3798 28.1669 20.4185 28.2334 20.4691 28.2903C20.5198 28.3472 20.5813 28.3933 20.6502 28.4259C21.6102 28.9155 22.6726 29.1707 23.7503 29.1707C24.828 29.1707 25.8903 28.9155 26.8504 28.4259C26.9192 28.3933 26.9808 28.3472 27.0314 28.2903C27.0821 28.2334 27.1208 28.1669 27.1453 28.0948C27.1697 28.0227 27.1794 27.9464 27.1738 27.8704C27.1682 27.7944 27.1474 27.7204 27.1126 27.6526C27.0778 27.5849 27.0298 27.5248 26.9713 27.476C26.9129 27.4271 26.8452 27.3905 26.7723 27.3684C26.6995 27.3462 26.6229 27.3389 26.5471 27.3469C26.4714 27.3549 26.398 27.378 26.3314 27.4149Z",fill:e}),M.jsx("path",{d:"M35.681 20.6487H33.977V18.9439C33.976 18.191 33.6764 17.4691 33.144 16.9367C32.6116 16.4042 31.8897 16.1047 31.1367 16.1037H24.3192V13.7502C24.8548 13.6119 25.3215 13.2831 25.6319 12.8253C25.9424 12.3675 26.0752 11.8122 26.0055 11.2635C25.9358 10.7148 25.6684 10.2103 25.2534 9.84471C24.8383 9.47907 24.3042 9.27734 23.7511 9.27734C23.198 9.27734 22.6639 9.47907 22.2488 9.84471C21.8338 10.2103 21.5664 10.7148 21.4967 11.2635C21.427 11.8122 21.5598 12.3675 21.8703 12.8253C22.1807 13.2831 22.6474 13.6119 23.183 13.7502V16.1037H16.3647C15.6117 16.1047 14.8899 16.4042 14.3575 16.9367C13.825 17.4691 13.5255 18.191 13.5245 18.9439V20.6487H11.8197C11.368 20.6493 10.9349 20.829 10.6155 21.1484C10.296 21.4679 10.1163 21.9009 10.1157 22.3527V27.4662C10.1163 27.9179 10.296 28.351 10.6155 28.6704C10.9349 28.9899 11.368 29.1696 11.8197 29.1702H13.5245V30.8742C13.5255 31.6272 13.825 32.349 14.3575 32.8814C14.8899 33.4139 15.6117 33.7134 16.3647 33.7144H31.136C31.8889 33.7134 32.6108 33.4139 33.1432 32.8814C33.6757 32.349 33.9752 31.6272 33.9762 30.8742V29.1702H35.6802C36.1322 29.17 36.5657 28.9904 36.8854 28.671C37.2052 28.3515 37.3851 27.9182 37.3857 27.4662V22.3527C37.3851 21.9008 37.2053 21.4676 36.8857 21.1482C36.5661 20.8287 36.1329 20.6491 35.681 20.6487ZM22.6145 11.5587C22.6145 11.334 22.6811 11.1143 22.806 10.9274C22.9308 10.7406 23.1083 10.5949 23.3159 10.5089C23.5235 10.4229 23.752 10.4004 23.9724 10.4443C24.1928 10.4881 24.3953 10.5963 24.5542 10.7552C24.7131 10.9141 24.8213 11.1166 24.8651 11.337C24.909 11.5574 24.8865 11.7859 24.8005 11.9935C24.7145 12.2011 24.5688 12.3786 24.382 12.5034C24.1951 12.6283 23.9755 12.6949 23.7507 12.6949C23.4495 12.6945 23.1607 12.5747 22.9477 12.3617C22.7347 12.1487 22.6149 11.8599 22.6145 11.5587ZM11.8197 28.0362C11.6692 28.036 11.5249 27.9761 11.4185 27.8697C11.3121 27.7632 11.2522 27.6189 11.252 27.4684V22.3527C11.2524 22.2022 11.3123 22.058 11.4187 21.9517C11.5251 21.8453 11.6693 21.7853 11.8197 21.7849H13.5245V28.0362H11.8197ZM32.8407 30.8749C32.8401 31.3267 32.6604 31.7598 32.341 32.0792C32.0215 32.3986 31.5885 32.5783 31.1367 32.5789H16.3647C15.913 32.5783 15.4799 32.3986 15.1605 32.0792C14.841 31.7598 14.6613 31.3267 14.6607 30.8749V18.9439C14.6603 18.4915 14.8396 18.0575 15.1591 17.7373C15.4787 17.417 15.9123 17.2368 16.3647 17.2362H31.136C31.36 17.2364 31.5819 17.2807 31.7888 17.3666C31.9957 17.4526 32.1837 17.5784 32.342 17.737C32.5003 17.8956 32.6259 18.0838 32.7114 18.2909C32.797 18.498 32.8409 18.7199 32.8407 18.9439V30.8749ZM36.2495 27.4662C36.2493 27.6167 36.1894 27.761 36.083 27.8674C35.9765 27.9739 35.8322 28.0337 35.6817 28.0339H33.977V21.7849H35.681C35.8314 21.7853 35.9756 21.8453 36.082 21.9517C36.1884 22.058 36.2483 22.2022 36.2487 22.3527L36.2495 27.4662Z",fill:"white"})]}),DN=({color:e})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",children:[M.jsx("circle",{cx:"22.5",cy:"22.5",r:"22.5",fill:e}),M.jsx("path",{d:"M28.9679 15.7365C27.659 14.4291 25.9919 13.5391 24.1773 13.179C22.3627 12.8189 20.4821 13.0048 18.7731 13.7132C17.0642 14.4217 15.6036 15.6209 14.576 17.1592C13.5484 18.6976 13 20.506 13 22.356C13 24.206 13.5484 26.0144 14.576 27.5528C15.6036 29.0912 17.0642 30.2903 18.7731 30.9988C20.4821 31.7072 22.3627 31.8932 24.1773 31.533C25.9919 31.1729 27.659 30.2829 28.9679 28.9755C30.7209 27.2185 31.7054 24.8379 31.7054 22.356C31.7054 19.8741 30.7209 17.4935 28.9679 15.7365ZM26.2099 25.1135C26.2912 25.1835 26.3573 25.2696 26.4039 25.3663C26.4504 25.463 26.4765 25.5683 26.4806 25.6756C26.4846 25.7828 26.4664 25.8898 26.4272 25.9897C26.388 26.0896 26.3286 26.1804 26.2527 26.2563C26.1768 26.3322 26.086 26.3916 25.9861 26.4308C25.8861 26.47 25.7792 26.4882 25.6719 26.4842C25.5647 26.4802 25.4594 26.4541 25.3627 26.4075C25.266 26.3609 25.1799 26.2949 25.1099 26.2135L22.3489 23.4585L19.5919 26.2165C19.4427 26.3449 19.2506 26.4121 19.0539 26.4047C18.8573 26.3974 18.6707 26.316 18.5316 26.1768C18.3924 26.0377 18.311 25.8511 18.3037 25.6544C18.2963 25.4578 18.3635 25.2657 18.4919 25.1165L21.2459 22.3555L18.4919 19.5945C18.3635 19.4454 18.2963 19.2532 18.3037 19.0566C18.311 18.8599 18.3924 18.6733 18.5316 18.5342C18.6707 18.3951 18.8573 18.3136 19.0539 18.3063C19.2506 18.2989 19.4427 18.3662 19.5919 18.4945L22.3489 21.2525L25.1059 18.4945C25.255 18.3662 25.4472 18.2989 25.6438 18.3063C25.8405 18.3136 26.0271 18.3951 26.1662 18.5342C26.3053 18.6733 26.3867 18.8599 26.3941 19.0566C26.4015 19.2532 26.3342 19.4454 26.2059 19.5945L23.4519 22.3555L26.2099 25.1135Z",fill:"white"})]}),FN=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"11.6",viewBox:"0 0 16 11.6",children:M.jsx("path",{id:"delete_sweep_FILL0_wght400_GRAD0_opsz24",d:"M90.4-769.2v-1.6h3.2v1.6Zm0-6.4v-1.6H96v1.6Zm0,3.2V-774h4.8v1.6Zm-9.6-4.8H80v-1.6h3.2V-780h3.2v1.2h3.2v1.6h-.8v7.2a1.541,1.541,0,0,1-.47,1.13,1.541,1.541,0,0,1-1.13.47H82.4a1.541,1.541,0,0,1-1.13-.47A1.541,1.541,0,0,1,80.8-770Zm1.6,0v7.2h4.8v-7.2Zm0,0v0Z",transform:"translate(-80 780)",fill:"#777c96"})}),jN=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"20",viewBox:"0 0 25 20",children:M.jsxs("g",{id:"collapse",transform:"translate(-1 -4)",children:[M.jsx("path",{id:"Path_9","data-name":"Path 9",d:"M15.833,4a.833.833,0,0,1,.833.833V23.167a.833.833,0,1,1-1.667,0V4.833A.833.833,0,0,1,15.833,4Z",transform:"translate(-2.333)",fill:"#5c5c5c","fill-rule":"evenodd"}),M.jsx("path",{id:"Path_10","data-name":"Path 10",d:"M1,15.833A.833.833,0,0,1,1.833,15h8.333a.833.833,0,1,1,0,1.667H1.833A.833.833,0,0,1,1,15.833Z",transform:"translate(0 -1.833)",fill:"#5c5c5c","fill-rule":"evenodd"}),M.jsx("path",{id:"Path_11","data-name":"Path 11",d:"M7.244,11.244a.833.833,0,0,1,1.179,0l3.333,3.333a.833.833,0,0,1,0,1.179L8.423,19.089a.833.833,0,0,1-1.179-1.178l2.744-2.744L7.244,12.423A.833.833,0,0,1,7.244,11.244Z",transform:"translate(-1 -1.167)",fill:"#5c5c5c","fill-rule":"evenodd"}),M.jsx("path",{id:"Path_12","data-name":"Path 12",d:"M19,15.833A.833.833,0,0,1,19.833,15h8.333a.833.833,0,1,1,0,1.667H19.833A.833.833,0,0,1,19,15.833Z",transform:"translate(-3 -1.833)",fill:"#5c5c5c","fill-rule":"evenodd"}),M.jsx("path",{id:"Path_13","data-name":"Path 13",d:"M23.756,11.244a.833.833,0,0,1,0,1.179l-2.744,2.744,2.744,2.744a.833.833,0,1,1-1.178,1.178l-3.333-3.333a.833.833,0,0,1,0-1.179l3.333-3.333A.833.833,0,0,1,23.756,11.244Z",transform:"translate(-3 -1.167)",fill:"#5c5c5c","fill-rule":"evenodd"})]})}),UN=({color:e})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:M.jsx("g",{id:"minimize",transform:"translate(0 0)",children:M.jsx("g",{id:"Group_48","data-name":"Group 48",transform:"translate(0 0)",children:M.jsxs("g",{id:"Group_47","data-name":"Group 47",transform:"translate(0 0)",children:[M.jsx("path",{id:"Path_21","data-name":"Path 21",d:"M286.257.244a.833.833,0,0,0-1.179,0L279,6.321V2.5a.833.833,0,0,0-1.667,0V8.333h0q0,.041,0,.081c0,.012,0,.024.005.037s0,.029.007.044.007.028.01.041.006.025.01.038.009.027.014.04.009.025.014.037.011.024.017.036.012.025.018.038.013.022.02.034.014.024.022.036.017.024.026.036l.022.03a.838.838,0,0,0,.116.116l.03.022.036.026.036.022.034.02.038.018.036.017.037.014.04.014.038.01.041.01.044.007.037.005c.027,0,.054,0,.081,0H284A.833.833,0,0,0,284,7.5h-3.822l6.077-6.077A.833.833,0,0,0,286.257.244Z",transform:"translate(-266.501 0)",fill:e}),M.jsx("path",{id:"Path_22","data-name":"Path 22",d:"M9.162,278.085c0-.012,0-.024-.005-.037s0-.029-.007-.044-.007-.028-.01-.041-.006-.025-.01-.038-.009-.027-.014-.04-.009-.025-.014-.037-.011-.024-.017-.036-.012-.025-.018-.038-.013-.022-.02-.034-.014-.024-.022-.036-.017-.024-.026-.036l-.022-.03a.838.838,0,0,0-.116-.116l-.03-.022-.036-.026-.036-.022-.034-.02-.038-.018-.036-.017-.037-.014-.04-.014-.038-.01-.041-.01-.044-.007-.037-.005c-.027,0-.055,0-.082,0H2.5A.833.833,0,1,0,2.5,279H6.321L.244,285.078a.833.833,0,0,0,1.179,1.179L7.5,280.179V284a.833.833,0,1,0,1.667,0v-5.833h0C9.166,278.14,9.165,278.113,9.162,278.085Z",transform:"translate(0 -266.501)",fill:e})]})})})}),BN=({color:e})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12.063",height:"12.107",viewBox:"0 0 12.063 12.107",children:M.jsx("g",{id:"expand-arrows",transform:"translate(-0.994)",children:M.jsxs("g",{id:"Group_9","data-name":"Group 9",transform:"translate(0.994)",children:[M.jsx("path",{id:"Path_6","data-name":"Path 6",d:"M6.564,285.884l-.456-.456a.485.485,0,0,0-.683,0L2.6,288.256v-2.4a.483.483,0,0,0-.482-.482H1.476a.483.483,0,0,0-.482.482v4.663a.467.467,0,0,0,.142.34.478.478,0,0,0,.34.142H6.139a.483.483,0,0,0,.482-.482v-.643a.483.483,0,0,0-.482-.482h-2.4l2.826-2.826A.482.482,0,0,0,6.564,285.884Z",transform:"translate(-0.994 -278.892)",fill:e}),M.jsx("path",{id:"Path_7","data-name":"Path 7",d:"M289.787.142a.479.479,0,0,0-.34-.142h-4.663a.483.483,0,0,0-.482.482v.643a.483.483,0,0,0,.482.482h2.4l-2.83,2.824a.485.485,0,0,0,0,.683l.456.456a.486.486,0,0,0,.683,0l2.828-2.826v2.4a.483.483,0,0,0,.482.482h.643a.483.483,0,0,0,.482-.482V.484A.489.489,0,0,0,289.787.142Z",transform:"translate(-277.867)",fill:e})]})})}),zN=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11.897",height:"11.92",viewBox:"0 0 11.897 11.92",children:M.jsx("path",{id:"pencil",d:"M8.172,7.58a.465.465,0,1,0-.66-.655L4.723,9.735,2.681,7.687,6.69,3.664l2.36,2.36a.465.465,0,0,0,.657,0L9.727,6l2.154-2.12,0,0a1.5,1.5,0,0,0,.439-1.588A3.371,3.371,0,0,0,11.412.987,3.372,3.372,0,0,0,10.1.075a1.5,1.5,0,0,0-1.589.44L1.681,7.373a.464.464,0,0,0-.119.2L.517,11.332a.465.465,0,0,0,.575.572l3.721-1.057a.463.463,0,0,0,.245-.129ZM9.824.961a2.784,2.784,0,0,1,.931.683,2.782,2.782,0,0,1,.683.931.577.577,0,0,1-.209.648l-.609.6L8.572,1.776l.6-.6A.578.578,0,0,1,9.824.961ZM7.916,2.434l2.04,2.04-.575.566L7.347,3.006Zm-5.39,8.1-.641-.644.366-1.314,1.582,1.587Zm9.872.906a.465.465,0,0,1-.465.465H6.285a.465.465,0,1,1,0-.93h5.648A.465.465,0,0,1,12.4,11.436Zm0,0",transform:"translate(-0.5 -0.001)",fill:"#ffffff"})}),$N=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",children:M.jsx("path",{id:"share_reviews_FILL0_wght400_GRAD0_opsz24",d:"M87.5-872.2a1.155,1.155,0,0,0,.848-.352,1.156,1.156,0,0,0,.353-.848,1.155,1.155,0,0,0-.353-.847,1.155,1.155,0,0,0-.848-.353,1.123,1.123,0,0,0-.427.083,1.427,1.427,0,0,0-.367.218l-1.605-.81v-.18l1.605-.81a1.427,1.427,0,0,0,.367.217,1.121,1.121,0,0,0,.427.083,1.156,1.156,0,0,0,.848-.352A1.156,1.156,0,0,0,88.7-877a1.155,1.155,0,0,0-.353-.848,1.156,1.156,0,0,0-.848-.353,1.156,1.156,0,0,0-.847.353A1.155,1.155,0,0,0,86.3-877v.09l-1.605.81a1.429,1.429,0,0,0-.367-.217,1.121,1.121,0,0,0-.427-.082,1.155,1.155,0,0,0-.848.352,1.156,1.156,0,0,0-.353.847,1.155,1.155,0,0,0,.353.847A1.156,1.156,0,0,0,83.9-874a1.124,1.124,0,0,0,.427-.083,1.424,1.424,0,0,0,.367-.218l1.605.81v.09a1.156,1.156,0,0,0,.353.848A1.155,1.155,0,0,0,87.5-872.2ZM80-868v-10.8a1.155,1.155,0,0,1,.353-.847A1.155,1.155,0,0,1,81.2-880h9.6a1.155,1.155,0,0,1,.847.352A1.155,1.155,0,0,1,92-878.8v7.2a1.155,1.155,0,0,1-.353.848,1.156,1.156,0,0,1-.847.353H82.4Zm1.89-3.6H90.8v-7.2H81.2v7.875Zm-.69,0v0Z",transform:"translate(-80 880)",fill:"#777c96"})}),VN=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",children:M.jsx("path",{id:"edit_FILL0_wght400_GRAD0_opsz24",d:"M121.333-829.333h.95l6.517-6.517-.95-.95-6.517,6.517ZM120-828v-2.833l8.8-8.783a1.5,1.5,0,0,1,.442-.283,1.317,1.317,0,0,1,.508-.1,1.38,1.38,0,0,1,.517.1,1.171,1.171,0,0,1,.433.3l.917.933a1.09,1.09,0,0,1,.292.433,1.444,1.444,0,0,1,.092.5,1.421,1.421,0,0,1-.092.508,1.252,1.252,0,0,1-.292.442L122.833-828Zm10.667-9.733-.933-.933Zm-2.35,1.417-.467-.483.95.95Z",transform:"translate(-120 840)",fill:"#777c96"})}),HN=({color:e})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19.6",height:"16.912",viewBox:"0 0 19.6 16.912",children:M.jsx("g",{id:"send_4_","data-name":"send (4)",transform:"translate(-0.001 -35.111)",children:M.jsx("g",{id:"Group_11","data-name":"Group 11",transform:"translate(0.001 35.111)",children:M.jsx("path",{id:"Path_8","data-name":"Path 8",d:"M18.433,41.818,2.619,35.257A1.893,1.893,0,0,0,.06,37.472l1.408,5.52H8.359a.574.574,0,0,1,0,1.148H1.468L.06,49.66A1.893,1.893,0,0,0,2.62,51.876l15.814-6.562a1.893,1.893,0,0,0,0-3.5Z",transform:"translate(-0.001 -35.111)",fill:e})})})}),WN=({color:e})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30.6",height:"30.1",viewBox:"0 0 33.6 30.1",children:M.jsxs("g",{id:"Group_8","data-name":"Group 8",transform:"translate(-177.434 -176.68)",children:[M.jsx("rect",{id:"Rectangle_2","data-name":"Rectangle 2",width:"24.027",height:"21.254",rx:"4",transform:"translate(182.22 185.261)",fill:"#f7fbff"}),M.jsxs("g",{id:"robot",transform:"translate(177.434 176.68)",children:[M.jsx("path",{id:"Path_1","data-name":"Path 1",d:"M19.2,24.1a2.1,2.1,0,1,0-2.1,2.1A2.1,2.1,0,0,0,19.2,24.1Zm-2.1.7a.7.7,0,1,1,.7-.7A.7.7,0,0,1,17.1,24.8Z",transform:"translate(-4.5 -8)",fill:e}),M.jsx("path",{id:"Path_2","data-name":"Path 2",d:"M29.1,22a2.1,2.1,0,1,0,2.1,2.1A2.1,2.1,0,0,0,29.1,22Zm0,2.8a.7.7,0,1,1,.7-.7A.7.7,0,0,1,29.1,24.8Z",transform:"translate(-8.1 -8)",fill:e}),M.jsx("path",{id:"Path_3","data-name":"Path 3",d:"M25.38,33.877a7.036,7.036,0,0,1-6.36,0,.7.7,0,0,0-.64,1.246,8.409,8.409,0,0,0,7.64,0,.7.7,0,1,0-.64-1.246Z",transform:"translate(-5.4 -11.54)",fill:e}),M.jsx("path",{id:"Path_4","data-name":"Path 4",d:"M31.5,16H29.4V13.9a3.5,3.5,0,0,0-3.5-3.5H17.5V7.5a2.8,2.8,0,1,0-1.4,0v2.9H7.7a3.5,3.5,0,0,0-3.5,3.5V16H2.1A2.1,2.1,0,0,0,0,18.1v6.3a2.1,2.1,0,0,0,2.1,2.1H4.2v2.1a3.5,3.5,0,0,0,3.5,3.5H25.9a3.5,3.5,0,0,0,3.5-3.5V26.5h2.1a2.1,2.1,0,0,0,2.1-2.1V18.1A2.1,2.1,0,0,0,31.5,16ZM15.4,4.8a1.4,1.4,0,1,1,1.4,1.4A1.4,1.4,0,0,1,15.4,4.8ZM2.1,25.1a.7.7,0,0,1-.7-.7V18.1a.7.7,0,0,1,.7-.7H4.2v7.7ZM28,28.6a2.1,2.1,0,0,1-2.1,2.1H7.7a2.1,2.1,0,0,1-2.1-2.1V13.9a2.1,2.1,0,0,1,2.1-2.1H25.9A2.1,2.1,0,0,1,28,13.9Zm4.2-4.2a.7.7,0,0,1-.7.7H29.4V17.4h2.1a.7.7,0,0,1,.7.7Z",transform:"translate(0 -2)",fill:e})]})]})}),qN=({className:e,sidebarPopoverId:t,sidebarPopoverOpen:n,sidebarPopoverAnchorEl:r,handleSidebarPopoverClose:i,sessionUUIDsWithMessages:o,handleSessionClick:a})=>M.jsxs(Pt,{className:`${e} sideBarRoot`,children:[M.jsx(AN,{}),M.jsxs(Pt,{className:"historySubheader",children:[M.jsx(Rn,{variant:"body2",color:"textSecondary",children:o.length}),M.jsx(Rn,{variant:"body2",color:"textSecondary",children:"Recent in 30 days"})]}),M.jsxs(Pt,{className:"historyListing hide-scrollbar",children:[M.jsx(ON,{handleSessionClick:a,sessionUUIDsWithMessages:o}),M.jsx(Lv,{id:t,open:n,anchorEl:r,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"},className:e,children:M.jsxs(Pt,{className:"historyPopperContainer",children:[M.jsxs(qh,{children:[M.jsx(Kh,{sx:{minWidth:"28px"},children:M.jsx(Ti,{sx:{p:0},children:M.jsx($N,{})})}),M.jsx(Gh,{primary:M.jsx(Rn,{variant:"body2",children:"Share"})})]}),M.jsxs(qh,{children:[M.jsx(Kh,{sx:{minWidth:"28px"},children:M.jsx(Ti,{sx:{p:0},children:M.jsx(VN,{})})}),M.jsx(Gh,{primary:M.jsx(Rn,{variant:"body2",children:"Rename"})})]}),M.jsxs(qh,{children:[M.jsx(Kh,{sx:{minWidth:"28px"},children:M.jsx(Ti,{sx:{p:0},children:M.jsx(FN,{})})}),M.jsx(Gh,{primary:M.jsx(Rn,{variant:"body2",children:"Delete"})})]})]})})]})]}),KN=Ie(qN)(NN),dw=e=>({"&.headerRoot":{background:e.color,width:"100%",height:"50px",boxShadow:"rgba(149, 157, 165, 0.2) 0px 3px 9px"},".maxHeaderNewMsg":{background:e.color,height:"100%",display:"flex",alignItems:"center",justifyContent:"end"},".maxHeader":{background:e.color,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},".resources":{height:"30px",marginLeft:"10px","& .MuiOutlinedInput-notchedOutline":{border:"none"}},".minimizeIcon":{cursor:"pointer",padding:"10px",marginRight:"15px",borderRadius:"50px",background:"#ffffff",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"#f5f5f5",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.1)"}},".newMsgmin":{color:"white !important",padding:"0px 10px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",backdropFilter:"blur(10px)",border:"2px solid white !important",transition:"all 0.3s cubic-bezier(0.4, 1, 0, 1)",background:e.color,"&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.1)"}},".msgIcon":{margin:"0px 6px 0 0"}}),GN="/assets/saple-logo-CggU2HAU.jpeg",YN=({className:e,isMaximized:t,handleMaximize:n,botdropDown:r,handleBotChange:i,onNewMessageClick:o,botDetails:a,bot:c,tenantid:u,color:d})=>{const p=_a(),h=VA(p.breakpoints.down("sm")),g=(v,S)=>{v.preventDefault(),v.stopPropagation(),i(v,S)};return M.jsx("div",{children:M.jsx(Pt,{container:!0,justifyContent:"space-between",className:`${e} headerRoot`,children:M.jsxs(Pt,{className:"maxHeader",children:[u==="null"?M.jsxs(Pt,{className:"logoContainer",children:[M.jsx(Vh,{display:"flex",alignItems:"center",justifyContent:"center",ml:1.5,children:M.jsx(Vh,{component:"img",src:GN,alt:"Logo",sx:{width:"100px",height:"40px",borderRadius:"12px",objectFit:"cover"}})}),M.jsx(Rn,{variant:"h6",sx:{color:"#ffffff",fontWeight:"700",textAlign:"center",fontSize:"18px",letterSpacing:"1px"}})]}):M.jsx(Pt,{style:{display:"flex"},children:!c&&M.jsx(Vh,{sx:{minWidth:120},children:M.jsx(nw,{fullWidth:!0,children:M.jsxs(Uv,{labelId:"bot-select-label",id:"bot-select",value:r,size:"small",onChange:g,onMouseDown:v=>v.preventDefault(),displayEmpty:!0,inputProps:{"aria-label":"Without label"},className:"resources",sx:{color:p.palette.text.primary,backgroundColor:p.palette.background.paper},children:[M.jsx(kS,{disabled:!0,value:"",children:"Bot"}),a==null?void 0:a.map((v,S)=>M.jsx(kS,{value:v.container,onMouseDown:b=>{b.preventDefault(),b.stopPropagation()},sx:{backgroundColor:p.palette.background.paper,color:p.palette.text.primary,"&.Mui-selected":{backgroundColor:p.palette.action.selected}},children:v.name.toUpperCase()},S))]})})})}),M.jsxs(Pt,{className:"maxHeaderNewMsg",children:[M.jsx(Ti,{onClick:o,style:{outline:"none"},sx:{p:0,width:38,height:38,display:"flex",alignItems:"center",justifyContent:"center",marginRight:1.5},children:M.jsx(Rn,{variant:"subtitle1",className:"newMsgmin",children:M.jsx(zN,{})})}),!h&&M.jsx(Ti,{onClick:n,className:"minimizeIcon",sx:{p:0,width:38,height:38,display:"flex",alignItems:"center",justifyContent:"center"},children:t?M.jsx(UN,{color:d}):M.jsx(BN,{color:d})})]})]})})})},QN=Ie(YN)(({color:e,...t})=>dw({...t,color:e}));function JN(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const XN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eL={};function IS(e,t){return(eL.jsx?ZN:XN).test(e)}const tL=/[ \t\n\f\r]/g;function nL(e){return typeof e=="object"?e.type==="text"?_S(e.value):!1:_S(e)}function _S(e){return e.replace(tL,"")===""}class xc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}xc.prototype.normal={};xc.prototype.property={};xc.prototype.space=void 0;function fw(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new xc(n,r,t)}function Zm(e){return e.toLowerCase()}class dr{constructor(t,n){this.attribute=n,this.property=t}}dr.prototype.attribute="";dr.prototype.booleanish=!1;dr.prototype.boolean=!1;dr.prototype.commaOrSpaceSeparated=!1;dr.prototype.commaSeparated=!1;dr.prototype.defined=!1;dr.prototype.mustUseProperty=!1;dr.prototype.number=!1;dr.prototype.overloadedBoolean=!1;dr.prototype.property="";dr.prototype.spaceSeparated=!1;dr.prototype.space=void 0;let rL=0;const Ze=bs(),hn=bs(),eg=bs(),ge=bs(),$t=bs(),fa=bs(),vr=bs();function bs(){return 2**++rL}const tg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ze,booleanish:hn,commaOrSpaceSeparated:vr,commaSeparated:fa,number:ge,overloadedBoolean:eg,spaceSeparated:$t},Symbol.toStringTag,{value:"Module"})),Jh=Object.keys(tg);class Bv extends dr{constructor(t,n,r,i){let o=-1;if(super(t,n),OS(this,"space",i),typeof r=="number")for(;++o<Jh.length;){const a=Jh[o];OS(this,Jh[o],(r&tg[a])===tg[a])}}}Bv.prototype.defined=!0;function OS(e,t,n){n&&(e[t]=n)}function Ma(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Bv(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Zm(r)]=r,n[Zm(o.attribute)]=r}return new xc(t,n,e.space)}const pw=Ma({properties:{ariaActiveDescendant:null,ariaAtomic:hn,ariaAutoComplete:null,ariaBusy:hn,ariaChecked:hn,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:$t,ariaCurrent:null,ariaDescribedBy:$t,ariaDetails:null,ariaDisabled:hn,ariaDropEffect:$t,ariaErrorMessage:null,ariaExpanded:hn,ariaFlowTo:$t,ariaGrabbed:hn,ariaHasPopup:null,ariaHidden:hn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$t,ariaLevel:ge,ariaLive:null,ariaModal:hn,ariaMultiLine:hn,ariaMultiSelectable:hn,ariaOrientation:null,ariaOwns:$t,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:hn,ariaReadOnly:hn,ariaRelevant:null,ariaRequired:hn,ariaRoleDescription:$t,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:hn,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function hw(e,t){return t in e?e[t]:t}function mw(e,t){return hw(e,t.toLowerCase())}const iL=Ma({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fa,acceptCharset:$t,accessKey:$t,action:null,allow:null,allowFullScreen:Ze,allowPaymentRequest:Ze,allowUserMedia:Ze,alt:null,as:null,async:Ze,autoCapitalize:null,autoComplete:$t,autoFocus:Ze,autoPlay:Ze,blocking:$t,capture:null,charSet:null,checked:Ze,cite:null,className:$t,cols:ge,colSpan:null,content:null,contentEditable:hn,controls:Ze,controlsList:$t,coords:ge|fa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ze,defer:Ze,dir:null,dirName:null,disabled:Ze,download:eg,draggable:hn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ze,formTarget:null,headers:$t,height:ge,hidden:eg,high:ge,href:null,hrefLang:null,htmlFor:$t,httpEquiv:$t,id:null,imageSizes:null,imageSrcSet:null,inert:Ze,inputMode:null,integrity:null,is:null,isMap:Ze,itemId:null,itemProp:$t,itemRef:$t,itemScope:Ze,itemType:$t,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ze,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:Ze,muted:Ze,name:null,nonce:null,noModule:Ze,noValidate:Ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ze,optimum:ge,pattern:null,ping:$t,placeholder:null,playsInline:Ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ze,referrerPolicy:null,rel:$t,required:Ze,reversed:Ze,rows:ge,rowSpan:ge,sandbox:$t,scope:null,scoped:Ze,seamless:Ze,selected:Ze,shadowRootClonable:Ze,shadowRootDelegatesFocus:Ze,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:hn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:Ze,useMap:null,value:hn,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$t,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ze,declare:Ze,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:Ze,noHref:Ze,noShade:Ze,noWrap:Ze,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:hn,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ze,disableRemotePlayback:Ze,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:mw}),oL=Ma({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vr,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:$t,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:Ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fa,g2:fa,glyphName:fa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:vr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$t,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vr,rev:vr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vr,requiredFeatures:vr,requiredFonts:vr,requiredFormats:vr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:vr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vr,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:hw}),gw=Ma({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),vw=Ma({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mw}),yw=Ma({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),sL={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},aL=/[A-Z]/g,MS=/-[a-z]/g,lL=/^data[-\w.:]+$/i;function cL(e,t){const n=Zm(t);let r=t,i=dr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&lL.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(MS,dL);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!MS.test(o)){let a=o.replace(aL,uL);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Bv}return new i(r,t)}function uL(e){return"-"+e.toLowerCase()}function dL(e){return e.charAt(1).toUpperCase()}const fL=fw([pw,iL,gw,vw,yw],"html"),zv=fw([pw,oL,gw,vw,yw],"svg");function pL(e){return e.join(" ").trim()}var ea={},Xh,AS;function hL(){if(AS)return Xh;AS=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,u=`
`,d="/",p="*",h="",g="comment",v="declaration";Xh=function(b,x){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];x=x||{};var C=1,O=1;function R(W){var K=W.match(t);K&&(C+=K.length);var q=W.lastIndexOf(u);O=~q?W.length-q:O+W.length}function P(){var W={line:C,column:O};return function(K){return K.position=new E(W),B(),K}}function E(W){this.start=W,this.end={line:C,column:O},this.source=x.source}E.prototype.content=b;function I(W){var K=new Error(x.source+":"+C+":"+O+": "+W);if(K.reason=W,K.filename=x.source,K.line=C,K.column=O,K.source=b,!x.silent)throw K}function D(W){var K=W.exec(b);if(K){var q=K[0];return R(q),b=b.slice(q.length),K}}function B(){D(n)}function U(W){var K;for(W=W||[];K=T();)K!==!1&&W.push(K);return W}function T(){var W=P();if(!(d!=b.charAt(0)||p!=b.charAt(1))){for(var K=2;h!=b.charAt(K)&&(p!=b.charAt(K)||d!=b.charAt(K+1));)++K;if(K+=2,h===b.charAt(K-1))return I("End of comment missing");var q=b.slice(2,K-2);return O+=2,R(q),b=b.slice(K),O+=2,W({type:g,comment:q})}}function N(){var W=P(),K=D(r);if(K){if(T(),!D(i))return I("property missing ':'");var q=D(o),ne=W({type:v,property:S(K[0].replace(e,h)),value:q?S(q[0].replace(e,h)):h});return D(a),ne}}function $(){var W=[];U(W);for(var K;K=N();)K!==!1&&(W.push(K),U(W));return W}return B(),$()};function S(b){return b?b.replace(c,h):h}return Xh}var NS;function mL(){if(NS)return ea;NS=1;var e=ea&&ea.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ea,"__esModule",{value:!0}),ea.default=n;var t=e(hL());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var a=(0,t.default)(r),c=typeof i=="function";return a.forEach(function(u){if(u.type==="declaration"){var d=u.property,p=u.value;c?i(d,p,u):p&&(o=o||{},o[d]=p)}}),o}return ea}var Pl={},LS;function gL(){if(LS)return Pl;LS=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(d){return!d||n.test(d)||e.test(d)},a=function(d,p){return p.toUpperCase()},c=function(d,p){return"".concat(p,"-")},u=function(d,p){return p===void 0&&(p={}),o(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(i,c):d=d.replace(r,c),d.replace(t,a))};return Pl.camelCase=u,Pl}var Rl,DS;function vL(){if(DS)return Rl;DS=1;var e=Rl&&Rl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(mL()),n=gL();function r(i,o){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(c,u){c&&u&&(a[(0,n.camelCase)(c,o)]=u)}),a}return r.default=r,Rl=r,Rl}var yL=vL();const bL=tf(yL),bw=Sw("end"),$v=Sw("start");function Sw(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function SL(e){const t=$v(e),n=bw(e);if(t&&n)return{start:t,end:n}}function ql(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?FS(e.position):"start"in e||"end"in e?FS(e):"line"in e||"column"in e?ng(e):""}function ng(e){return jS(e&&e.line)+":"+jS(e&&e.column)}function FS(e){return ng(e&&e.start)+"-"+ng(e&&e.end)}function jS(e){return e&&typeof e=="number"?e:1}class Wn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?o.ruleId=r:(o.source=r.slice(0,u),o.ruleId=r.slice(u+1))}if(!o.place&&o.ancestors&&o.ancestors){const u=o.ancestors[o.ancestors.length-1];u&&(o.place=u.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=ql(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Wn.prototype.file="";Wn.prototype.name="";Wn.prototype.reason="";Wn.prototype.message="";Wn.prototype.stack="";Wn.prototype.column=void 0;Wn.prototype.line=void 0;Wn.prototype.ancestors=void 0;Wn.prototype.cause=void 0;Wn.prototype.fatal=void 0;Wn.prototype.place=void 0;Wn.prototype.ruleId=void 0;Wn.prototype.source=void 0;const Vv={}.hasOwnProperty,kL=new Map,CL=/[A-Z]/g,xL=new Set(["table","tbody","thead","tfoot","tr"]),wL=new Set(["td","th"]),kw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function TL(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=AL(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ML(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?zv:fL,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Cw(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Cw(e,t,n){if(t.type==="element")return EL(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return PL(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return IL(e,t,n);if(t.type==="mdxjsEsm")return RL(e,t);if(t.type==="root")return _L(e,t,n);if(t.type==="text")return OL(e,t)}function EL(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=zv,e.schema=i),e.ancestors.push(t);const o=ww(e,t.tagName,!1),a=NL(e,t);let c=Wv(e,t);return xL.has(t.tagName)&&(c=c.filter(function(u){return typeof u=="string"?!nL(u):!0})),xw(e,a,o,t),Hv(a,c),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function PL(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}oc(e,t.position)}function RL(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);oc(e,t.position)}function IL(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=zv,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:ww(e,t.name,!0),a=LL(e,t),c=Wv(e,t);return xw(e,a,o,t),Hv(a,c),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function _L(e,t,n){const r={};return Hv(r,Wv(e,t)),e.create(t,e.Fragment,r,n)}function OL(e,t){return t.value}function xw(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Hv(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ML(e,t,n){return r;function r(i,o,a,c){const d=Array.isArray(a.children)?n:t;return c?d(o,a,c):d(o,a)}}function AL(e,t){return n;function n(r,i,o,a){const c=Array.isArray(o.children),u=$v(r);return t(i,o,a,c,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function NL(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Vv.call(t.properties,i)){const o=DL(e,i,t.properties[i]);if(o){const[a,c]=o;e.tableCellAlignToStyle&&a==="align"&&typeof c=="string"&&wL.has(t.tagName)?r=c:n[a]=c}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function LL(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const c=a.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else oc(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,o=e.evaluater.evaluateExpression(c.expression)}else oc(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Wv(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:kL;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const u=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(u){const d=i.get(u)||0;a=u+"-"+d,i.set(u,d+1)}}const c=Cw(e,o,a);c!==void 0&&n.push(c)}return n}function DL(e,t,n){const r=cL(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?JN(n):pL(n)),r.property==="style"){let i=typeof n=="object"?n:FL(e,String(n));return e.stylePropertyNameCase==="css"&&(i=jL(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?sL[r.property]||r.property:r.attribute,n]}}function FL(e,t){try{return bL(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Wn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=kw+"#cannot-parse-style-attribute",i}}function ww(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,a;for(;++o<i.length;){const c=IS(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=a}else r=IS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Vv.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);oc(e)}function oc(e,t){const n=new Wn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=kw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function jL(e){const t={};let n;for(n in e)Vv.call(e,n)&&(t[UL(n)]=e[n]);return t}function UL(e){let t=e.replace(CL,BL);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function BL(e){return"-"+e.toLowerCase()}const Zh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},zL={};function $L(e,t){const n=zL,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Tw(e,r,i)}function Tw(e,t,n){if(VL(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return US(e.children,t,n)}return Array.isArray(e)?US(e,t,n):""}function US(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Tw(e[i],t,n);return r.join("")}function VL(e){return!!(e&&typeof e=="object")}const BS=document.createElement("i");function qv(e){const t="&"+e+";";BS.innerHTML=t;const n=BS.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ri(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function Fr(e,t){return e.length>0?(Ri(e,e.length,0,t),e):t}const zS={}.hasOwnProperty;function HL(e){const t={};let n=-1;for(;++n<e.length;)WL(t,e[n]);return t}function WL(e,t){let n;for(n in t){const i=(zS.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){zS.call(i,a)||(i[a]=[]);const c=o[a];qL(i[a],Array.isArray(c)?c:c?[c]:[])}}}function qL(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ri(e,0,0,r)}function Ew(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function pa(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ki=Uo(/[A-Za-z]/),kr=Uo(/[\dA-Za-z]/),KL=Uo(/[#-'*+\--9=?A-Z^-~]/);function rg(e){return e!==null&&(e<32||e===127)}const ig=Uo(/\d/),GL=Uo(/[\dA-Fa-f]/),YL=Uo(/[!-/:-@[-`{-~]/);function Ge(e){return e!==null&&e<-2}function sr(e){return e!==null&&(e<0||e===32)}function Rt(e){return e===-2||e===-1||e===32}const QL=Uo(new RegExp("\\p{P}|\\p{S}","u")),JL=Uo(/\s/);function Uo(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Aa(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&kr(e.charCodeAt(n+1))&&kr(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const c=e.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(a=String.fromCharCode(o,c),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Vt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(u){return Rt(u)?(e.enter(n),c(u)):t(u)}function c(u){return Rt(u)&&o++<i?(e.consume(u),c):(e.exit(n),t(u))}}const XL={tokenize:ZL};function ZL(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Vt(e,t,"linePrefix")}function i(c){return e.enter("paragraph"),o(c)}function o(c){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(c)}function a(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ge(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),a)}}const eD={tokenize:tD},$S={tokenize:nD};function tD(e){const t=this,n=[];let r=0,i,o,a;return c;function c(R){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,u,d)(R)}return d(R)}function u(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&O();const P=t.events.length;let E=P,I;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){I=t.events[E][1].end;break}C(r);let D=P;for(;D<t.events.length;)t.events[D][1].end={...I},D++;return Ri(t.events,E+1,0,t.events.slice(P)),t.events.length=D,d(R)}return c(R)}function d(R){if(r===n.length){if(!i)return g(R);if(i.currentConstruct&&i.currentConstruct.concrete)return S(R);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check($S,p,h)(R)}function p(R){return i&&O(),C(r),g(R)}function h(R){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,S(R)}function g(R){return t.containerState={},e.attempt($S,v,S)(R)}function v(R){return r++,n.push([t.currentConstruct,t.containerState]),g(R)}function S(R){if(R===null){i&&O(),C(0),e.consume(R);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),b(R)}function b(R){if(R===null){x(e.exit("chunkFlow"),!0),C(0),e.consume(R);return}return Ge(R)?(e.consume(R),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(R),b)}function x(R,P){const E=t.sliceStream(R);if(P&&E.push(null),R.previous=o,o&&(o.next=R),o=R,i.defineSkip(R.start),i.write(E),t.parser.lazy[R.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<a&&(!i.events[I][1].end||i.events[I][1].end.offset>a))return;const D=t.events.length;let B=D,U,T;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(U){T=t.events[B][1].end;break}U=!0}for(C(r),I=D;I<t.events.length;)t.events[I][1].end={...T},I++;Ri(t.events,B+1,0,t.events.slice(D)),t.events.length=I}}function C(R){let P=n.length;for(;P-- >R;){const E=n[P];t.containerState=E[1],E[0].exit.call(t,e)}n.length=R}function O(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function nD(e,t,n){return Vt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function VS(e){if(e===null||sr(e)||JL(e))return 1;if(QL(e))return 2}function Kv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const og={name:"attention",resolveAll:rD,tokenize:iD};function rD(e,t){let n=-1,r,i,o,a,c,u,d,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},g={...e[n][1].start};HS(h,-u),HS(g,u),a={type:u>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},c={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},o={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...c.end}},e[r][1].end={...a.start},e[n][1].start={...c.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Fr(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Fr(d,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),d=Fr(d,Kv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Fr(d,[["exit",o,t],["enter",c,t],["exit",c,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,d=Fr(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Ri(e,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function iD(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=VS(r);let o;return a;function a(u){return o=u,e.enter("attentionSequence"),c(u)}function c(u){if(u===o)return e.consume(u),c;const d=e.exit("attentionSequence"),p=VS(u),h=!p||p===2&&i||n.includes(u),g=!i||i===2&&p||n.includes(r);return d._open=!!(o===42?h:h&&(i||!g)),d._close=!!(o===42?g:g&&(p||!h)),t(u)}}function HS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const oD={name:"autolink",tokenize:sD};function sD(e,t,n){let r=0;return i;function i(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(v){return ki(v)?(e.consume(v),a):v===64?n(v):d(v)}function a(v){return v===43||v===45||v===46||kr(v)?(r=1,c(v)):d(v)}function c(v){return v===58?(e.consume(v),r=0,u):(v===43||v===45||v===46||kr(v))&&r++<32?(e.consume(v),c):(r=0,d(v))}function u(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||rg(v)?n(v):(e.consume(v),u)}function d(v){return v===64?(e.consume(v),p):KL(v)?(e.consume(v),d):n(v)}function p(v){return kr(v)?h(v):n(v)}function h(v){return v===46?(e.consume(v),r=0,p):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):g(v)}function g(v){if((v===45||kr(v))&&r++<63){const S=v===45?g:h;return e.consume(v),S}return n(v)}}const Ef={partial:!0,tokenize:aD};function aD(e,t,n){return r;function r(o){return Rt(o)?Vt(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Ge(o)?t(o):n(o)}}const Pw={continuation:{tokenize:cD},exit:uD,name:"blockQuote",tokenize:lD};function lD(e,t,n){const r=this;return i;function i(a){if(a===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Rt(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function cD(e,t,n){const r=this;return i;function i(a){return Rt(a)?Vt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(Pw,t,n)(a)}}function uD(e){e.exit("blockQuote")}const Rw={name:"characterEscape",tokenize:dD};function dD(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return YL(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Iw={name:"characterReference",tokenize:fD};function fD(e,t,n){const r=this;let i=0,o,a;return c;function c(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),u}function u(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),o=31,a=kr,p(h))}function d(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=GL,p):(e.enter("characterReferenceValue"),o=7,a=ig,p(h))}function p(h){if(h===59&&i){const g=e.exit("characterReferenceValue");return a===kr&&!qv(r.sliceSerialize(g))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&i++<o?(e.consume(h),p):n(h)}}const WS={partial:!0,tokenize:hD},qS={concrete:!0,name:"codeFenced",tokenize:pD};function pD(e,t,n){const r=this,i={partial:!0,tokenize:E};let o=0,a=0,c;return u;function u(I){return d(I)}function d(I){const D=r.events[r.events.length-1];return o=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,c=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(I)}function p(I){return I===c?(a++,e.consume(I),p):a<3?n(I):(e.exit("codeFencedFenceSequence"),Rt(I)?Vt(e,h,"whitespace")(I):h(I))}function h(I){return I===null||Ge(I)?(e.exit("codeFencedFence"),r.interrupt?t(I):e.check(WS,b,P)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(I))}function g(I){return I===null||Ge(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(I)):Rt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Vt(e,v,"whitespace")(I)):I===96&&I===c?n(I):(e.consume(I),g)}function v(I){return I===null||Ge(I)?h(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(I))}function S(I){return I===null||Ge(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(I)):I===96&&I===c?n(I):(e.consume(I),S)}function b(I){return e.attempt(i,P,x)(I)}function x(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),C}function C(I){return o>0&&Rt(I)?Vt(e,O,"linePrefix",o+1)(I):O(I)}function O(I){return I===null||Ge(I)?e.check(WS,b,P)(I):(e.enter("codeFlowValue"),R(I))}function R(I){return I===null||Ge(I)?(e.exit("codeFlowValue"),O(I)):(e.consume(I),R)}function P(I){return e.exit("codeFenced"),t(I)}function E(I,D,B){let U=0;return T;function T(q){return I.enter("lineEnding"),I.consume(q),I.exit("lineEnding"),N}function N(q){return I.enter("codeFencedFence"),Rt(q)?Vt(I,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):$(q)}function $(q){return q===c?(I.enter("codeFencedFenceSequence"),W(q)):B(q)}function W(q){return q===c?(U++,I.consume(q),W):U>=a?(I.exit("codeFencedFenceSequence"),Rt(q)?Vt(I,K,"whitespace")(q):K(q)):B(q)}function K(q){return q===null||Ge(q)?(I.exit("codeFencedFence"),D(q)):B(q)}}}function hD(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const em={name:"codeIndented",tokenize:gD},mD={partial:!0,tokenize:vD};function gD(e,t,n){const r=this;return i;function i(d){return e.enter("codeIndented"),Vt(e,o,"linePrefix",5)(d)}function o(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?u(d):Ge(d)?e.attempt(mD,a,u)(d):(e.enter("codeFlowValue"),c(d))}function c(d){return d===null||Ge(d)?(e.exit("codeFlowValue"),a(d)):(e.consume(d),c)}function u(d){return e.exit("codeIndented"),t(d)}}function vD(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Ge(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Vt(e,o,"linePrefix",5)(a)}function o(a){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):Ge(a)?i(a):n(a)}}const yD={name:"codeText",previous:SD,resolve:bD,tokenize:kD};function bD(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function SD(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kD(e,t,n){let r=0,i,o;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),c(h)}function c(h){return h===96?(e.consume(h),r++,c):(e.exit("codeTextSequence"),u(h))}function u(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),u):h===96?(o=e.enter("codeTextSequence"),i=0,p(h)):Ge(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(h))}function d(h){return h===null||h===32||h===96||Ge(h)?(e.exit("codeTextData"),u(h)):(e.consume(h),d)}function p(h){return h===96?(e.consume(h),i++,p):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(o.type="codeTextData",d(h))}}class CD{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Il(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Il(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Il(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Il(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Il(this.left,n.reverse())}}}function Il(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _w(e){const t={};let n=-1,r,i,o,a,c,u,d;const p=new CD(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,o=0,o<u.length&&u[o][1].type==="lineEndingBlank"&&(o+=2),o<u.length&&u[o][1].type==="content"))for(;++o<u.length&&u[o][1].type!=="content";)u[o][1].type==="chunkText"&&(u[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,xD(p,n)),n=t[n],d=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=p.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},c=p.slice(i,n),c.unshift(r),p.splice(i,n-i+1,c))}}return Ri(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function xD(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const c=a.events,u=[],d={};let p,h,g=-1,v=n,S=0,b=0;const x=[b];for(;v;){for(;e.get(++i)[1]!==v;);o.push(i),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),h&&a.defineSkip(v.start),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(p),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=v,v=v.next}for(v=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(b=g+1,x.push(b),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(a.events=[],v?(v._tokenizer=void 0,v.previous=void 0):x.pop(),g=x.length;g--;){const C=c.slice(x[g],x[g+1]),O=o.pop();u.push([O,O+C.length-1]),e.splice(O,2,C)}for(u.reverse(),g=-1;++g<u.length;)d[S+u[g][0]]=S+u[g][1],S+=u[g][1]-u[g][0]-1;return d}const wD={resolve:ED,tokenize:PD},TD={partial:!0,tokenize:RD};function ED(e){return _w(e),e}function PD(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?o(c):Ge(c)?e.check(TD,a,o)(c):(e.consume(c),i)}function o(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function a(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function RD(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Vt(e,o,"linePrefix")}function o(a){if(a===null||Ge(a))return n(a);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Ow(e,t,n,r,i,o,a,c,u){const d=u||Number.POSITIVE_INFINITY;let p=0;return h;function h(C){return C===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(C),e.exit(o),g):C===null||C===32||C===41||rg(C)?n(C):(e.enter(r),e.enter(a),e.enter(c),e.enter("chunkString",{contentType:"string"}),b(C))}function g(C){return C===62?(e.enter(o),e.consume(C),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===62?(e.exit("chunkString"),e.exit(c),g(C)):C===null||C===60||Ge(C)?n(C):(e.consume(C),C===92?S:v)}function S(C){return C===60||C===62||C===92?(e.consume(C),v):v(C)}function b(C){return!p&&(C===null||C===41||sr(C))?(e.exit("chunkString"),e.exit(c),e.exit(a),e.exit(r),t(C)):p<d&&C===40?(e.consume(C),p++,b):C===41?(e.consume(C),p--,b):C===null||C===32||C===40||rg(C)?n(C):(e.consume(C),C===92?x:b)}function x(C){return C===40||C===41||C===92?(e.consume(C),b):b(C)}}function Mw(e,t,n,r,i,o){const a=this;let c=0,u;return d;function d(v){return e.enter(r),e.enter(i),e.consume(v),e.exit(i),e.enter(o),p}function p(v){return c>999||v===null||v===91||v===93&&!u||v===94&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs?n(v):v===93?(e.exit(o),e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):Ge(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===null||v===91||v===93||Ge(v)||c++>999?(e.exit("chunkString"),p(v)):(e.consume(v),u||(u=!Rt(v)),v===92?g:h)}function g(v){return v===91||v===92||v===93?(e.consume(v),c++,h):h(v)}}function Aw(e,t,n,r,i,o){let a;return c;function c(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),a=g===40?41:g,u):n(g)}function u(g){return g===a?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(o),d(g))}function d(g){return g===a?(e.exit(o),u(a)):g===null?n(g):Ge(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Vt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===a||g===null||Ge(g)?(e.exit("chunkString"),d(g)):(e.consume(g),g===92?h:p)}function h(g){return g===a||g===92?(e.consume(g),p):p(g)}}function Kl(e,t){let n;return r;function r(i){return Ge(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Rt(i)?Vt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const ID={name:"definition",tokenize:OD},_D={partial:!0,tokenize:MD};function OD(e,t,n){const r=this;let i;return o;function o(v){return e.enter("definition"),a(v)}function a(v){return Mw.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return i=pa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),u):n(v)}function u(v){return sr(v)?Kl(e,d)(v):d(v)}function d(v){return Ow(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return e.attempt(_D,h,h)(v)}function h(v){return Rt(v)?Vt(e,g,"whitespace")(v):g(v)}function g(v){return v===null||Ge(v)?(e.exit("definition"),r.parser.defined.push(i),t(v)):n(v)}}function MD(e,t,n){return r;function r(c){return sr(c)?Kl(e,i)(c):n(c)}function i(c){return Aw(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Rt(c)?Vt(e,a,"whitespace")(c):a(c)}function a(c){return c===null||Ge(c)?t(c):n(c)}}const AD={name:"hardBreakEscape",tokenize:ND};function ND(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Ge(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const LD={name:"headingAtx",resolve:DD,tokenize:FD};function DD(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ri(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function FD(e,t,n){let r=0;return i;function i(p){return e.enter("atxHeading"),o(p)}function o(p){return e.enter("atxHeadingSequence"),a(p)}function a(p){return p===35&&r++<6?(e.consume(p),a):p===null||sr(p)?(e.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(e.enter("atxHeadingSequence"),u(p)):p===null||Ge(p)?(e.exit("atxHeading"),t(p)):Rt(p)?Vt(e,c,"whitespace")(p):(e.enter("atxHeadingText"),d(p))}function u(p){return p===35?(e.consume(p),u):(e.exit("atxHeadingSequence"),c(p))}function d(p){return p===null||p===35||sr(p)?(e.exit("atxHeadingText"),c(p)):(e.consume(p),d)}}const jD=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KS=["pre","script","style","textarea"],UD={concrete:!0,name:"htmlFlow",resolveTo:$D,tokenize:VD},BD={partial:!0,tokenize:WD},zD={partial:!0,tokenize:HD};function $D(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function VD(e,t,n){const r=this;let i,o,a,c,u;return d;function d(L){return p(L)}function p(L){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(L),h}function h(L){return L===33?(e.consume(L),g):L===47?(e.consume(L),o=!0,b):L===63?(e.consume(L),i=3,r.interrupt?t:A):ki(L)?(e.consume(L),a=String.fromCharCode(L),x):n(L)}function g(L){return L===45?(e.consume(L),i=2,v):L===91?(e.consume(L),i=5,c=0,S):ki(L)?(e.consume(L),i=4,r.interrupt?t:A):n(L)}function v(L){return L===45?(e.consume(L),r.interrupt?t:A):n(L)}function S(L){const ve="CDATA[";return L===ve.charCodeAt(c++)?(e.consume(L),c===ve.length?r.interrupt?t:$:S):n(L)}function b(L){return ki(L)?(e.consume(L),a=String.fromCharCode(L),x):n(L)}function x(L){if(L===null||L===47||L===62||sr(L)){const ve=L===47,ke=a.toLowerCase();return!ve&&!o&&KS.includes(ke)?(i=1,r.interrupt?t(L):$(L)):jD.includes(a.toLowerCase())?(i=6,ve?(e.consume(L),C):r.interrupt?t(L):$(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):o?O(L):R(L))}return L===45||kr(L)?(e.consume(L),a+=String.fromCharCode(L),x):n(L)}function C(L){return L===62?(e.consume(L),r.interrupt?t:$):n(L)}function O(L){return Rt(L)?(e.consume(L),O):T(L)}function R(L){return L===47?(e.consume(L),T):L===58||L===95||ki(L)?(e.consume(L),P):Rt(L)?(e.consume(L),R):T(L)}function P(L){return L===45||L===46||L===58||L===95||kr(L)?(e.consume(L),P):E(L)}function E(L){return L===61?(e.consume(L),I):Rt(L)?(e.consume(L),E):R(L)}function I(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),u=L,D):Rt(L)?(e.consume(L),I):B(L)}function D(L){return L===u?(e.consume(L),u=null,U):L===null||Ge(L)?n(L):(e.consume(L),D)}function B(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||sr(L)?E(L):(e.consume(L),B)}function U(L){return L===47||L===62||Rt(L)?R(L):n(L)}function T(L){return L===62?(e.consume(L),N):n(L)}function N(L){return L===null||Ge(L)?$(L):Rt(L)?(e.consume(L),N):n(L)}function $(L){return L===45&&i===2?(e.consume(L),ne):L===60&&i===1?(e.consume(L),le):L===62&&i===4?(e.consume(L),F):L===63&&i===3?(e.consume(L),A):L===93&&i===5?(e.consume(L),Y):Ge(L)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(BD,J,W)(L)):L===null||Ge(L)?(e.exit("htmlFlowData"),W(L)):(e.consume(L),$)}function W(L){return e.check(zD,K,J)(L)}function K(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),q}function q(L){return L===null||Ge(L)?W(L):(e.enter("htmlFlowData"),$(L))}function ne(L){return L===45?(e.consume(L),A):$(L)}function le(L){return L===47?(e.consume(L),a="",ee):$(L)}function ee(L){if(L===62){const ve=a.toLowerCase();return KS.includes(ve)?(e.consume(L),F):$(L)}return ki(L)&&a.length<8?(e.consume(L),a+=String.fromCharCode(L),ee):$(L)}function Y(L){return L===93?(e.consume(L),A):$(L)}function A(L){return L===62?(e.consume(L),F):L===45&&i===2?(e.consume(L),A):$(L)}function F(L){return L===null||Ge(L)?(e.exit("htmlFlowData"),J(L)):(e.consume(L),F)}function J(L){return e.exit("htmlFlow"),t(L)}}function HD(e,t,n){const r=this;return i;function i(a){return Ge(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function WD(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ef,t,n)}}const qD={name:"htmlText",tokenize:KD};function KD(e,t,n){const r=this;let i,o,a;return c;function c(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),u}function u(A){return A===33?(e.consume(A),d):A===47?(e.consume(A),E):A===63?(e.consume(A),R):ki(A)?(e.consume(A),B):n(A)}function d(A){return A===45?(e.consume(A),p):A===91?(e.consume(A),o=0,S):ki(A)?(e.consume(A),O):n(A)}function p(A){return A===45?(e.consume(A),v):n(A)}function h(A){return A===null?n(A):A===45?(e.consume(A),g):Ge(A)?(a=h,le(A)):(e.consume(A),h)}function g(A){return A===45?(e.consume(A),v):h(A)}function v(A){return A===62?ne(A):A===45?g(A):h(A)}function S(A){const F="CDATA[";return A===F.charCodeAt(o++)?(e.consume(A),o===F.length?b:S):n(A)}function b(A){return A===null?n(A):A===93?(e.consume(A),x):Ge(A)?(a=b,le(A)):(e.consume(A),b)}function x(A){return A===93?(e.consume(A),C):b(A)}function C(A){return A===62?ne(A):A===93?(e.consume(A),C):b(A)}function O(A){return A===null||A===62?ne(A):Ge(A)?(a=O,le(A)):(e.consume(A),O)}function R(A){return A===null?n(A):A===63?(e.consume(A),P):Ge(A)?(a=R,le(A)):(e.consume(A),R)}function P(A){return A===62?ne(A):R(A)}function E(A){return ki(A)?(e.consume(A),I):n(A)}function I(A){return A===45||kr(A)?(e.consume(A),I):D(A)}function D(A){return Ge(A)?(a=D,le(A)):Rt(A)?(e.consume(A),D):ne(A)}function B(A){return A===45||kr(A)?(e.consume(A),B):A===47||A===62||sr(A)?U(A):n(A)}function U(A){return A===47?(e.consume(A),ne):A===58||A===95||ki(A)?(e.consume(A),T):Ge(A)?(a=U,le(A)):Rt(A)?(e.consume(A),U):ne(A)}function T(A){return A===45||A===46||A===58||A===95||kr(A)?(e.consume(A),T):N(A)}function N(A){return A===61?(e.consume(A),$):Ge(A)?(a=N,le(A)):Rt(A)?(e.consume(A),N):U(A)}function $(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),i=A,W):Ge(A)?(a=$,le(A)):Rt(A)?(e.consume(A),$):(e.consume(A),K)}function W(A){return A===i?(e.consume(A),i=void 0,q):A===null?n(A):Ge(A)?(a=W,le(A)):(e.consume(A),W)}function K(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||sr(A)?U(A):(e.consume(A),K)}function q(A){return A===47||A===62||sr(A)?U(A):n(A)}function ne(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function le(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),ee}function ee(A){return Rt(A)?Vt(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):Y(A)}function Y(A){return e.enter("htmlTextData"),a(A)}}const Gv={name:"labelEnd",resolveAll:JD,resolveTo:XD,tokenize:ZD},GD={tokenize:e6},YD={tokenize:t6},QD={tokenize:n6};function JD(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ri(e,0,e.length,n),e}function XD(e,t){let n=e.length,r=0,i,o,a,c;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},p={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return c=[["enter",u,t],["enter",d,t]],c=Fr(c,e.slice(o+1,o+r+3)),c=Fr(c,[["enter",p,t]]),c=Fr(c,Kv(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),c=Fr(c,[["exit",p,t],e[a-2],e[a-1],["exit",d,t]]),c=Fr(c,e.slice(a+1)),c=Fr(c,[["exit",u,t]]),Ri(e,o,e.length,c),e}function ZD(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return c;function c(g){return o?o._inactive?h(g):(a=r.parser.defined.includes(pa(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):n(g)}function u(g){return g===40?e.attempt(GD,p,a?p:h)(g):g===91?e.attempt(YD,p,a?d:h)(g):a?p(g):h(g)}function d(g){return e.attempt(QD,p,h)(g)}function p(g){return t(g)}function h(g){return o._balanced=!0,n(g)}}function e6(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return sr(h)?Kl(e,o)(h):o(h)}function o(h){return h===41?p(h):Ow(e,a,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return sr(h)?Kl(e,u)(h):p(h)}function c(h){return n(h)}function u(h){return h===34||h===39||h===40?Aw(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):p(h)}function d(h){return sr(h)?Kl(e,p)(h):p(h)}function p(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function t6(e,t,n){const r=this;return i;function i(c){return Mw.call(r,e,o,a,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(pa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function a(c){return n(c)}}function n6(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const r6={name:"labelStartImage",resolveAll:Gv.resolveAll,tokenize:i6};function i6(e,t,n){const r=this;return i;function i(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),a):n(c)}function a(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const o6={name:"labelStartLink",resolveAll:Gv.resolveAll,tokenize:s6};function s6(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const tm={name:"lineEnding",tokenize:a6};function a6(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Vt(e,t,"linePrefix")}}const ud={name:"thematicBreak",tokenize:l6};function l6(e,t,n){let r=0,i;return o;function o(d){return e.enter("thematicBreak"),a(d)}function a(d){return i=d,c(d)}function c(d){return d===i?(e.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||Ge(d))?(e.exit("thematicBreak"),t(d)):n(d)}function u(d){return d===i?(e.consume(d),r++,u):(e.exit("thematicBreakSequence"),Rt(d)?Vt(e,c,"whitespace")(d):c(d))}}const nr={continuation:{tokenize:f6},exit:h6,name:"list",tokenize:d6},c6={partial:!0,tokenize:m6},u6={partial:!0,tokenize:p6};function d6(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return c;function c(v){const S=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:ig(v)){if(r.containerState.type||(r.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(ud,n,d)(v):d(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(v)}return n(v)}function u(v){return ig(v)&&++a<10?(e.consume(v),u):(!r.interrupt||a<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),d(v)):n(v)}function d(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(Ef,r.interrupt?n:p,e.attempt(c6,g,h))}function p(v){return r.containerState.initialBlankLine=!0,o++,g(v)}function h(v){return Rt(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function f6(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ef,i,o);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Vt(e,t,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!Rt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(u6,t,a)(c))}function a(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Vt(e,e.attempt(nr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function p6(e,t,n){const r=this;return Vt(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function h6(e){e.exit(this.containerState.type)}function m6(e,t,n){const r=this;return Vt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!Rt(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const GS={name:"setextUnderline",resolveTo:g6,tokenize:v6};function g6(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function v6(e,t,n){const r=this;let i;return o;function o(d){let p=r.events.length,h;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){h=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=d,a(d)):n(d)}function a(d){return e.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===i?(e.consume(d),c):(e.exit("setextHeadingLineSequence"),Rt(d)?Vt(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Ge(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const y6={tokenize:b6};function b6(e){const t=this,n=e.attempt(Ef,r,e.attempt(this.parser.constructs.flowInitial,i,Vt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(wD,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const S6={resolveAll:Lw()},k6=Nw("string"),C6=Nw("text");function Nw(e){return{resolveAll:Lw(e==="text"?x6:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,c);return a;function a(p){return d(p)?o(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),u}function u(p){return d(p)?(n.exit("data"),o(p)):(n.consume(p),u)}function d(p){if(p===null)return!0;const h=i[p];let g=-1;if(h)for(;++g<h.length;){const v=h[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function Lw(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function x6(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,c=0,u;for(;o--;){const d=i[o];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)c++,a--;if(a)break;a=-1}else if(d===-2)u=!0,c++;else if(d!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const d={type:n===e.length||u||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const w6={42:nr,43:nr,45:nr,48:nr,49:nr,50:nr,51:nr,52:nr,53:nr,54:nr,55:nr,56:nr,57:nr,62:Pw},T6={91:ID},E6={[-2]:em,[-1]:em,32:em},P6={35:LD,42:ud,45:[GS,ud],60:UD,61:GS,95:ud,96:qS,126:qS},R6={38:Iw,92:Rw},I6={[-5]:tm,[-4]:tm,[-3]:tm,33:r6,38:Iw,42:og,60:[oD,qD],91:o6,92:[AD,Rw],93:Gv,95:og,96:yD},_6={null:[og,S6]},O6={null:[42,95]},M6={null:[]},A6=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:O6,contentInitial:T6,disable:M6,document:w6,flow:P6,flowInitial:E6,insideSpan:_6,string:R6,text:I6},Symbol.toStringTag,{value:"Module"}));function N6(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],c=[];const u={attempt:D(E),check:D(I),consume:O,enter:R,exit:P,interrupt:D(I,{interrupt:!0})},d={code:null,containerState:{},defineSkip:b,events:[],now:S,parser:e,previous:null,sliceSerialize:g,sliceStream:v,write:h};let p=t.tokenize.call(d,u);return t.resolveAll&&o.push(t),d;function h(N){return a=Fr(a,N),x(),a[a.length-1]!==null?[]:(B(t,0),d.events=Kv(o,d.events,d),d.events)}function g(N,$){return D6(v(N),$)}function v(N){return L6(a,N)}function S(){const{_bufferIndex:N,_index:$,line:W,column:K,offset:q}=r;return{_bufferIndex:N,_index:$,line:W,column:K,offset:q}}function b(N){i[N.line]=N.column,T()}function x(){let N;for(;r._index<a.length;){const $=a[r._index];if(typeof $=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<$.length;)C($.charCodeAt(r._bufferIndex));else C($)}}function C(N){p=p(N)}function O(N){Ge(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,T()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=N}function R(N,$){const W=$||{};return W.type=N,W.start=S(),d.events.push(["enter",W,d]),c.push(W),W}function P(N){const $=c.pop();return $.end=S(),d.events.push(["exit",$,d]),$}function E(N,$){B(N,$.from)}function I(N,$){$.restore()}function D(N,$){return W;function W(K,q,ne){let le,ee,Y,A;return Array.isArray(K)?J(K):"tokenize"in K?J([K]):F(K);function F(me){return we;function we(Ee){const Re=Ee!==null&&me[Ee],Te=Ee!==null&&me.null,Ue=[...Array.isArray(Re)?Re:Re?[Re]:[],...Array.isArray(Te)?Te:Te?[Te]:[]];return J(Ue)(Ee)}}function J(me){return le=me,ee=0,me.length===0?ne:L(me[ee])}function L(me){return we;function we(Ee){return A=U(),Y=me,me.partial||(d.currentConstruct=me),me.name&&d.parser.constructs.disable.null.includes(me.name)?ke():me.tokenize.call($?Object.assign(Object.create(d),$):d,u,ve,ke)(Ee)}}function ve(me){return N(Y,A),q}function ke(me){return A.restore(),++ee<le.length?L(le[ee]):ne}}}function B(N,$){N.resolveAll&&!o.includes(N)&&o.push(N),N.resolve&&Ri(d.events,$,d.events.length-$,N.resolve(d.events.slice($),d)),N.resolveTo&&(d.events=N.resolveTo(d.events,d))}function U(){const N=S(),$=d.previous,W=d.currentConstruct,K=d.events.length,q=Array.from(c);return{from:K,restore:ne};function ne(){r=N,d.previous=$,d.currentConstruct=W,d.events.length=K,c=q,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function L6(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const c=a[0];typeof c=="string"?a[0]=c.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function D6(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function F6(e){const r={constructs:HL([A6,...(e||{}).extensions||[]]),content:i(XL),defined:[],document:i(eD),flow:i(y6),lazy:{},string:i(k6),text:i(C6)};return r;function i(o){return a;function a(c){return N6(r,o,c)}}}function j6(e){for(;!_w(e););return e}const YS=/[\0\t\n\r]/g;function U6(){let e=1,t="",n=!0,r;return i;function i(o,a,c){const u=[];let d,p,h,g,v;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),h=0,t="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(YS.lastIndex=h,d=YS.exec(o),g=d&&d.index!==void 0?d.index:o.length,v=o.charCodeAt(g),!d){t=o.slice(h);break}if(v===10&&h===g&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),h<g&&(u.push(o.slice(h,g)),e+=g-h),v){case 0:{u.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,u.push(-2);e++<p;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}h=g+1}return c&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const B6=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function z6(e){return e.replace(B6,$6)}function $6(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Ew(n.slice(o?2:1),o?16:10)}return qv(n)||e}const Dw={}.hasOwnProperty;function V6(e,t,n){return typeof t!="string"&&(n=t,t=void 0),H6(n)(j6(F6(n).document().write(U6()(e,t,!0))))}function H6(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ht),autolinkProtocol:U,autolinkEmail:U,atxHeading:o(at),blockQuote:o(Te),characterEscape:U,characterReference:U,codeFenced:o(Ue),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(Ue,a),codeText:o(He,a),codeTextData:U,data:U,codeFlowValue:U,definition:o(it),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(We),hardBreakEscape:o(Ft),hardBreakTrailing:o(Ft),htmlFlow:o(Qe,a),htmlFlowData:U,htmlText:o(Qe,a),htmlTextData:U,image:o(Ye),label:a,link:o(ht),listItem:o(tt),listItemValue:g,listOrdered:o(ut,h),listUnordered:o(ut),paragraph:o(Oe),reference:L,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(at),strong:o(Yt),thematicBreak:o(Cn)},exit:{atxHeading:u(),atxHeadingSequence:E,autolink:u(),autolinkEmail:Re,autolinkProtocol:Ee,blockQuote:u(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:me,characterReference:we,codeFenced:u(x),codeFencedFence:b,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:T,codeIndented:u(C),codeText:u(q),codeTextData:T,data:T,definition:u(),definitionDestinationString:P,definitionLabelString:O,definitionTitleString:R,emphasis:u(),hardBreakEscape:u($),hardBreakTrailing:u($),htmlFlow:u(W),htmlFlowData:T,htmlText:u(K),htmlTextData:T,image:u(le),label:Y,labelText:ee,lineEnding:N,link:u(ne),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ve,resourceDestinationString:A,resourceTitleString:F,resource:J,setextHeading:u(B),setextHeadingLineSequence:D,setextHeadingText:I,strong:u(),thematicBreak:u()}};Fw(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(re){let pe={type:"root",children:[]};const Ce={stack:[pe],tokenStack:[],config:t,enter:c,exit:d,buffer:a,resume:p,data:n},Me=[];let Fe=-1;for(;++Fe<re.length;)if(re[Fe][1].type==="listOrdered"||re[Fe][1].type==="listUnordered")if(re[Fe][0]==="enter")Me.push(Fe);else{const je=Me.pop();Fe=i(re,je,Fe)}for(Fe=-1;++Fe<re.length;){const je=t[re[Fe][0]];Dw.call(je,re[Fe][1].type)&&je[re[Fe][1].type].call(Object.assign({sliceSerialize:re[Fe][2].sliceSerialize},Ce),re[Fe][1])}if(Ce.tokenStack.length>0){const je=Ce.tokenStack[Ce.tokenStack.length-1];(je[1]||QS).call(Ce,void 0,je[0])}for(pe.position={start:To(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:To(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},Fe=-1;++Fe<t.transforms.length;)pe=t.transforms[Fe](pe)||pe;return pe}function i(re,pe,Ce){let Me=pe-1,Fe=-1,je=!1,mt,gt,In,Ae;for(;++Me<=Ce;){const qe=re[Me];switch(qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qe[0]==="enter"?Fe++:Fe--,Ae=void 0;break}case"lineEndingBlank":{qe[0]==="enter"&&(mt&&!Ae&&!Fe&&!In&&(In=Me),Ae=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ae=void 0}if(!Fe&&qe[0]==="enter"&&qe[1].type==="listItemPrefix"||Fe===-1&&qe[0]==="exit"&&(qe[1].type==="listUnordered"||qe[1].type==="listOrdered")){if(mt){let yt=Me;for(gt=void 0;yt--;){const Ht=re[yt];if(Ht[1].type==="lineEnding"||Ht[1].type==="lineEndingBlank"){if(Ht[0]==="exit")continue;gt&&(re[gt][1].type="lineEndingBlank",je=!0),Ht[1].type="lineEnding",gt=yt}else if(!(Ht[1].type==="linePrefix"||Ht[1].type==="blockQuotePrefix"||Ht[1].type==="blockQuotePrefixWhitespace"||Ht[1].type==="blockQuoteMarker"||Ht[1].type==="listItemIndent"))break}In&&(!gt||In<gt)&&(mt._spread=!0),mt.end=Object.assign({},gt?re[gt][1].start:qe[1].end),re.splice(gt||Me,0,["exit",mt,qe[2]]),Me++,Ce++}if(qe[1].type==="listItemPrefix"){const yt={type:"listItem",_spread:!1,start:Object.assign({},qe[1].start),end:void 0};mt=yt,re.splice(Me,0,["enter",yt,qe[2]]),Me++,Ce++,In=void 0,Ae=!0}}}return re[pe][1]._spread=je,Ce}function o(re,pe){return Ce;function Ce(Me){c.call(this,re(Me),Me),pe&&pe.call(this,Me)}}function a(){this.stack.push({type:"fragment",children:[]})}function c(re,pe,Ce){this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([pe,Ce||void 0]),re.position={start:To(pe.start),end:void 0}}function u(re){return pe;function pe(Ce){re&&re.call(this,Ce),d.call(this,Ce)}}function d(re,pe){const Ce=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==re.type&&(pe?pe.call(this,re,Me[0]):(Me[1]||QS).call(this,re,Me[0]));else throw new Error("Cannot close `"+re.type+"` ("+ql({start:re.start,end:re.end})+"): its not open");Ce.position.end=To(re.end)}function p(){return $L(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(re){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(re),10),this.data.expectingFirstListItemValue=void 0}}function v(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=re}function S(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=re}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re.replace(/(\r?\n|\r)$/g,"")}function O(re){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=pe,Ce.identifier=pa(this.sliceSerialize(re)).toLowerCase()}function R(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.title=re}function P(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.url=re}function E(re){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Ce=this.sliceSerialize(re).length;pe.depth=Ce}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function D(re){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(re).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function U(re){const Ce=this.stack[this.stack.length-1].children;let Me=Ce[Ce.length-1];(!Me||Me.type!=="text")&&(Me=ct(),Me.position={start:To(re.start),end:void 0},Ce.push(Me)),this.stack.push(Me)}function T(re){const pe=this.stack.pop();pe.value+=this.sliceSerialize(re),pe.position.end=To(re.end)}function N(re){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=pe.children[pe.children.length-1];Ce.position.end=To(re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(pe.type)&&(U.call(this,re),T.call(this,re))}function $(){this.data.atHardBreak=!0}function W(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function K(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function q(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function ne(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=pe,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function le(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=pe,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function ee(re){const pe=this.sliceSerialize(re),Ce=this.stack[this.stack.length-2];Ce.label=z6(pe),Ce.identifier=pa(pe).toLowerCase()}function Y(){const re=this.stack[this.stack.length-1],pe=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Me=re.children;Ce.children=Me}else Ce.alt=pe}function A(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.url=re}function F(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.title=re}function J(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function ve(re){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=pe,Ce.identifier=pa(this.sliceSerialize(re)).toLowerCase(),this.data.referenceType="full"}function ke(re){this.data.characterReferenceType=re.type}function me(re){const pe=this.sliceSerialize(re),Ce=this.data.characterReferenceType;let Me;Ce?(Me=Ew(pe,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=qv(pe);const Fe=this.stack[this.stack.length-1];Fe.value+=Me}function we(re){const pe=this.stack.pop();pe.position.end=To(re.end)}function Ee(re){T.call(this,re);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(re)}function Re(re){T.call(this,re);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(re)}function Te(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function He(){return{type:"inlineCode",value:""}}function it(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function We(){return{type:"emphasis",children:[]}}function at(){return{type:"heading",depth:0,children:[]}}function Ft(){return{type:"break"}}function Qe(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function ht(){return{type:"link",title:null,url:"",children:[]}}function ut(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function tt(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function Oe(){return{type:"paragraph",children:[]}}function Yt(){return{type:"strong",children:[]}}function ct(){return{type:"text",value:""}}function Cn(){return{type:"thematicBreak"}}}function To(e){return{line:e.line,column:e.column,offset:e.offset}}function Fw(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Fw(e,r):W6(e,r)}}function W6(e,t){let n;for(n in t)if(Dw.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function QS(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ql({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ql({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ql({start:t.start,end:t.end})+") is still open")}function q6(e){const t=this;t.parser=n;function n(r){return V6(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function K6(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function G6(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Y6(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Q6(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function J6(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function X6(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Aa(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,c+=1,e.footnoteCounts.set(r,c);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,d),e.applyData(t,d)}function Z6(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function e8(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function jw(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function t8(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jw(e,t);const i={src:Aa(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function n8(e,t){const n={src:Aa(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function r8(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function i8(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jw(e,t);const i={href:Aa(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function o8(e,t){const n={href:Aa(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function s8(e,t,n){const r=e.all(t),i=n?a8(n):Uw(t),o={},a=[];if(typeof t.checked=="boolean"){const p=r[0];let h;p&&p.type==="element"&&p.tagName==="p"?h=p:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(i||c!==0||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?a.push(...p.children):a.push(p)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,d),e.applyData(t,d)}function a8(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Uw(n[r])}return t}function Uw(e){const t=e.spread;return t??e.children.length>1}function l8(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function c8(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function u8(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function d8(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function f8(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=$v(t.children[1]),u=bw(t.children[t.children.length-1]);c&&u&&(a.position={start:c,end:u}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function p8(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,c=a?a.length:t.children.length;let u=-1;const d=[];for(;++u<c;){const h=t.children[u],g={},v=a?a[u]:void 0;v&&(g.align=v);let S={type:"element",tagName:o,properties:g,children:[]};h&&(S.children=e.all(h),e.patch(h,S),S=e.applyData(h,S)),d.push(S)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,p),e.applyData(t,p)}function h8(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const JS=9,XS=32;function m8(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(ZS(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(ZS(t.slice(i),i>0,!1)),o.join("")}function ZS(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===JS||o===XS;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===JS||o===XS;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function g8(e,t){const n={type:"text",value:m8(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function v8(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const y8={blockquote:K6,break:G6,code:Y6,delete:Q6,emphasis:J6,footnoteReference:X6,heading:Z6,html:e8,imageReference:t8,image:n8,inlineCode:r8,linkReference:i8,link:o8,listItem:s8,list:l8,paragraph:c8,root:u8,strong:d8,table:f8,tableCell:h8,tableRow:p8,text:g8,thematicBreak:v8,toml:Ju,yaml:Ju,definition:Ju,footnoteDefinition:Ju};function Ju(){}const Bw=-1,Pf=0,Gl=1,Ud=2,Yv=3,Qv=4,Jv=5,Xv=6,zw=7,$w=8,ek=typeof self=="object"?self:globalThis,b8=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case Pf:case Bw:return n(a,i);case Gl:{const c=n([],i);for(const u of a)c.push(r(u));return c}case Ud:{const c=n({},i);for(const[u,d]of a)c[r(u)]=r(d);return c}case Yv:return n(new Date(a),i);case Qv:{const{source:c,flags:u}=a;return n(new RegExp(c,u),i)}case Jv:{const c=n(new Map,i);for(const[u,d]of a)c.set(r(u),r(d));return c}case Xv:{const c=n(new Set,i);for(const u of a)c.add(r(u));return c}case zw:{const{name:c,message:u}=a;return n(new ek[c](u),i)}case $w:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:c}=new Uint8Array(a);return n(new DataView(c),a)}}return n(new ek[o](a),i)};return r},tk=e=>b8(new Map,e)(0),ta="",{toString:S8}={},{keys:k8}=Object,_l=e=>{const t=typeof e;if(t!=="object"||!e)return[Pf,t];const n=S8.call(e).slice(8,-1);switch(n){case"Array":return[Gl,ta];case"Object":return[Ud,ta];case"Date":return[Yv,ta];case"RegExp":return[Qv,ta];case"Map":return[Jv,ta];case"Set":return[Xv,ta];case"DataView":return[Gl,n]}return n.includes("Array")?[Gl,n]:n.includes("Error")?[zw,n]:[Ud,n]},Xu=([e,t])=>e===Pf&&(t==="function"||t==="symbol"),C8=(e,t,n,r)=>{const i=(a,c)=>{const u=r.push(a)-1;return n.set(c,u),u},o=a=>{if(n.has(a))return n.get(a);let[c,u]=_l(a);switch(c){case Pf:{let p=a;switch(u){case"bigint":c=$w,p=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return i([Bw],a)}return i([c,p],a)}case Gl:{if(u){let g=a;return u==="DataView"?g=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(a)),i([u,[...g]],a)}const p=[],h=i([c,p],a);for(const g of a)p.push(o(g));return h}case Ud:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const p=[],h=i([c,p],a);for(const g of k8(a))(e||!Xu(_l(a[g])))&&p.push([o(g),o(a[g])]);return h}case Yv:return i([c,a.toISOString()],a);case Qv:{const{source:p,flags:h}=a;return i([c,{source:p,flags:h}],a)}case Jv:{const p=[],h=i([c,p],a);for(const[g,v]of a)(e||!(Xu(_l(g))||Xu(_l(v))))&&p.push([o(g),o(v)]);return h}case Xv:{const p=[],h=i([c,p],a);for(const g of a)(e||!Xu(_l(g)))&&p.push(o(g));return h}}const{message:d}=a;return i([c,{name:u,message:d}],a)};return o},nk=(e,{json:t,lossy:n}={})=>{const r=[];return C8(!(t||n),!!t,new Map,r)(e),r},Bd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?tk(nk(e,t)):structuredClone(e):(e,t)=>tk(nk(e,t));function x8(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function w8(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function T8(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||x8,r=e.options.footnoteBackLabel||w8,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let u=-1;for(;++u<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[u]);if(!d)continue;const p=e.all(d),h=String(d.identifier).toUpperCase(),g=Aa(h.toLowerCase());let v=0;const S=[],b=e.footnoteCounts.get(h);for(;b!==void 0&&++v<=b;){S.length>0&&S.push({type:"text",value:" "});let O=typeof n=="string"?n:n(u,v);typeof O=="string"&&(O={type:"text",value:O}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,v),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const x=p[p.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const O=x.children[x.children.length-1];O&&O.type==="text"?O.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...S)}else p.push(...S);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(p,!0)};e.patch(d,C),c.push(C)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Bd(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const Vw=function(e){if(e==null)return I8;if(typeof e=="function")return Rf(e);if(typeof e=="object")return Array.isArray(e)?E8(e):P8(e);if(typeof e=="string")return R8(e);throw new Error("Expected function, string, or object as test")};function E8(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Vw(e[n]);return Rf(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function P8(e){const t=e;return Rf(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function R8(e){return Rf(t);function t(n){return n&&n.type===e}}function Rf(e){return t;function t(n,r,i){return!!(_8(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function I8(){return!0}function _8(e){return e!==null&&typeof e=="object"&&"type"in e}const Hw=[],O8=!0,rk=!1,M8="skip";function A8(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Vw(i),a=r?-1:1;c(e,void 0,[])();function c(u,d,p){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const v=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=Hw,S,b,x;if((!t||o(u,d,p[p.length-1]||void 0))&&(v=N8(n(u,p)),v[0]===rk))return v;if("children"in u&&u.children){const C=u;if(C.children&&v[0]!==M8)for(b=(r?C.children.length:-1)+a,x=p.concat(C);b>-1&&b<C.children.length;){const O=C.children[b];if(S=c(O,b,x)(),S[0]===rk)return S;b=typeof S[1]=="number"?S[1]:b+a}}return v}}}function N8(e){return Array.isArray(e)?e:typeof e=="number"?[O8,e]:e==null?Hw:[e]}function Ww(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),A8(e,o,c,i);function c(u,d){const p=d[d.length-1],h=p?p.children.indexOf(u):void 0;return a(u,h,p)}}const sg={}.hasOwnProperty,L8={};function D8(e,t){const n=t||L8,r=new Map,i=new Map,o=new Map,a={...y8,...n.handlers},c={all:d,applyData:j8,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:u,options:n,patch:F8,wrap:B8};return Ww(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const h=p.type==="definition"?r:i,g=String(p.identifier).toUpperCase();h.has(g)||h.set(g,p)}}),c;function u(p,h){const g=p.type,v=c.handlers[g];if(sg.call(c.handlers,g)&&v)return v(c,p,h);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in p){const{children:b,...x}=p,C=Bd(x);return C.children=c.all(p),C}return Bd(p)}return(c.options.unknownHandler||U8)(c,p,h)}function d(p){const h=[];if("children"in p){const g=p.children;let v=-1;for(;++v<g.length;){const S=c.one(g[v],p);if(S){if(v&&g[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=ik(S.value)),!Array.isArray(S)&&S.type==="element")){const b=S.children[0];b&&b.type==="text"&&(b.value=ik(b.value))}Array.isArray(S)?h.push(...S):h.push(S)}}}return h}}function F8(e,t){e.position&&(t.position=SL(e))}function j8(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,Bd(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function U8(e,t){const n=t.data||{},r="value"in t&&!(sg.call(n,"hProperties")||sg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function B8(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ik(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ok(e,t){const n=D8(e,t),r=n.one(e,void 0),i=T8(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function z8(e,t){return e&&"run"in e?async function(n,r){const i=ok(n,{file:r,...t});await e.run(i,r)}:function(n,r){return ok(n,{file:r,...e||t})}}function sk(e){if(e)throw e}var nm,ak;function $8(){if(ak)return nm;ak=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},o=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var p=e.call(d,"constructor"),h=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!h)return!1;var g;for(g in d);return typeof g>"u"||e.call(d,g)},a=function(d,p){n&&p.name==="__proto__"?n(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},c=function(d,p){if(p==="__proto__")if(e.call(d,p)){if(r)return r(d,p).value}else return;return d[p]};return nm=function u(){var d,p,h,g,v,S,b=arguments[0],x=1,C=arguments.length,O=!1;for(typeof b=="boolean"&&(O=b,b=arguments[1]||{},x=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});x<C;++x)if(d=arguments[x],d!=null)for(p in d)h=c(b,p),g=c(d,p),b!==g&&(O&&g&&(o(g)||(v=i(g)))?(v?(v=!1,S=h&&i(h)?h:[]):S=h&&o(h)?h:{},a(b,{name:p,newValue:u(O,S,g)})):typeof g<"u"&&a(b,{name:p,newValue:g}));return b},nm}var V8=$8();const rm=tf(V8);function ag(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function H8(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);c(null,...i);function c(u,...d){const p=e[++o];let h=-1;if(u){a(u);return}for(;++h<i.length;)(d[h]===null||d[h]===void 0)&&(d[h]=i[h]);i=d,p?W8(p,c)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function W8(e,t){let n;return r;function r(...a){const c=e.length>a.length;let u;c&&a.push(i);try{u=e.apply(this,a)}catch(d){const p=d;if(c&&n)throw p;return i(p)}c||(u&&u.then&&typeof u.then=="function"?u.then(o,i):u instanceof Error?i(u):o(u))}function i(a,...c){n||(n=!0,t(a,...c))}function o(a){i(null,a)}}const gi={basename:q8,dirname:K8,extname:G8,join:Y8,sep:"/"};function q8(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');wc(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,c=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),c>-1&&(e.codePointAt(i)===t.codePointAt(c--)?c<0&&(r=i):(c=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function K8(e){if(wc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function G8(e){wc(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const c=e.codePointAt(t);if(c===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),c===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Y8(...e){let t=-1,n;for(;++t<e.length;)wc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Q8(n)}function Q8(e){wc(e);const t=e.codePointAt(0)===47;let n=J8(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function J8(e,t){let n="",r=0,i=-1,o=0,a=-1,c,u;for(;++a<=e.length;){if(a<e.length)c=e.codePointAt(a);else{if(c===47)break;c=47}if(c===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else c===46&&o>-1?o++:o=-1}return n}function wc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const X8={cwd:Z8};function Z8(){return"/"}function lg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function eF(e){if(typeof e=="string")e=new URL(e);else if(!lg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return tF(e)}function tF(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const im=["history","path","basename","stem","extname","dirname"];class qw{constructor(t){let n;t?lg(t)?n={path:t}:typeof t=="string"||nF(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":X8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<im.length;){const o=im[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)im.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?gi.basename(this.path):void 0}set basename(t){sm(t,"basename"),om(t,"basename"),this.path=gi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?gi.dirname(this.path):void 0}set dirname(t){lk(this.basename,"dirname"),this.path=gi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?gi.extname(this.path):void 0}set extname(t){if(om(t,"extname"),lk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){lg(t)&&(t=eF(t)),sm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?gi.basename(this.path,this.extname):void 0}set stem(t){sm(t,"stem"),om(t,"stem"),this.path=gi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Wn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function om(e,t){if(e&&e.includes(gi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+gi.sep+"`")}function sm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function lk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function nF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const rF=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},iF={}.hasOwnProperty;class Zv extends rF{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=H8()}copy(){const t=new Zv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(rm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(cm("data",this.frozen),this.namespace[t]=n,this):iF.call(this.namespace,t)&&this.namespace[t]||void 0:t?(cm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Zu(t),r=this.parser||this.Parser;return am("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),am("process",this.parser||this.Parser),lm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const c=Zu(t),u=r.parse(c);r.run(u,c,function(p,h,g){if(p||!h||!g)return d(p);const v=h,S=r.stringify(v,g);aF(S)?g.value=S:g.result=S,d(p,g)});function d(p,h){p||!h?a(p):o?o(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),am("processSync",this.parser||this.Parser),lm("processSync",this.compiler||this.Compiler),this.process(t,i),uk("processSync","process",n),r;function i(o,a){n=!0,sk(o),r=a}}run(t,n,r){ck(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,c){const u=Zu(n);i.run(t,u,d);function d(p,h,g){const v=h||t;p?c(p):a?a(v):r(void 0,v,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),uk("runSync","run",r),i;function o(a,c){sk(a),i=c,r=!0}}stringify(t,n){this.freeze();const r=Zu(n),i=this.compiler||this.Compiler;return lm("stringify",i),ck(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(cm("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...h]=d;u(p,h)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(i.settings=rm(!0,i.settings,d.settings))}function c(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const h=d[p];o(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,p){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===d){g=h;break}if(g===-1)r.push([d,...p]);else if(p.length>0){let[v,...S]=p;const b=r[g][1];ag(b)&&ag(v)&&(v=rm(!0,b,v)),r[g]=[d,v,...S]}}}}const oF=new Zv().freeze();function am(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function lm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function cm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ck(e){if(!ag(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uk(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Zu(e){return sF(e)?e:new qw(e)}function sF(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function aF(e){return typeof e=="string"||lF(e)}function lF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const cF="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dk=[],fk={allowDangerousHtml:!0},uF=/^(https?|ircs?|mailto|xmpp)$/i,dF=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function fF(e){const t=pF(e),n=hF(e);return mF(t.runSync(t.parse(n),n),e)}function pF(e){const t=e.rehypePlugins||dk,n=e.remarkPlugins||dk,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...fk}:fk;return oF().use(q6).use(n).use(z8,r).use(t)}function hF(e){const t=e.children||"",n=new qw;return typeof t=="string"&&(n.value=t),n}function mF(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,c=t.unwrapDisallowed,u=t.urlTransform||gF;for(const p of dF)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+cF+p.id,void 0);return Ww(e,d),TL(e,{Fragment:M.Fragment,components:i,ignoreInvalidStyle:!0,jsx:M.jsx,jsxs:M.jsxs,passKeys:!0,passNode:!0});function d(p,h,g){if(p.type==="raw"&&g&&typeof h=="number")return a?g.children.splice(h,1):g.children[h]={type:"text",value:p.value},h;if(p.type==="element"){let v;for(v in Zh)if(Object.hasOwn(Zh,v)&&Object.hasOwn(p.properties,v)){const S=p.properties[v],b=Zh[v];(b===null||b.includes(p.tagName))&&(p.properties[v]=u(String(S||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!v&&r&&typeof h=="number"&&(v=!r(p,h,g)),v&&g&&typeof h=="number")return c&&p.children?g.children.splice(h,1,...p.children):g.children.splice(h,1),h}}}function gF(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||uF.test(e.slice(0,t))?e:""}const vF=({className:e,message:t,font:n,fontStyle:r,fontSize:i,color:o})=>{const a=t.sender==="bot",c=typeof t.text=="string"&&t.text.includes("calendly"),u=d=>({__html:d.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")});return w.useEffect(()=>{if(c&&typeof t.text=="string"){const d=/<script\b[^>]*>([\s\S]*?)<\/script>/gi;let p;for(;p=d.exec(t.text);){const h=document.createElement("script");p[1]&&(h.textContent=p[1]);const g=p[0].match(/src="([^"]*)"/);g&&g[1]&&(h.src=g[1]),h.async=p[0].includes("async"),document.body.appendChild(h)}}},[t,c]),M.jsxs("div",{className:`${e} chatMessagesContainer`,style:{display:"flex",flexDirection:"row",justifyContent:a?"flex-start":"flex-end",alignItems:a?"flex-end":"flex-start",marginBottom:16,position:"relative"},children:[M.jsx("div",{style:{backgroundColor:`${o}`,borderRadius:"50%",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",marginRight:a?8:0,marginLeft:a?0:8,order:a?0:1},children:a?M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 33.6 30.1",fill:"none",children:[M.jsx("rect",{x:"6",y:"6",width:"21.6",height:"18.1",rx:"5",fill:"#ffffff"}),M.jsx("circle",{cx:"12.5",cy:"14",r:"1.6",fill:o}),M.jsx("circle",{cx:"21",cy:"14",r:"1.6",fill:o}),M.jsx("path",{d:"M11.8 18.5c2 4 9 3 10 0 0.3",stroke:o,strokeWidth:"1.2",fill:"none"}),M.jsx("line",{x1:"16.8",y1:"2",x2:"16.8",y2:"6",stroke:"#ffffff",strokeWidth:"2"}),M.jsx("circle",{cx:"16.8",cy:"1.5",r:"1.8",fill:"#ffffff"}),M.jsx("circle",{cx:"3",cy:"18.5",r:"3",fill:"#ffffff",stroke:o,strokeWidth:"1"}),M.jsx("circle",{cx:"30.6",cy:"18.5",r:"3",fill:"#ffffff",stroke:o,strokeWidth:"1"})]}):M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[M.jsx("circle",{cx:"12",cy:"8",r:"4",fill:"#ffffff"}),M.jsx("path",{d:"M4 20c0-4 3.5-6 8-6s8 2 8 6",fill:"#ffffff"}),M.jsx("path",{d:"M1 8c-2 0-4-1.5-4-4s2-4 4-4 4 1.5 4 4-2 4-4 4z",fill:"none",stroke:o,strokeWidth:"1.2"})]})}),M.jsx(Pt,{className:`${a?"OtherMessage":"UserMessage"} chatBubble`,style:{background:a?"#f5f5f5":"#eaeaea",color:"#000000",borderRadius:a?"20px 20px 20px 0px":"20px 0px 20px 20px",padding:"3px 15px",maxWidth:"70%",fontFamily:`${n}, sans-serif`,fontSize:i,fontStyle:r!=null&&r.includes("italic")?"italic":"normal",fontWeight:r!=null&&r.includes("bold")?"bold":"normal",wordBreak:"break-word",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"},children:c&&typeof t.text=="string"?M.jsx("div",{dangerouslySetInnerHTML:u(t.text)}):M.jsx(Rn,{variant:"body2",component:"div",sx:{margin:0,fontFamily:`${n}, sans-serif`,fontSize:i,fontStyle:r!=null&&r.includes("italic")?"italic":"normal",fontWeight:r!=null&&r.includes("bold")?"bold":"normal"},children:typeof t.text=="string"||typeof t.content=="string"?M.jsx(fF,{children:t.text||t.content}):t.text||t.content})})]})},yF=Ie(vF)(dw),bF=()=>({".chatWrapper":{height:"100%",width:"100%",display:"flex",flexDirection:"column",gap:"16px",padding:"10px",paddingBottom:"20px","@media (max-width: 768px)":{height:"100%",paddingTop:"0px",paddingBottom:"10px",justifyContent:"space-between"}},".howCanHelp":{width:"100%",height:"100%"},".chatMsgWrapper":{width:"100%",height:"100%",overflowY:"auto",display:"flex",flexDirection:"column",gap:"16px",padding:"0 16px"},".chatContainer":{width:"100%",flex:1,minHeight:"min-content",marginTop:"5px"},".chatInputContainer":{background:"props.color",height:"50px",width:"100%",padding:"0 16px",borderRadius:"12px",display:"flex",alignItems:"center",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.10)","&:hover":{boxShadow:"0 2px 6px rgba(0.2,0.2,0.2,0.25)",transform:"translateY(0px)"}},".chatInputRoot":{bottom:"24px",position:"absolute",display:"inline",alignItems:"center",justifyContent:"center",marginBottom:"-10px",animation:"slideUp 0.3s ease-out","@media (max-width: 768px)":{bottom:"35px"}}}),SF=e=>{const t=w.useRef(null);return w.useEffect(()=>{t.current&&requestAnimationFrame(()=>{var n;(n=t.current)==null||n.scrollTo({top:t.current.scrollHeight,behavior:"smooth"})})},[e]),t},kF=({className:e,popoverSize:t,isMaximized:n,showContent:r,handleMaximize:i,onNewMessageClick:o,newMessage:a,handleSendMessageIcon:c,setNewMessage:u,messages:d,botdropDown:p,handleBotChange:h,botDetails:g,historyselect:v,bot:S,tenantid:b,sidebarOpen:x,disableInput:C,color:O,font:R,fontStyle:P,fontSize:E})=>{const I=SF(d);return M.jsxs(Pt,{className:e,sx:{width:"100%",height:`${t.height===400?"calc(100% - 100px)":"calc(100% - 126px)"}`,display:"flex",flexDirection:"column"},children:[M.jsx(QN,{isMaximized:n,handleMaximize:i,onNewMessageClick:o,botdropDown:p,handleBotChange:h,botDetails:g,bot:S,tenantid:b,color:O}),M.jsxs(Pt,{className:"chatWrapper",sx:{flex:1,display:"flex",flexDirection:"column"},children:[r?M.jsx(Pt,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",className:"howCanHelp",children:M.jsxs(Pt,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[M.jsx(Pt,{sx:{width:80,height:80,backgroundColor:`${O}20`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mb:2,mt:{xs:2,md:0}},children:M.jsx(WN,{color:O})}),M.jsx(Rn,{variant:"h6",sx:{mb:1,color:"#2d3748",fontWeight:600,textAlign:{xs:"center",md:"left"}},children:"How can I help you today?"}),M.jsx(Rn,{variant:"body2",sx:{color:"#718096",lineHeight:1.6,textAlign:{xs:"center",md:"left"}},children:"Ask me anything to get started with a specialized assistant."})]})}):M.jsx(M.Fragment,{children:M.jsx(Pt,{className:"chatMsgWrapper hide-scrollbar",ref:I,children:M.jsx(Pt,{className:"chatContainer",children:d.map((D,B)=>M.jsx(yF,{message:D,font:R,fontStyle:P,fontSize:E,color:O},B))})})}),!p&&!v&&M.jsxs(Pt,{style:{position:"absolute",bottom:"63px",width:x&&n?"59%":"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[M.jsx(Pt,{children:"Please select a bot!"}),M.jsx("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly",marginTop:"5px",width:"300px"},children:g==null?void 0:g.map((D,B)=>M.jsx("div",{style:{padding:"10px",background:"#ffffff",borderRadius:"8px",margin:"0px 5px 10px 0px",cursor:"pointer",border:"1px solid #000",width:"30%",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>h({target:{value:D.container}}),children:D.name.toUpperCase()},B))})]}),M.jsx(Pt,{className:"chatInputRoot",sx:{pr:0,pl:0,width:x&&n?"calc(100% - 420px)":"calc(100% - 20px)"},children:M.jsx(Pt,{className:"chatInputContainer",children:M.jsx(EN,{placeholder:C?"Loading...":"Type your message...",variant:"standard",fullWidth:!0,value:a,onChange:D=>u(D.target.value),onKeyDown:D=>{D.key==="Enter"&&c()},InputProps:{disableUnderline:!0,endAdornment:M.jsx(JA,{position:"end",children:M.jsx(Ti,{disabled:C,onClick:c,sx:{p:0},style:{outline:"none"},children:M.jsx(HN,{color:O})})})}})})})]})]})},CF=Ie(kF)(bF);var pk={};function xF(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var wF=Object.defineProperty,TF=(e,t,n)=>t in e?wF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hk=(e,t,n)=>TF(e,typeof t!="symbol"?t+"":t,n);class Yn{constructor(){hk(this,"_locking"),hk(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let t;const n=new Promise(i=>t=()=>{this._locks-=1,i()}),r=this._locking.then(()=>t);return this._locking=this._locking.then(()=>n),r}}function an(e,t){if(!e)throw new Error(t)}const EF=34028234663852886e22,PF=-34028234663852886e22,RF=4294967295,IF=2147483647,_F=-2147483648;function dd(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>IF||e<_F)throw new Error("invalid int 32: "+e)}function cg(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>RF||e<0)throw new Error("invalid uint 32: "+e)}function Kw(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>EF||e<PF))throw new Error("invalid float 32: "+e)}const Gw=Symbol("@bufbuild/protobuf/enum-type");function OF(e){const t=e[Gw];return an(t,"missing enum type on enum object"),t}function Yw(e,t,n,r){e[Gw]=Qw(t,n.map(i=>({no:i.no,name:i.name,localName:e[i.no]})))}function Qw(e,t,n){const r=Object.create(null),i=Object.create(null),o=[];for(const a of t){const c=Jw(a);o.push(c),r[a.name]=c,i[a.no]=c}return{typeName:e,values:o,findName(a){return r[a]},findNumber(a){return i[a]}}}function MF(e,t,n){const r={};for(const i of t){const o=Jw(i);r[o.localName]=o.no,r[o.no]=o.localName}return Yw(r,e,t),r}function Jw(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class ey{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const r=this.getType(),i=r.runtime.bin,o=i.makeReadOptions(n);return i.readMessage(this,o.readerFactory(t),t.byteLength,o),this}fromJson(t,n){const r=this.getType(),i=r.runtime.json,o=i.makeReadOptions(n);return i.readMessage(r,t,o,this),this}fromJsonString(t,n){let r;try{r=JSON.parse(t)}catch(i){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(i instanceof Error?i.message:String(i)))}return this.fromJson(r,n)}toBinary(t){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(t),o=i.writerFactory();return r.writeMessage(this,o,i),o.finish()}toJson(t){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(t);return r.writeMessage(this,i)}toJsonString(t){var n;const r=this.toJson(t);return JSON.stringify(r,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function AF(e,t,n,r){var i;const o=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:t.substring(t.lastIndexOf(".")+1),a={[o]:function(c){e.util.initFields(this),e.util.initPartial(c,this)}}[o];return Object.setPrototypeOf(a.prototype,new ey),Object.assign(a,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(c,u){return new a().fromBinary(c,u)},fromJson(c,u){return new a().fromJson(c,u)},fromJsonString(c,u){return new a().fromJsonString(c,u)},equals(c,u){return e.util.equals(a,c,u)}}),a}function NF(){let e=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,(i&128)==0)return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,(n&128)==0)return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,(i&128)==0)return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function um(e,t,n){for(let o=0;o<28;o=o+7){const a=e>>>o,c=!(!(a>>>7)&&t==0),u=(c?a|128:a)&255;if(n.push(u),!c)return}const r=e>>>28&15|(t&7)<<4,i=t>>3!=0;if(n.push((i?r|128:r)&255),!!i){for(let o=3;o<31;o=o+7){const a=t>>>o,c=!!(a>>>7),u=(c?a|128:a)&255;if(n.push(u),!c)return}n.push(t>>>31&1)}}const fd=4294967296;function mk(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function o(a,c){const u=Number(e.slice(a,c));i*=n,r=r*n+u,r>=fd&&(i=i+(r/fd|0),r=r%fd)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?Zw(r,i):ty(r,i)}function LF(e,t){let n=ty(e,t);const r=n.hi&2147483648;r&&(n=Zw(n.lo,n.hi));const i=Xw(n.lo,n.hi);return r?"-"+i:i}function Xw(e,t){if({lo:e,hi:t}=DF(e,t),t<=2097151)return String(fd*t+e);const n=e&16777215,r=(e>>>24|t<<8)&16777215,i=t>>16&65535;let o=n+r*6777216+i*6710656,a=r+i*8147497,c=i*2;const u=1e7;return o>=u&&(a+=Math.floor(o/u),o%=u),a>=u&&(c+=Math.floor(a/u),a%=u),c.toString()+gk(a)+gk(o)}function DF(e,t){return{lo:e>>>0,hi:t>>>0}}function ty(e,t){return{lo:e|0,hi:t|0}}function Zw(e,t){return t=~t,e?e=~e+1:t+=1,ty(e,t)}const gk=e=>{const t=String(e);return"0000000".slice(t.length)+t};function vk(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function FF(){let e=this.buf[this.pos++],t=e&127;if((e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,(e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,(e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,(e&128)==0)return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;(e&128)!==0&&n<10;n++)e=this.buf[this.pos++];if((e&128)!=0)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function jF(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof pk!="object"||pk.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),a=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){const d=typeof u=="bigint"?u:BigInt(u);if(d>o||d<i)throw new Error("int64 invalid: ".concat(u));return d},uParse(u){const d=typeof u=="bigint"?u:BigInt(u);if(d>c||d<a)throw new Error("uint64 invalid: ".concat(u));return d},enc(u){return e.setBigInt64(0,this.parse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(u){return e.setBigInt64(0,this.uParse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(u,d){return e.setInt32(0,u,!0),e.setInt32(4,d,!0),e.getBigInt64(0,!0)},uDec(u,d){return e.setInt32(0,u,!0),e.setInt32(4,d,!0),e.getBigUint64(0,!0)}}}const n=i=>an(/^-?[0-9]+$/.test(i),"int64 invalid: ".concat(i)),r=i=>an(/^[0-9]+$/.test(i),"uint64 invalid: ".concat(i));return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),mk(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),mk(i)},dec(i,o){return LF(i,o)},uDec(i,o){return Xw(i,o)}}}const Xt=jF();var ce;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(ce||(ce={}));var Fo;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(Fo||(Fo={}));function Eo(e,t,n){if(t===n)return!0;if(e==ce.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}switch(e){case ce.UINT64:case ce.FIXED64:case ce.INT64:case ce.SFIXED64:case ce.SINT64:return t==n}return!1}function xa(e,t){switch(e){case ce.BOOL:return!1;case ce.UINT64:case ce.FIXED64:case ce.INT64:case ce.SFIXED64:case ce.SINT64:return t==0?Xt.zero:"0";case ce.DOUBLE:case ce.FLOAT:return 0;case ce.BYTES:return new Uint8Array(0);case ce.STRING:return"";default:return 0}}function eT(e,t){switch(e){case ce.BOOL:return t===!1;case ce.STRING:return t==="";case ce.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var dn;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(dn||(dn={}));class UF{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let n=new Uint8Array(t),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(cg(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return dd(t),vk(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){Kw(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){cg(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){dd(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return dd(t),t=(t<<1^t>>31)>>>0,vk(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Xt.enc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Xt.uEnc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(t){let n=Xt.enc(t);return um(n.lo,n.hi,this.buf),this}sint64(t){let n=Xt.enc(t),r=n.hi>>31,i=n.lo<<1^r,o=(n.hi<<1|n.lo>>>31)^r;return um(i,o,this.buf),this}uint64(t){let n=Xt.uEnc(t);return um(n.lo,n.hi,this.buf),this}}class BF{constructor(t,n){this.varint64=NF,this.uint32=FF,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,r=t&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t,n){let r=this.pos;switch(t){case dn.Varint:for(;this.buf[this.pos++]&128;);break;case dn.Bit64:this.pos+=4;case dn.Bit32:this.pos+=4;break;case dn.LengthDelimited:let i=this.uint32();this.pos+=i;break;case dn.StartGroup:for(;;){const[o,a]=this.tag();if(a===dn.EndGroup){if(n!==void 0&&o!==n)throw new Error("invalid end group tag");break}this.skip(a,o)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return Xt.dec(...this.varint64())}uint64(){return Xt.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(t&1);return t=(t>>>1|(n&1)<<31)^r,n=n>>>1^r,Xt.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Xt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Xt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function zF(e,t,n,r){let i;return{typeName:t,extendee:n,get field(){if(!i){const o=typeof r=="function"?r():r;o.name=t.split(".").pop(),o.jsonName="[".concat(t,"]"),i=e.util.newFieldList([o]).list()[0]}return i},runtime:e}}function tT(e){const t=e.field.localName,n=Object.create(null);return n[t]=$F(e),[n,()=>n[t]]}function $F(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return xa(t.T,t.L);case"message":const n=t.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function VF(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),If=[];for(let e=0;e<Yi.length;e++)If[Yi[e].charCodeAt(0)]=e;If[45]=Yi.indexOf("+");If[95]=Yi.indexOf("/");const nT={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),r=0,i=0,o,a=0;for(let c=0;c<e.length;c++){if(o=If[e.charCodeAt(c)],o===void 0)switch(e[c]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=o,i=1;break;case 1:n[r++]=a<<2|(o&48)>>4,a=o,i=2;break;case 2:n[r++]=(a&15)<<4|(o&60)>>2,a=o,i=3;break;case 3:n[r++]=(a&3)<<6|o,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(e){let t="",n=0,r,i=0;for(let o=0;o<e.length;o++)switch(r=e[o],n){case 0:t+=Yi[r>>2],i=(r&3)<<4,n=1;break;case 1:t+=Yi[i|r>>4],i=(r&15)<<2,n=2;break;case 2:t+=Yi[i|r>>6],t+=Yi[r&63],n=0;break}return n&&(t+=Yi[i],t+="=",n==1&&(t+="=")),t}};function HF(e,t,n){iT(t,e);const r=t.runtime.bin.makeReadOptions(n),i=VF(e.getType().runtime.bin.listUnknownFields(e),t.field),[o,a]=tT(t);for(const c of i)t.runtime.bin.readField(o,r.readerFactory(c.data),t.field,c.wireType,r);return a()}function WF(e,t,n,r){iT(t,e);const i=t.runtime.bin.makeReadOptions(r),o=t.runtime.bin.makeWriteOptions(r);if(rT(e,t)){const d=e.getType().runtime.bin.listUnknownFields(e).filter(p=>p.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const p of d)e.getType().runtime.bin.onUnknownField(e,p.no,p.wireType,p.data)}const a=o.writerFactory();let c=t.field;!c.opt&&!c.repeated&&(c.kind=="enum"||c.kind=="scalar")&&(c=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(c,n,a,o);const u=i.readerFactory(a.finish());for(;u.pos<u.len;){const[d,p]=u.tag(),h=u.skip(p,d);e.getType().runtime.bin.onUnknownField(e,d,p,h)}}function rT(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(r=>r.no==t.field.no)}function iT(e,t){an(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function oT(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!eT(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function yk(e,t){const n=e.localName,r=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=r?e.T.values[0].no:void 0;break;case"scalar":t[n]=r?xa(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function Qi(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(ey.prototype).every(r=>r in e&&typeof e[r]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function sT(e,t){return Qi(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}ce.DOUBLE,ce.FLOAT,ce.INT64,ce.UINT64,ce.INT32,ce.UINT32,ce.BOOL,ce.STRING,ce.BYTES;const bk={ignoreUnknownFields:!1},Sk={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function qF(e){return e?Object.assign(Object.assign({},bk),e):bk}function KF(e){return e?Object.assign(Object.assign({},Sk),e):Sk}const zd=Symbol(),pd=Symbol();function GF(){return{makeReadOptions:qF,makeWriteOptions:KF,readMessage(e,t,n,r){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(vi(t)));r=r??new e;const i=new Map,o=n.typeRegistry;for(const[a,c]of Object.entries(t)){const u=e.fields.findJsonName(a);if(u){if(u.oneof){if(c===null&&u.kind=="scalar")continue;const d=i.get(u.oneof);if(d!==void 0)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(u.oneof.name,'" present: "').concat(d,'", "').concat(a,'"'));i.set(u.oneof,a)}kk(r,c,u,n,e)}else{let d=!1;if(o!=null&&o.findExtension&&a.startsWith("[")&&a.endsWith("]")){const p=o.findExtension(a.substring(1,a.length-1));if(p&&p.extendee.typeName==e.typeName){d=!0;const[h,g]=tT(p);kk(h,c,p.field,n,p),WF(r,p,g(),n)}}if(!d&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(a,'" is unknown'))}}return r},writeMessage(e,t){const n=e.getType(),r={};let i;try{for(i of n.fields.byNumber()){if(!oT(i,e)){if(i.req)throw"required field not set";if(!t.emitDefaultValues||!QF(i))continue}const a=i.oneof?e[i.oneof.localName].value:e[i.localName],c=Ck(i,a,t);c!==void 0&&(r[t.useProtoFieldName?i.name:i.jsonName]=c)}const o=t.typeRegistry;if(o!=null&&o.findExtensionFor)for(const a of n.runtime.bin.listUnknownFields(e)){const c=o.findExtensionFor(n.typeName,a.no);if(c&&rT(e,c)){const u=HF(e,c,t),d=Ck(c.field,u,t);d!==void 0&&(r[c.field.jsonName]=d)}}}catch(o){const a=i?"cannot encode field ".concat(n.typeName,".").concat(i.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),c=o instanceof Error?o.message:String(o);throw new Error(a+(c.length>0?": ".concat(c):""))}return r},readScalar(e,t,n){return Yl(e,t,n??Fo.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||eT(e,t)))return hd(e,t)},debug:vi}}function vi(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function kk(e,t,n,r,i){let o=n.localName;if(n.repeated){if(an(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(vi(t)));const a=e[o];for(const c of t){if(c===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(vi(c)));switch(n.kind){case"message":a.push(n.T.fromJson(c,r));break;case"enum":const u=dm(n.T,c,r.ignoreUnknownFields,!0);u!==pd&&a.push(u);break;case"scalar":try{a.push(Yl(n.T,c,n.L,!0))}catch(d){let p="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(vi(c));throw d instanceof Error&&d.message.length>0&&(p+=": ".concat(d.message)),new Error(p)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(vi(t)));const a=e[o];for(const[c,u]of Object.entries(t)){if(u===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: map value null"));let d;try{d=YF(n.K,c)}catch(p){let h="cannot decode map key for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(vi(t));throw p instanceof Error&&p.message.length>0&&(h+=": ".concat(p.message)),new Error(h)}switch(n.V.kind){case"message":a[d]=n.V.T.fromJson(u,r);break;case"enum":const p=dm(n.V.T,u,r.ignoreUnknownFields,!0);p!==pd&&(a[d]=p);break;case"scalar":try{a[d]=Yl(n.V.T,u,Fo.BIGINT,!0)}catch(h){let g="cannot decode map value for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(vi(t));throw h instanceof Error&&h.message.length>0&&(g+=": ".concat(h.message)),new Error(g)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:o},o="value"),n.kind){case"message":const a=n.T;if(t===null&&a.typeName!="google.protobuf.Value")return;let c=e[o];Qi(c)?c.fromJson(t,r):(e[o]=c=a.fromJson(t,r),a.fieldWrapper&&!n.oneof&&(e[o]=a.fieldWrapper.unwrapField(c)));break;case"enum":const u=dm(n.T,t,r.ignoreUnknownFields,!1);switch(u){case zd:yk(n,e);break;case pd:break;default:e[o]=u;break}break;case"scalar":try{const d=Yl(n.T,t,n.L,!1);switch(d){case zd:yk(n,e);break;default:e[o]=d;break}}catch(d){let p="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(vi(t));throw d instanceof Error&&d.message.length>0&&(p+=": ".concat(d.message)),new Error(p)}break}}function YF(e,t){if(e===ce.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return Yl(e,t,Fo.BIGINT,!0).toString()}function Yl(e,t,n,r){if(t===null)return r?xa(e,n):zd;switch(e){case ce.DOUBLE:case ce.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const i=Number(t);if(Number.isNaN(i)||!Number.isFinite(i))break;return e==ce.FLOAT&&Kw(i),i;case ce.INT32:case ce.FIXED32:case ce.SFIXED32:case ce.SINT32:case ce.UINT32:let o;if(typeof t=="number"?o=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(o=Number(t)),o===void 0)break;return e==ce.UINT32||e==ce.FIXED32?cg(o):dd(o),o;case ce.INT64:case ce.SFIXED64:case ce.SINT64:if(typeof t!="number"&&typeof t!="string")break;const a=Xt.parse(t);return n?a.toString():a;case ce.FIXED64:case ce.UINT64:if(typeof t!="number"&&typeof t!="string")break;const c=Xt.uParse(t);return n?c.toString():c;case ce.BOOL:if(typeof t!="boolean")break;return t;case ce.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case ce.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return nT.dec(t)}throw new Error}function dm(e,t,n,r){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:r?e.values[0].no:zd;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const i=e.findName(t);if(i!==void 0)return i.no;if(n)return pd;break}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(vi(t)))}function QF(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function Ck(e,t,n){if(e.kind=="map"){an(typeof t=="object"&&t!=null);const r={},i=Object.entries(t);switch(e.V.kind){case"scalar":for(const[a,c]of i)r[a.toString()]=hd(e.V.T,c);break;case"message":for(const[a,c]of i)r[a.toString()]=c.toJson(n);break;case"enum":const o=e.V.T;for(const[a,c]of i)r[a.toString()]=fm(o,c,n.enumAsInteger);break}return n.emitDefaultValues||i.length>0?r:void 0}if(e.repeated){an(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++)r.push(hd(e.T,t[i]));break;case"enum":for(let i=0;i<t.length;i++)r.push(fm(e.T,t[i],n.enumAsInteger));break;case"message":for(let i=0;i<t.length;i++)r.push(t[i].toJson(n));break}return n.emitDefaultValues||r.length>0?r:void 0}switch(e.kind){case"scalar":return hd(e.T,t);case"enum":return fm(e.T,t,n.enumAsInteger);case"message":return sT(e.T,t).toJson(n)}}function fm(e,t,n){var r;if(an(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const i=e.findNumber(t);return(r=i==null?void 0:i.name)!==null&&r!==void 0?r:t}function hd(e,t){switch(e){case ce.INT32:case ce.SFIXED32:case ce.SINT32:case ce.FIXED32:case ce.UINT32:return an(typeof t=="number"),t;case ce.FLOAT:case ce.DOUBLE:return an(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case ce.STRING:return an(typeof t=="string"),t;case ce.BOOL:return an(typeof t=="boolean"),t;case ce.UINT64:case ce.FIXED64:case ce.INT64:case ce.SFIXED64:case ce.SINT64:return an(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case ce.BYTES:return an(t instanceof Uint8Array),nT.enc(t)}}const na=Symbol("@bufbuild/protobuf/unknown-fields"),xk={readUnknownFields:!0,readerFactory:e=>new BF(e)},wk={writeUnknownFields:!0,writerFactory:()=>new UF};function JF(e){return e?Object.assign(Object.assign({},xk),e):xk}function XF(e){return e?Object.assign(Object.assign({},wk),e):wk}function ZF(){return{makeReadOptions:JF,makeWriteOptions:XF,listUnknownFields(e){var t;return(t=e[na])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[na]},writeUnknownFields(e,t){const r=e[na];if(r)for(const i of r)t.tag(i.no,i.wireType).raw(i.data)},onUnknownField(e,t,n,r){const i=e;Array.isArray(i[na])||(i[na]=[]),i[na].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r,i){const o=e.getType(),a=i?t.len:t.pos+n;let c,u;for(;t.pos<a&&([c,u]=t.tag(),!(i===!0&&u==dn.EndGroup));){const d=o.fields.find(c);if(!d){const p=t.skip(u,c);r.readUnknownFields&&this.onUnknownField(e,c,u,p);continue}Tk(e,t,d,u,r)}if(i&&(u!=dn.EndGroup||c!==n))throw new Error("invalid end group tag")},readField:Tk,writeMessage(e,t,n){const r=e.getType();for(const i of r.fields.byNumber()){if(!oT(i,e)){if(i.req)throw new Error("cannot encode field ".concat(r.typeName,".").concat(i.name," to binary: required field not set"));continue}const o=i.oneof?e[i.oneof.localName].value:e[i.localName];Ek(i,o,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,r){t!==void 0&&Ek(e,t,n,r)}}}function Tk(e,t,n,r,i){let{repeated:o,localName:a}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=a&&delete e.value,e.case=a,a="value"),n.kind){case"scalar":case"enum":const c=n.kind=="enum"?ce.INT32:n.T;let u=$d;if(n.kind=="scalar"&&n.L>0&&(u=t7),o){let g=e[a];if(r==dn.LengthDelimited&&c!=ce.STRING&&c!=ce.BYTES){let S=t.uint32()+t.pos;for(;t.pos<S;)g.push(u(t,c))}else g.push(u(t,c))}else e[a]=u(t,c);break;case"message":const d=n.T;o?e[a].push(md(t,new d,i,n)):Qi(e[a])?md(t,e[a],i,n):(e[a]=md(t,new d,i,n),d.fieldWrapper&&!n.oneof&&!n.repeated&&(e[a]=d.fieldWrapper.unwrapField(e[a])));break;case"map":let[p,h]=e7(n,t,i);e[a][p]=h;break}}function md(e,t,n,r){const i=t.getType().runtime.bin,o=r==null?void 0:r.delimited;return i.readMessage(t,e,o?r.no:e.uint32(),n,o),t}function e7(e,t,n){const r=t.uint32(),i=t.pos+r;let o,a;for(;t.pos<i;){const[c]=t.tag();switch(c){case 1:o=$d(t,e.K);break;case 2:switch(e.V.kind){case"scalar":a=$d(t,e.V.T);break;case"enum":a=t.int32();break;case"message":a=md(t,new e.V.T,n,void 0);break}break}}if(o===void 0&&(o=xa(e.K,Fo.BIGINT)),typeof o!="string"&&typeof o!="number"&&(o=o.toString()),a===void 0)switch(e.V.kind){case"scalar":a=xa(e.V.T,Fo.BIGINT);break;case"enum":a=e.V.T.values[0].no;break;case"message":a=new e.V.T;break}return[o,a]}function t7(e,t){const n=$d(e,t);return typeof n=="bigint"?n.toString():n}function $d(e,t){switch(t){case ce.STRING:return e.string();case ce.BOOL:return e.bool();case ce.DOUBLE:return e.double();case ce.FLOAT:return e.float();case ce.INT32:return e.int32();case ce.INT64:return e.int64();case ce.UINT64:return e.uint64();case ce.FIXED64:return e.fixed64();case ce.BYTES:return e.bytes();case ce.FIXED32:return e.fixed32();case ce.SFIXED32:return e.sfixed32();case ce.SFIXED64:return e.sfixed64();case ce.SINT64:return e.sint64();case ce.UINT32:return e.uint32();case ce.SINT32:return e.sint32()}}function Ek(e,t,n,r){an(t!==void 0);const i=e.repeated;switch(e.kind){case"scalar":case"enum":let o=e.kind=="enum"?ce.INT32:e.T;if(i)if(an(Array.isArray(t)),e.packed)r7(n,o,e.no,t);else for(const a of t)Ql(n,o,e.no,a);else Ql(n,o,e.no,t);break;case"message":if(i){an(Array.isArray(t));for(const a of t)Pk(n,r,e,a)}else Pk(n,r,e,t);break;case"map":an(typeof t=="object"&&t!=null);for(const[a,c]of Object.entries(t))n7(n,r,e,a,c);break}}function n7(e,t,n,r,i){e.tag(n.no,dn.LengthDelimited),e.fork();let o=r;switch(n.K){case ce.INT32:case ce.FIXED32:case ce.UINT32:case ce.SFIXED32:case ce.SINT32:o=Number.parseInt(r);break;case ce.BOOL:an(r=="true"||r=="false"),o=r=="true";break}switch(Ql(e,n.K,1,o),n.V.kind){case"scalar":Ql(e,n.V.T,2,i);break;case"enum":Ql(e,ce.INT32,2,i);break;case"message":an(i!==void 0),e.tag(2,dn.LengthDelimited).bytes(i.toBinary(t));break}e.join()}function Pk(e,t,n,r){const i=sT(n.T,r);n.delimited?e.tag(n.no,dn.StartGroup).raw(i.toBinary(t)).tag(n.no,dn.EndGroup):e.tag(n.no,dn.LengthDelimited).bytes(i.toBinary(t))}function Ql(e,t,n,r){an(r!==void 0);let[i,o]=aT(t);e.tag(n,i)[o](r)}function r7(e,t,n,r){if(!r.length)return;e.tag(n,dn.LengthDelimited).fork();let[,i]=aT(t);for(let o=0;o<r.length;o++)e[i](r[o]);e.join()}function aT(e){let t=dn.Varint;switch(e){case ce.BYTES:case ce.STRING:t=dn.LengthDelimited;break;case ce.DOUBLE:case ce.FIXED64:case ce.SFIXED64:t=dn.Bit64;break;case ce.FIXED32:case ce.SFIXED32:case ce.FLOAT:t=dn.Bit32;break}const n=ce[e].toLowerCase();return[t,n]}function i7(){return{setEnumType:Yw,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const r of n.fields.byMember()){const i=r.localName,o=t,a=e;if(a[i]!=null)switch(r.kind){case"oneof":const c=a[i].case;if(c===void 0)continue;const u=r.findField(c);let d=a[i].value;u&&u.kind=="message"&&!Qi(d,u.T)?d=new u.T(d):u&&u.kind==="scalar"&&u.T===ce.BYTES&&(d=Ol(d)),o[i]={case:c,value:d};break;case"scalar":case"enum":let p=a[i];r.T===ce.BYTES&&(p=r.repeated?p.map(Ol):Ol(p)),o[i]=p;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===ce.BYTES)for(const[v,S]of Object.entries(a[i]))o[i][v]=Ol(S);else Object.assign(o[i],a[i]);break;case"message":const g=r.V.T;for(const v of Object.keys(a[i])){let S=a[i][v];g.fieldWrapper||(S=new g(S)),o[i][v]=S}break}break;case"message":const h=r.T;if(r.repeated)o[i]=a[i].map(g=>Qi(g,h)?g:new h(g));else{const g=a[i];h.fieldWrapper?h.typeName==="google.protobuf.BytesValue"?o[i]=Ol(g):o[i]=g:o[i]=Qi(g,h)?g:new h(g)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(r=>{const i=t[r.localName],o=n[r.localName];if(r.repeated){if(i.length!==o.length)return!1;switch(r.kind){case"message":return i.every((a,c)=>r.T.equals(a,o[c]));case"scalar":return i.every((a,c)=>Eo(r.T,a,o[c]));case"enum":return i.every((a,c)=>Eo(ce.INT32,a,o[c]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":let a=i,c=o;return r.T.fieldWrapper&&(a!==void 0&&!Qi(a)&&(a=r.T.fieldWrapper.wrapField(a)),c!==void 0&&!Qi(c)&&(c=r.T.fieldWrapper.wrapField(c))),r.T.equals(a,c);case"enum":return Eo(ce.INT32,i,o);case"scalar":return Eo(r.T,i,o);case"oneof":if(i.case!==o.case)return!1;const u=r.findField(i.case);if(u===void 0)return!0;switch(u.kind){case"message":return u.T.equals(i.value,o.value);case"enum":return Eo(ce.INT32,i.value,o.value);case"scalar":return Eo(u.T,i.value,o.value)}throw new Error("oneof cannot contain ".concat(u.kind));case"map":const d=Object.keys(i).concat(Object.keys(o));switch(r.V.kind){case"message":const p=r.V.T;return d.every(g=>p.equals(i[g],o[g]));case"enum":return d.every(g=>Eo(ce.INT32,i[g],o[g]));case"scalar":const h=r.V.T;return d.every(g=>Eo(h,i[g],o[g]))}break}})},clone(e){const t=e.getType(),n=new t,r=n;for(const i of t.fields.byMember()){const o=e[i.localName];let a;if(i.repeated)a=o.map(ed);else if(i.kind=="map"){a=r[i.localName];for(const[c,u]of Object.entries(o))a[c]=ed(u)}else i.kind=="oneof"?a=i.findField(o.case)?{case:o.case,value:ed(o.value)}:{case:void 0}:a=ed(o);r[i.localName]=a}for(const i of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return n}}}function ed(e){if(e===void 0)return e;if(Qi(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Ol(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function o7(e,t,n){return{syntax:e,json:GF(),bin:ZF(),util:Object.assign(Object.assign({},i7()),{newFieldList:t,initFields:n}),makeMessageType(r,i,o){return AF(this,r,i,o)},makeEnum:MF,makeEnumType:Qw,getEnumType:OF,makeExtension(r,i,o){return zF(this,r,i,o)}}}class s7{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,t.push(n)):t.push(r)}return this.members}}function lT(e,t){const n=cT(e);return t?n:f7(d7(n))}function a7(e){return lT(e,!1)}const l7=cT;function cT(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const c7=new Set(["constructor","toString","toJSON","valueOf"]),u7=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),uT=e=>"".concat(e,"$"),d7=e=>u7.has(e)?uT(e):e,f7=e=>c7.has(e)?uT(e):e;class p7{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=a7(t)}addField(t){an(t.oneof===this,"field ".concat(t.name," not one of ").concat(this.name)),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function h7(e,t){var n,r,i,o,a,c;const u=[];let d;for(const p of typeof e=="function"?e():e){const h=p;if(h.localName=lT(p.name,p.oneof!==void 0),h.jsonName=(n=p.jsonName)!==null&&n!==void 0?n:l7(p.name),h.repeated=(r=p.repeated)!==null&&r!==void 0?r:!1,p.kind=="scalar"&&(h.L=(i=p.L)!==null&&i!==void 0?i:Fo.BIGINT),h.delimited=(o=p.delimited)!==null&&o!==void 0?o:!1,h.req=(a=p.req)!==null&&a!==void 0?a:!1,h.opt=(c=p.opt)!==null&&c!==void 0?c:!1,p.packed===void 0&&(h.packed=p.kind=="enum"||p.kind=="scalar"&&p.T!=ce.BYTES&&p.T!=ce.STRING),p.oneof!==void 0){const g=typeof p.oneof=="string"?p.oneof:p.oneof.name;(!d||d.name!=g)&&(d=new p7(g)),h.oneof=d,d.addField(h)}u.push(h)}return u}const Z=o7("proto3",e=>new s7(e,t=>h7(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated){r[n]=[];continue}switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=xa(t.T,t.L);break}}});class ir extends ey{constructor(t){super(),this.seconds=Xt.zero,this.nanos=0,Z.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(Z.json.debug(t)));const r=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Xt.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return ir.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new ir({seconds:Xt.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new ir().fromBinary(t,n)}static fromJson(t,n){return new ir().fromJson(t,n)}static fromJsonString(t,n){return new ir().fromJsonString(t,n)}static equals(t,n){return Z.util.equals(ir,t,n)}}ir.runtime=Z;ir.typeName="google.protobuf.Timestamp";ir.fields=Z.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const m7=Z.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:ir},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:g7,repeated:!0},{no:5,name:"events",kind:"message",T:y7,repeated:!0}]),g7=Z.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:v7,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),v7=Z.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:ir},{no:3,name:"value",kind:"scalar",T:2}]),y7=Z.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:ir},{no:7,name:"normalized_end_timestamp",kind:"message",T:ir,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),dT=Z.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),Xr=Z.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),mn=Z.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),ny=Z.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),zl=Z.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),sc=Z.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),ti=Z.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),ra=Z.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),b7=Z.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),En=Z.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),_f=Z.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:Vd,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:wT}]),Vd=Z.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),S7=Z.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:Z.getEnumType(mn),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),ps=Z.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:Z.getEnumType(ha)},{no:4,name:"tracks",kind:"message",T:aa,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:S7},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:Z.getEnumType(ac)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:Z.getEnumType(ti)},{no:18,name:"kind_details",kind:"enum",T:Z.getEnumType(k7),repeated:!0}]),ha=Z.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),ac=Z.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"}]),k7=Z.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),yr=Z.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),C7=Z.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:cs,repeated:!0}]),aa=Z.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:Z.getEnumType(Xr)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:Z.getEnumType(mn)},{no:10,name:"layers",kind:"message",T:cs,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:C7,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:Z.getEnumType(yr)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:wT},{no:19,name:"audio_features",kind:"enum",T:Z.getEnumType(En),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:Z.getEnumType(dT)}]),cs=Z.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:Z.getEnumType(ny)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),rr=Z.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:Z.getEnumType(rt)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:pT,oneof:"value"},{no:3,name:"speaker",kind:"message",T:x7,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:hT,oneof:"value"},{no:7,name:"transcription",kind:"message",T:w7,oneof:"value"},{no:8,name:"metrics",kind:"message",T:m7,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:ug,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:mT,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:gT,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:vT,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:fg,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:pg,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:hg,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),rt=Z.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),x7=Z.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:fT,repeated:!0}]),fT=Z.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),pT=Z.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),hT=Z.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),w7=Z.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:T7,repeated:!0}]),T7=Z.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),ug=Z.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),mT=Z.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),gT=Z.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),vT=Z.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:yT,oneof:"value"}]),yT=Z.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),bT=Z.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),ST=Z.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:Z.getEnumType(kT)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),kT=Z.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),E7=Z.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:Z.getEnumType(CT)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),CT=Z.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),xT=Z.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:Rk},{no:2,name:"screen",kind:"message",T:Rk},{no:3,name:"resume_connection",kind:"enum",T:Z.getEnumType(sc)},{no:4,name:"disabled_codecs",kind:"message",T:P7},{no:5,name:"force_relay",kind:"enum",T:Z.getEnumType(sc)}]),Rk=Z.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:Z.getEnumType(sc)}]),P7=Z.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:Vd,repeated:!0},{no:2,name:"publish",kind:"message",T:Vd,repeated:!0}]),wT=Z.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),dg=Z.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),TT=Z.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:Z.getEnumType(dg)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),ET=Z.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),fg=Z.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:Z.getEnumType(yr)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:TT,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:ET,oneof:"content_header"}],{localName:"DataStream_Header"}),pg=Z.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),hg=Z.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),Zr=Z.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),mg=Z.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),R7=Z.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),I7=Z.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:hs,oneof:"message"},{no:2,name:"answer",kind:"message",T:hs,oneof:"message"},{no:3,name:"trickle",kind:"message",T:ry,oneof:"message"},{no:4,name:"add_track",kind:"message",T:vg,oneof:"message"},{no:5,name:"mute",kind:"message",T:iy,oneof:"message"},{no:6,name:"subscription",kind:"message",T:Of,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:PT,oneof:"message"},{no:8,name:"leave",kind:"message",T:Mf,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:IT,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:AT,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:NT,oneof:"message"},{no:13,name:"simulate",kind:"message",T:mi,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:_T,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:FT,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:RT,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:N7,oneof:"message"}]),Ik=Z.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:_7,oneof:"message"},{no:2,name:"answer",kind:"message",T:hs,oneof:"message"},{no:3,name:"offer",kind:"message",T:hs,oneof:"message"},{no:4,name:"trickle",kind:"message",T:ry,oneof:"message"},{no:5,name:"update",kind:"message",T:A7,oneof:"message"},{no:6,name:"track_published",kind:"message",T:oy,oneof:"message"},{no:8,name:"leave",kind:"message",T:Mf,oneof:"message"},{no:9,name:"mute",kind:"message",T:iy,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:L7,oneof:"message"},{no:11,name:"room_update",kind:"message",T:D7,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:j7,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:B7,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:$7,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:V7,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:M7,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:O7,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:W7,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:G7,oneof:"message"},{no:22,name:"request_response",kind:"message",T:Y7,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:Q7,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:H7,oneof:"message"}]),gg=Z.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]),vg=Z.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:Z.getEnumType(Xr)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:Z.getEnumType(mn)},{no:9,name:"layers",kind:"message",T:cs,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:gg,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:Z.getEnumType(yr)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:Z.getEnumType(dT)},{no:17,name:"audio_features",kind:"enum",T:Z.getEnumType(En),repeated:!0}]),ry=Z.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:Z.getEnumType(Zr)},{no:3,name:"final",kind:"scalar",T:8}]),iy=Z.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),_7=Z.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:_f},{no:2,name:"participant",kind:"message",T:ps},{no:3,name:"other_participants",kind:"message",T:ps,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:OT,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:xT},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:ST},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:Vd,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),O7=Z.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:OT,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:xT},{no:3,name:"server_info",kind:"message",T:ST},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),oy=Z.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:aa}]),M7=Z.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),hs=Z.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13}]),A7=Z.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:ps,repeated:!0}]),Of=Z.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:bT,repeated:!0}]),PT=Z.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:Z.getEnumType(ny)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),RT=Z.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:Z.getEnumType(En),repeated:!0}]),N7=Z.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),Mf=Z.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:Z.getEnumType(ti)},{no:3,name:"action",kind:"enum",T:Z.getEnumType(ma)},{no:4,name:"regions",kind:"message",T:q7}]),ma=Z.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),IT=Z.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:cs,repeated:!0}]),_T=Z.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),OT=Z.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),L7=Z.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:fT,repeated:!0}]),D7=Z.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:_f}]),F7=Z.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:Z.getEnumType(zl)},{no:3,name:"score",kind:"scalar",T:2}]),j7=Z.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:F7,repeated:!0}]),U7=Z.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:Z.getEnumType(mg)}]),B7=Z.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:U7,repeated:!0}]),sy=Z.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:Z.getEnumType(ny)},{no:2,name:"enabled",kind:"scalar",T:8}]),z7=Z.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:sy,repeated:!0}]),$7=Z.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:sy,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:z7,repeated:!0}]),MT=Z.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),AT=Z.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:MT,repeated:!0}]),V7=Z.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),H7=Z.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:_f},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:ps},{no:4,name:"other_participants",kind:"message",T:ps,repeated:!0}]),NT=Z.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:hs},{no:2,name:"subscription",kind:"message",T:Of},{no:3,name:"publish_tracks",kind:"message",T:oy,repeated:!0},{no:4,name:"data_channels",kind:"message",T:DT,repeated:!0},{no:5,name:"offer",kind:"message",T:hs},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:LT,repeated:!0}]),LT=Z.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),DT=Z.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:Z.getEnumType(Zr)}]),mi=Z.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:Z.getEnumType(R7),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),FT=Z.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),W7=Z.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),q7=Z.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:K7,repeated:!0}]),K7=Z.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),G7=Z.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:Z.getEnumType(b7)}]),Y7=Z.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:Z.getEnumType(ay)},{no:3,name:"message",kind:"scalar",T:9}]),ay=Z.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"}]),Q7=Z.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]);function J7(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gd={exports:{}},X7=gd.exports,_k;function Z7(){return _k||(_k=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(X7,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},a=null;function c(b,x){var C=b[x];if(typeof C.bind=="function")return C.bind(b);try{return Function.prototype.bind.call(C,b)}catch{return function(){return Function.prototype.apply.apply(C,[b,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(b){return b==="debug"&&(b="log"),typeof console===n?!1:b==="trace"&&r?u:console[b]!==void 0?c(console,b):console.log!==void 0?c(console,"log"):t}function p(){for(var b=this.getLevel(),x=0;x<i.length;x++){var C=i[x];this[C]=x<b?t:this.methodFactory(C,b,this.name)}if(this.log=this.debug,typeof console===n&&b<this.levels.SILENT)return"No console available for logging"}function h(b){return function(){typeof console!==n&&(p.call(this),this[b].apply(this,arguments))}}function g(b,x,C){return d(b)||h.apply(this,arguments)}function v(b,x){var C=this,O,R,P,E="loglevel";typeof b=="string"?E+=":"+b:typeof b=="symbol"&&(E=void 0);function I(N){var $=(i[N]||"silent").toUpperCase();if(!(typeof window===n||!E)){try{window.localStorage[E]=$;return}catch{}try{window.document.cookie=encodeURIComponent(E)+"="+$+";"}catch{}}}function D(){var N;if(!(typeof window===n||!E)){try{N=window.localStorage[E]}catch{}if(typeof N===n)try{var $=window.document.cookie,W=encodeURIComponent(E),K=$.indexOf(W+"=");K!==-1&&(N=/^([^;]+)/.exec($.slice(K+W.length+1))[1])}catch{}return C.levels[N]===void 0&&(N=void 0),N}}function B(){if(!(typeof window===n||!E)){try{window.localStorage.removeItem(E)}catch{}try{window.document.cookie=encodeURIComponent(E)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function U(N){var $=N;if(typeof $=="string"&&C.levels[$.toUpperCase()]!==void 0&&($=C.levels[$.toUpperCase()]),typeof $=="number"&&$>=0&&$<=C.levels.SILENT)return $;throw new TypeError("log.setLevel() called with invalid level: "+N)}C.name=b,C.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},C.methodFactory=x||g,C.getLevel=function(){return P??R??O},C.setLevel=function(N,$){return P=U(N),$!==!1&&I(P),p.call(C)},C.setDefaultLevel=function(N){R=U(N),D()||C.setLevel(N,!1)},C.resetLevel=function(){P=null,B(),p.call(C)},C.enableAll=function(N){C.setLevel(C.levels.TRACE,N)},C.disableAll=function(N){C.setLevel(C.levels.SILENT,N)},C.rebuild=function(){if(a!==C&&(O=U(a.getLevel())),p.call(C),a===C)for(var N in o)o[N].rebuild()},O=U(a?a.getLevel():"WARN");var T=D();T!=null&&(P=U(T)),p.call(C)}a=new v,a.getLogger=function(x){if(typeof x!="symbol"&&typeof x!="string"||x==="")throw new TypeError("You must supply a name when creating a logger.");var C=o[x];return C||(C=o[x]=new v(x,a.methodFactory)),C};var S=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=S),a},a.getLoggers=function(){return o},a.default=a,a})}(gd)),gd.exports}var Af=Z7(),yg;(function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"})(yg||(yg={}));var ii;(function(e){e.Default="livekit",e.Room="livekit-room",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee"})(ii||(ii={}));let dt=Af.getLogger("livekit");Object.values(ii).map(e=>Af.getLogger(e));dt.setDefaultLevel(yg.info);function no(e){const t=Af.getLogger(e);return t.setDefaultLevel(dt.getLevel()),t}const e9=Af.getLogger("lk-e2ee"),Ml=7e3,t9=[0,300,4*300,9*300,16*300,Ml,Ml,Ml,Ml,Ml];class n9{constructor(t){this._retryDelays=t!==void 0?[...t]:t9}nextRetryDelayInMs(t){if(t.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[t.retryCount];return t.retryCount<=1?n:n+Math.random()*1e3}}function r9(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function z(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(p){try{d(r.next(p))}catch(h){a(h)}}function u(p){try{d(r.throw(p))}catch(h){a(h)}}function d(p){p.done?o(p.value):i(p.value).then(c,u)}d((r=r.apply(e,t||[])).next())})}function Ok(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ji(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ok=="function"?Ok(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(c,u){a=e[o](a),i(c,u,a.done,a.value)})}}function i(o,a,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},a)}}var td={exports:{}},Mk;function i9(){if(Mk)return td.exports;Mk=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(E,I,D){return Function.prototype.apply.call(E,I,D)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:n=function(E){return Object.getOwnPropertyNames(E)};function r(P){console&&console.warn&&console.warn(P)}var i=Number.isNaN||function(E){return E!==E};function o(){o.init.call(this)}td.exports=o,td.exports.once=C,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function c(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");a=P}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function u(P){return P._maxListeners===void 0?o.defaultMaxListeners:P._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(E){for(var I=[],D=1;D<arguments.length;D++)I.push(arguments[D]);var B=E==="error",U=this._events;if(U!==void 0)B=B&&U.error===void 0;else if(!B)return!1;if(B){var T;if(I.length>0&&(T=I[0]),T instanceof Error)throw T;var N=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw N.context=T,N}var $=U[E];if($===void 0)return!1;if(typeof $=="function")t($,this,I);else for(var W=$.length,K=S($,W),D=0;D<W;++D)t(K[D],this,I);return!0};function d(P,E,I,D){var B,U,T;if(c(I),U=P._events,U===void 0?(U=P._events=Object.create(null),P._eventsCount=0):(U.newListener!==void 0&&(P.emit("newListener",E,I.listener?I.listener:I),U=P._events),T=U[E]),T===void 0)T=U[E]=I,++P._eventsCount;else if(typeof T=="function"?T=U[E]=D?[I,T]:[T,I]:D?T.unshift(I):T.push(I),B=u(P),B>0&&T.length>B&&!T.warned){T.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=P,N.type=E,N.count=T.length,r(N)}return P}o.prototype.addListener=function(E,I){return d(this,E,I,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(E,I){return d(this,E,I,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(P,E,I){var D={fired:!1,wrapFn:void 0,target:P,type:E,listener:I},B=p.bind(D);return B.listener=I,D.wrapFn=B,B}o.prototype.once=function(E,I){return c(I),this.on(E,h(this,E,I)),this},o.prototype.prependOnceListener=function(E,I){return c(I),this.prependListener(E,h(this,E,I)),this},o.prototype.removeListener=function(E,I){var D,B,U,T,N;if(c(I),B=this._events,B===void 0)return this;if(D=B[E],D===void 0)return this;if(D===I||D.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete B[E],B.removeListener&&this.emit("removeListener",E,D.listener||I));else if(typeof D!="function"){for(U=-1,T=D.length-1;T>=0;T--)if(D[T]===I||D[T].listener===I){N=D[T].listener,U=T;break}if(U<0)return this;U===0?D.shift():b(D,U),D.length===1&&(B[E]=D[0]),B.removeListener!==void 0&&this.emit("removeListener",E,N||I)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(E){var I,D,B;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[E]),this;if(arguments.length===0){var U=Object.keys(D),T;for(B=0;B<U.length;++B)T=U[B],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=D[E],typeof I=="function")this.removeListener(E,I);else if(I!==void 0)for(B=I.length-1;B>=0;B--)this.removeListener(E,I[B]);return this};function g(P,E,I){var D=P._events;if(D===void 0)return[];var B=D[E];return B===void 0?[]:typeof B=="function"?I?[B.listener||B]:[B]:I?x(B):S(B,B.length)}o.prototype.listeners=function(E){return g(this,E,!0)},o.prototype.rawListeners=function(E){return g(this,E,!1)},o.listenerCount=function(P,E){return typeof P.listenerCount=="function"?P.listenerCount(E):v.call(P,E)},o.prototype.listenerCount=v;function v(P){var E=this._events;if(E!==void 0){var I=E[P];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function S(P,E){for(var I=new Array(E),D=0;D<E;++D)I[D]=P[D];return I}function b(P,E){for(;E+1<P.length;E++)P[E]=P[E+1];P.pop()}function x(P){for(var E=new Array(P.length),I=0;I<E.length;++I)E[I]=P[I].listener||P[I];return E}function C(P,E){return new Promise(function(I,D){function B(T){P.removeListener(E,U),D(T)}function U(){typeof P.removeListener=="function"&&P.removeListener("error",B),I([].slice.call(arguments))}R(P,E,U,{once:!0}),E!=="error"&&O(P,B,{once:!0})})}function O(P,E,I){typeof P.on=="function"&&R(P,"error",E,I)}function R(P,E,I,D){if(typeof P.on=="function")D.once?P.once(E,I):P.on(E,I);else if(typeof P.addEventListener=="function")P.addEventListener(E,function B(U){D.once&&P.removeEventListener(E,B),I(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return td.exports}var Ni=i9();let jT=!0,UT=!0;function $l(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Ss(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(a,c){if(a!==t)return i.apply(this,arguments);const u=d=>{const p=n(d);p&&(c.handleEvent?c.handleEvent(p):c(p))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(c,u),i.apply(this,[a,u])};const o=r.removeEventListener;r.removeEventListener=function(a,c){if(a!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(c))return o.apply(this,arguments);const u=this._eventMap[t].get(c);return this._eventMap[t].delete(c),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[a,u])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(a){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),a&&this.addEventListener(t,this["_on"+t]=a)},enumerable:!0,configurable:!0})}function o9(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(jT=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function s9(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(UT=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function BT(){if(typeof window=="object"){if(jT)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ly(e,t){UT&&console.warn(e+" is deprecated, please use "+t+" instead.")}function a9(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt($l(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt($l(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt($l(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=$l(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function Ak(e){return Object.prototype.toString.call(e)==="[object Object]"}function zT(e){return Ak(e)?Object.keys(e).reduce(function(t,n){const r=Ak(e[n]),i=r?zT(e[n]):e[n],o=r&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[n]:i})},{}):e}function bg(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?bg(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{bg(e,e.get(i),n)})}))}function Nk(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===t.id&&o.push(a)}),o.forEach(a=>{e.forEach(c=>{c.type===r&&c.trackId===a.id&&bg(e,c,i)})}),i}const Lk=BT;function $T(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(c){if(typeof c!="object"||c.mandatory||c.optional)return c;const u={};return Object.keys(c).forEach(d=>{if(d==="require"||d==="advanced"||d==="mediaSource")return;const p=typeof c[d]=="object"?c[d]:{ideal:c[d]};p.exact!==void 0&&typeof p.exact=="number"&&(p.min=p.max=p.exact);const h=function(g,v){return g?g+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(p.ideal!==void 0){u.optional=u.optional||[];let g={};typeof p.ideal=="number"?(g[h("min",d)]=p.ideal,u.optional.push(g),g={},g[h("max",d)]=p.ideal,u.optional.push(g)):(g[h("",d)]=p.ideal,u.optional.push(g))}p.exact!==void 0&&typeof p.exact!="number"?(u.mandatory=u.mandatory||{},u.mandatory[h("",d)]=p.exact):["min","max"].forEach(g=>{p[g]!==void 0&&(u.mandatory=u.mandatory||{},u.mandatory[h(g,d)]=p[g])})}),c.advanced&&(u.optional=(u.optional||[]).concat(c.advanced)),u},i=function(c,u){if(t.version>=61)return u(c);if(c=JSON.parse(JSON.stringify(c)),c&&typeof c.audio=="object"){const d=function(p,h,g){h in p&&!(g in p)&&(p[g]=p[h],delete p[h])};c=JSON.parse(JSON.stringify(c)),d(c.audio,"autoGainControl","googAutoGainControl"),d(c.audio,"noiseSuppression","googNoiseSuppression"),c.audio=r(c.audio)}if(c&&typeof c.video=="object"){let d=c.video.facingMode;d=d&&(typeof d=="object"?d:{ideal:d});const p=t.version<66;if(d&&(d.exact==="user"||d.exact==="environment"||d.ideal==="user"||d.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!p)){delete c.video.facingMode;let h;if(d.exact==="environment"||d.ideal==="environment"?h=["back","rear"]:(d.exact==="user"||d.ideal==="user")&&(h=["front"]),h)return n.mediaDevices.enumerateDevices().then(g=>{g=g.filter(S=>S.kind==="videoinput");let v=g.find(S=>h.some(b=>S.label.toLowerCase().includes(b)));return!v&&g.length&&h.includes("back")&&(v=g[g.length-1]),v&&(c.video.deviceId=d.exact?{exact:v.deviceId}:{ideal:v.deviceId}),c.video=r(c.video),Lk("chrome: "+JSON.stringify(c)),u(c)})}c.video=r(c.video)}return Lk("chrome: "+JSON.stringify(c)),u(c)},o=function(c){return t.version>=64?c:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[c.name]||c.name,message:c.message,constraint:c.constraint||c.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(c,u,d){i(c,p=>{n.webkitGetUserMedia(p,u,h=>{d&&d(o(h))})})};if(n.getUserMedia=a.bind(n),n.mediaDevices.getUserMedia){const c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(u){return i(u,d=>c(d).then(p=>{if(d.audio&&!p.getAudioTracks().length||d.video&&!p.getVideoTracks().length)throw p.getTracks().forEach(h=>{h.stop()}),new DOMException("","NotFoundError");return p},p=>Promise.reject(o(p))))}}}function VT(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function HT(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(c=>c.track&&c.track.id===i.track.id):o={track:i.track};const a=new Event("track");a.track=i.track,a.receiver=o,a.transceiver={receiver:o},a.streams=[r.stream],this.dispatchEvent(a)}),r.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(c=>c.track&&c.track.id===i.id):o={track:i};const a=new Event("track");a.track=i,a.receiver=o,a.transceiver={receiver:o},a.streams=[r.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Ss(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function WT(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(c,u){let d=i.apply(this,arguments);return d||(d=t(this,c),this._senders.push(d)),d};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(c){o.apply(this,arguments);const u=this._senders.indexOf(c);u!==-1&&this._senders.splice(u,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(a=>{this._senders.push(t(this,a))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(a=>{const c=this._senders.find(u=>u.track===a);c&&this._senders.splice(this._senders.indexOf(c),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function qT(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(a=>a._pc=this),o});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=r.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(a=>Nk(a,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i}),Ss(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>Nk(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,o,a;return this.getSenders().forEach(c=>{c.track===r&&(i?a=!0:i=c)}),this.getReceivers().forEach(c=>(c.track===r&&(o?a=!0:o=c),c.track===r)),a||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function KT(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,c){if(!c)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const u=t.apply(this,arguments);return this._shimmedLocalStreams[c.id]?this._shimmedLocalStreams[c.id].indexOf(u)===-1&&this._shimmedLocalStreams[c.id].push(u):this._shimmedLocalStreams[c.id]=[c,u],u};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(d=>{if(this.getSenders().find(h=>h.track===d))throw new DOMException("Track already exists.","InvalidAccessError")});const c=this.getSenders();n.apply(this,arguments);const u=this.getSenders().filter(d=>c.indexOf(d)===-1);this._shimmedLocalStreams[a.id]=[a].concat(u)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(c=>{const u=this._shimmedLocalStreams[c].indexOf(a);u!==-1&&this._shimmedLocalStreams[c].splice(u,1),this._shimmedLocalStreams[c].length===1&&delete this._shimmedLocalStreams[c]}),i.apply(this,arguments)}}function GT(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return KT(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const p=n.apply(this);return this._reverseStreams=this._reverseStreams||{},p.map(h=>this._reverseStreams[h.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(p){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},p.getTracks().forEach(h=>{if(this.getSenders().find(v=>v.track===h))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[p.id]){const h=new e.MediaStream(p.getTracks());this._streams[p.id]=h,this._reverseStreams[h.id]=p,p=h}r.apply(this,[p])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(p){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[p.id]||p]),delete this._reverseStreams[this._streams[p.id]?this._streams[p.id].id:p.id],delete this._streams[p.id]},e.RTCPeerConnection.prototype.addTrack=function(p,h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const g=[].slice.call(arguments,1);if(g.length!==1||!g[0].getTracks().find(b=>b===p))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(b=>b.track===p))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const S=this._streams[h.id];if(S)S.addTrack(p),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const b=new e.MediaStream([p]);this._streams[h.id]=b,this._reverseStreams[b.id]=h,this.addStream(b)}return this.getSenders().find(b=>b.track===p)};function o(d,p){let h=p.sdp;return Object.keys(d._reverseStreams||[]).forEach(g=>{const v=d._reverseStreams[g],S=d._streams[v.id];h=h.replace(new RegExp(S.id,"g"),v.id)}),new RTCSessionDescription({type:p.type,sdp:h})}function a(d,p){let h=p.sdp;return Object.keys(d._reverseStreams||[]).forEach(g=>{const v=d._reverseStreams[g],S=d._streams[v.id];h=h.replace(new RegExp(v.id,"g"),S.id)}),new RTCSessionDescription({type:p.type,sdp:h})}["createOffer","createAnswer"].forEach(function(d){const p=e.RTCPeerConnection.prototype[d],h={[d](){const g=arguments;return arguments.length&&typeof arguments[0]=="function"?p.apply(this,[S=>{const b=o(this,S);g[0].apply(null,[b])},S=>{g[1]&&g[1].apply(null,S)},arguments[2]]):p.apply(this,arguments).then(S=>o(this,S))}};e.RTCPeerConnection.prototype[d]=h[d]});const c=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?c.apply(this,arguments):(arguments[0]=a(this,arguments[0]),c.apply(this,arguments))};const u=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const d=u.get.apply(this);return d.type===""?d:o(this,d)}}),e.RTCPeerConnection.prototype.removeTrack=function(p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!p._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(p._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let g;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(b=>p.track===b)&&(g=this._streams[v])}),g&&(g.getTracks().length===1?this.removeStream(this._reverseStreams[g.id]):g.removeTrack(p.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Sg(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function YT(e,t){Ss(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var Dk=Object.freeze({__proto__:null,fixNegotiationNeeded:YT,shimAddTrackRemoveTrack:GT,shimAddTrackRemoveTrackWithNative:KT,shimGetSendersWithDtmf:WT,shimGetUserMedia:$T,shimMediaStream:VT,shimOnTrack:HT,shimPeerConnection:Sg,shimSenderReceiverGetStats:qT});function QT(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,o,a){ly("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(o,a)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(a,c,u){c in a&&!(u in a)&&(a[u]=a[c],delete a[c])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a.audio,"autoGainControl","mozAutoGainControl"),i(a.audio,"noiseSuppression","mozNoiseSuppression")),o(a)},r&&r.prototype.getSettings){const a=r.prototype.getSettings;r.prototype.getSettings=function(){const c=a.apply(this,arguments);return i(c,"mozAutoGainControl","autoGainControl"),i(c,"mozNoiseSuppression","noiseSuppression"),c}}if(r&&r.prototype.applyConstraints){const a=r.prototype.applyConstraints;r.prototype.applyConstraints=function(c){return this.kind==="audio"&&typeof c=="object"&&(c=JSON.parse(JSON.stringify(c)),i(c,"autoGainControl","mozAutoGainControl"),i(c,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[c])}}}}function l9(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function JT(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function kg(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],a={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=a[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,a,c]=arguments;return r.apply(this,[o||null]).then(u=>{if(t.version<53&&!a)try{u.forEach(d=>{d.type=n[d.type]||d.type})}catch(d){if(d.name!=="TypeError")throw d;u.forEach((p,h)=>{u.set(h,Object.assign({},p,{type:n[p.type]||p.type}))})}return u}).then(a,c)}}function XT(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function ZT(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Ss(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function eE(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){ly("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function tE(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function nE(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:a}=o,c=a.getParameters();(!("encodings"in c)||c.encodings.length===1&&Object.keys(c.encodings[0]).length===0)&&(c.encodings=r,a.sendEncodings=r,this.setParametersPromises.push(a.setParameters(c).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return o})}function rE(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function iE(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function oE(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var Fk=Object.freeze({__proto__:null,shimAddTransceiver:nE,shimCreateAnswer:oE,shimCreateOffer:iE,shimGetDisplayMedia:l9,shimGetParameters:rE,shimGetUserMedia:QT,shimOnTrack:JT,shimPeerConnection:kg,shimRTCDataChannel:tE,shimReceiverGetStats:ZT,shimRemoveStream:eE,shimSenderGetStats:XT});function sE(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o&&o.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function aE(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(o)>=0)return;r._remoteStreams.push(o);const a=new Event("addstream");a.stream=o,r.dispatchEvent(a)})}),t.apply(r,arguments)}}}function lE(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(d,p){const h=arguments.length>=2?arguments[2]:arguments[0],g=n.apply(this,[h]);return p?(g.then(d,p),Promise.resolve()):g},t.createAnswer=function(d,p){const h=arguments.length>=2?arguments[2]:arguments[0],g=r.apply(this,[h]);return p?(g.then(d,p),Promise.resolve()):g};let c=function(u,d,p){const h=i.apply(this,[u]);return p?(h.then(d,p),Promise.resolve()):h};t.setLocalDescription=c,c=function(u,d,p){const h=o.apply(this,[u]);return p?(h.then(d,p),Promise.resolve()):h},t.setRemoteDescription=c,c=function(u,d,p){const h=a.apply(this,[u]);return p?(h.then(d,p),Promise.resolve()):h},t.addIceCandidate=c}function cE(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(uE(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}).bind(t))}function uE(e){return e&&e.video!==void 0?Object.assign({},e,{video:zT(e.video)}):e}function dE(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const o=[];for(let a=0;a<r.iceServers.length;a++){let c=r.iceServers[a];c.urls===void 0&&c.url?(ly("RTCIceServer.url","RTCIceServer.urls"),c=JSON.parse(JSON.stringify(c)),c.urls=c.url,delete c.url,o.push(c)):o.push(r.iceServers[a])}r.iceServers=o}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function fE(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function pE(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const o=this.getTransceivers().find(a=>a.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function hE(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var jk=Object.freeze({__proto__:null,shimAudioContext:hE,shimCallbacksAPI:lE,shimConstraints:uE,shimCreateOfferLegacy:pE,shimGetUserMedia:cE,shimLocalStreamsAPI:sE,shimRTCIceServerUrls:dE,shimRemoteStreamsAPI:aE,shimTrackEventTransceiver:fE}),pm={exports:{}},Uk;function c9(){return Uk||(Uk=1,function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((i,o)=>(o>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(i=>i.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let o=8;o<r.length;o+=2)switch(r[o]){case"raddr":i.relatedAddress=r[o+1];break;case"rport":i.relatedPort=parseInt(r[o+1],10);break;case"tcptype":i.tcpType=r[o+1];break;case"ufrag":i.ufrag=r[o+1],i.usernameFragment=r[o+1];break;default:i[r[o]]===void 0&&(i[r[o]]=r[o+1]);break}return i},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const o=n.type;return r.push("typ"),r.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let i;const o=n.substring(n.indexOf(" ")+1).split(";");for(let a=0;a<o.length;a++)i=o[a].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const o=[];Object.keys(n.parameters).forEach(a=>{n.parameters[a]!==void 0?o.push(a+"="+n.parameters[a]):o.push(a)}),r+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{r+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},o=n.indexOf(":",r);return o>-1?(i.attribute=n.substring(r+1,o),i.value=n.substring(o+1)):i.attribute=n.substring(r+1),i},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(o=>{i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],o=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=t.splitLines(n)[0].split(" ");r.profile=o[2];for(let c=3;c<o.length;c++){const u=o[c],d=t.matchPrefix(n,"a=rtpmap:"+u+" ")[0];if(d){const p=t.parseRtpMap(d),h=t.matchPrefix(n,"a=fmtp:"+u+" ");switch(p.parameters=h.length?t.parseFmtp(h[0]):{},p.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+u+" ").map(t.parseRtcpFb),r.codecs.push(p),p.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(p.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(c=>{r.headerExtensions.push(t.parseExtmap(c))});const a=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(c=>{a.forEach(u=>{c.rtcpFeedback.find(p=>p.type===u.type&&p.parameter===u.parameter)||c.rtcpFeedback.push(u)})}),r},t.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(a=>{i+=t.writeRtpMap(a),i+=t.writeFmtp(a),i+=t.writeRtcpFb(a)});let o=0;return r.codecs.forEach(a=>{a.maxptime>o&&(o=a.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(a=>{i+=t.writeExtmap(a)}),i},t.parseRtpEncodingParameters=function(n){const r=[],i=t.parseRtpParameters(n),o=i.fecMechanisms.indexOf("RED")!==-1,a=i.fecMechanisms.indexOf("ULPFEC")!==-1,c=t.matchPrefix(n,"a=ssrc:").map(g=>t.parseSsrcMedia(g)).filter(g=>g.attribute==="cname"),u=c.length>0&&c[0].ssrc;let d;const p=t.matchPrefix(n,"a=ssrc-group:FID").map(g=>g.substring(17).split(" ").map(S=>parseInt(S,10)));p.length>0&&p[0].length>1&&p[0][0]===u&&(d=p[0][1]),i.codecs.forEach(g=>{if(g.name.toUpperCase()==="RTX"&&g.parameters.apt){let v={ssrc:u,codecPayloadType:parseInt(g.parameters.apt,10)};u&&d&&(v.rtx={ssrc:d}),r.push(v),o&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:u,mechanism:a?"red+ulpfec":"red"},r.push(v))}}),r.length===0&&u&&r.push({ssrc:u});let h=t.matchPrefix(n,"b=");return h.length&&(h[0].indexOf("b=TIAS:")===0?h=parseInt(h[0].substring(7),10):h[0].indexOf("b=AS:")===0?h=parseInt(h[0].substring(5),10)*1e3*.95-2e3*8:h=void 0,r.forEach(g=>{g.maxBitrate=h})),r},t.parseRtcpParameters=function(n){const r={},i=t.matchPrefix(n,"a=ssrc:").map(c=>t.parseSsrcMedia(c)).filter(c=>c.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const o=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=o.length===0;const a=t.matchPrefix(n,"a=rtcp-mux");return r.mux=a.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");if(o.length>0)return r=o[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:");let o;i.length>0&&(o=parseInt(i[0].substring(19),10)),isNaN(o)&&(o=65536);const a=t.matchPrefix(n,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const c=t.matchPrefix(n,"a=sctpmap:");if(c.length>0){const u=c[0].substring(10).split(" ");return{port:parseInt(u[0],10),protocol:u[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,i){let o;const a=r!==void 0?r:2;return n?o=n:o=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+o+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const i=t.splitLines(n);for(let o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const i=t.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){const i=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t}(pm)),pm.exports}var mE=c9(),ga=J7(mE),u9=xF({__proto__:null,default:ga},[mE]);function vd(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new t(r),o=ga.parseCandidate(r.candidate);for(const a in o)a in i||Object.defineProperty(i,a,{value:o[a]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Ss(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Cg(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Ss(e,"icecandidate",t=>{if(t.candidate){const n=ga.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function yd(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(c){if(!c||!c.sdp)return!1;const u=ga.splitSections(c.sdp);return u.shift(),u.some(d=>{const p=ga.parseMLine(d);return p&&p.kind==="application"&&p.protocol.indexOf("SCTP")!==-1})},r=function(c){const u=c.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(u===null||u.length<2)return-1;const d=parseInt(u[1],10);return d!==d?-1:d},i=function(c){let u=65536;return t.browser==="firefox"&&(t.version<57?c===-1?u=16384:u=2147483637:t.version<60?u=t.version===57?65535:65536:u=2147483637),u},o=function(c,u){let d=65536;t.browser==="firefox"&&t.version===57&&(d=65535);const p=ga.matchPrefix(c.sdp,"a=max-message-size:");return p.length>0?d=parseInt(p[0].substring(19),10):t.browser==="firefox"&&u!==-1&&(d=2147483637),d},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:u}=this.getConfiguration();u==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const u=r(arguments[0]),d=i(u),p=o(arguments[0],u);let h;d===0&&p===0?h=Number.POSITIVE_INFINITY:d===0||p===0?h=Math.max(d,p):h=Math.min(d,p);const g={};Object.defineProperty(g,"maxMessageSize",{get(){return h}}),this._sctp=g}return a.apply(this,arguments)}}function bd(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const o=r.send;r.send=function(){const c=arguments[0],u=c.length||c.size||c.byteLength;if(r.readyState==="open"&&i.sctp&&u>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Ss(e,"datachannel",r=>(t(r.channel,r.target),r))}function xg(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const a=new Event("connectionstatechange",i);o.dispatchEvent(a)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function wg(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return n.apply(this,arguments)}}function Sd(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function kd(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(a=>n.apply(this,[a]))})}var d9=Object.freeze({__proto__:null,removeExtmapAllowMixed:wg,shimAddIceCandidateNullOrEmpty:Sd,shimConnectionState:xg,shimMaxMessageSize:yd,shimParameterlessSetLocalDescription:kd,shimRTCIceCandidate:vd,shimRTCIceCandidateRelayProtocol:Cg,shimSendThrowTypeError:bd});function f9(){let{window:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=BT,r=a9(e),i={browserDetails:r,commonShim:d9,extractVersion:$l,disableLog:o9,disableWarnings:s9,sdp:u9};switch(r.browser){case"chrome":if(!Dk||!Sg||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=Dk,Sd(e,r),kd(e),$T(e,r),VT(e),Sg(e,r),HT(e),GT(e,r),WT(e),qT(e),YT(e,r),vd(e),Cg(e),xg(e),yd(e,r),bd(e),wg(e,r);break;case"firefox":if(!Fk||!kg||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=Fk,Sd(e,r),kd(e),QT(e,r),kg(e,r),JT(e),eE(e),XT(e),ZT(e),tE(e),nE(e),rE(e),iE(e),oE(e),vd(e),xg(e),yd(e,r),bd(e);break;case"safari":if(!jk||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=jk,Sd(e,r),kd(e),dE(e),pE(e),lE(e),sE(e),aE(e),fE(e),cE(e),hE(e),vd(e),Cg(e),yd(e,r),bd(e),wg(e,r);break;default:n("Unsupported browser!");break}return i}f9({window:typeof window>"u"?void 0:window});const p9=10,Al="lk_e2ee",h9="LKFrameEncryptionKey",m9={sharedKey:!1,ratchetSalt:h9,ratchetWindowSize:8,failureTolerance:p9,keyringSize:16};var Mo;(function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"})(Mo||(Mo={}));var Bk;(function(e){e.KeyRatcheted="keyRatcheted"})(Bk||(Bk={}));var _o;(function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"})(_o||(_o={}));var zk;(function(e){e.Error="cryptorError"})(zk||(zk={}));function g9(){return v9()||Tg()}function Tg(){return typeof window.RTCRtpScriptTransform<"u"}function v9(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}class T$ extends Ni.EventEmitter{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,r,i)=>{dt.debug("key ratcheted event received",{ratchetResult:n,participantId:r,keyIndex:i})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},m9),t),this.on(Mo.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(t,n,r){const i={key:t,participantIdentity:n,keyIndex:r};if(!this.options.sharedKey&&!n)throw new Error("participant identity needs to be passed for encryption key if sharedKey option is false");this.keyInfoMap.set("".concat(n??"shared","-").concat(r??0),i),this.emit(Mo.SetKey,i)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(t,n){this.emit(Mo.RatchetRequest,t,n)}}class Bo extends Error{constructor(t,n){super(n||"an error has occured"),this.name="LiveKitError",this.code=t}}var ft;(function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest",e[e.Timeout=5]="Timeout"})(ft||(ft={}));class Bt extends Bo{constructor(t,n,r,i){super(1,t),this.name="ConnectionError",this.status=r,this.reason=n,this.context=i,this.reasonName=ft[n]}}class cy extends Bo{constructor(t){super(21,t??"device is unsupported"),this.name="DeviceUnsupportedError"}}class Xi extends Bo{constructor(t){super(20,t??"track is invalid"),this.name="TrackInvalidError"}}class y9 extends Bo{constructor(t){super(10,t??"unsupported server"),this.name="UnsupportedServer"}}class Sn extends Bo{constructor(t){super(12,t??"unexpected connection state"),this.name="UnexpectedConnectionState"}}class Eg extends Bo{constructor(t){super(13,t??"unable to negotiate"),this.name="NegotiationError"}}class $k extends Bo{constructor(t,n){super(15,t),this.name="PublishTrackError",this.status=n}}class Vk extends Bo{constructor(t,n){super(15,t),this.reason=n,this.reasonName=typeof n=="string"?n:ay[n]}}var lc;(function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"})(lc||(lc={}));(function(e){function t(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?e.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?e.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?e.DeviceInUse:e.Other}e.getFailure=t})(lc||(lc={}));var Hk;(function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"})(Hk||(Hk={}));var oe;(function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.Moved="moved",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.ParticipantActive="participantActive",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"})(oe||(oe={}));var ae;(function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackCpuConstrained="localTrackCpuConstrained",e.LocalSenderCreated="localSenderCreated",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.TrackCpuConstrained="trackCpuConstrained",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage",e.Active="active"})(ae||(ae={}));var xe;(function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse",e.SignalConnected="signalConnected",e.RoomMoved="roomMoved"})(xe||(xe={}));var Se;(function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.CpuConstrained="cpuConstrained",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate",e.PreConnectBufferFlushed="preConnectBufferFlushed"})(Se||(Se={}));function b9(e){return typeof e>"u"?e:typeof structuredClone=="function"?typeof e=="object"&&e!==null?structuredClone(Object.assign({},e)):structuredClone(e):JSON.parse(JSON.stringify(e))}const S9=/version\/(\d+(\.?_?\d+)+)/i;let hm;function wr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof navigator>"u")return;const n=navigator.userAgent.toLowerCase();if(hm===void 0||t){const r=k9.find(i=>{let{test:o}=i;return o.test(n)});hm=r==null?void 0:r.describe(n)}return hm}const k9=[{test:/firefox|iceweasel|fxios/i,describe(e){return{name:"Firefox",version:Cd(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:mm(e)}}},{test:/chrom|crios|crmo/i,describe(e){return{name:"Chrome",version:Cd(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:mm(e)}}},{test:/safari|applewebkit/i,describe(e){return{name:"Safari",version:Cd(S9,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:mm(e)}}}];function Cd(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=t.match(e);return r&&r.length>=n&&r[n]||""}function mm(e){return e.includes("mac os")?Cd(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}var C9="2.15.4";const x9=C9,w9=16;class Nn{}Nn.setTimeout=function(){return setTimeout(...arguments)};Nn.setInterval=function(){return setInterval(...arguments)};Nn.clearTimeout=function(){return clearTimeout(...arguments)};Nn.clearInterval=function(){return clearInterval(...arguments)};const T9=5e3,Nl=[];var Cr;(function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"})(Cr||(Cr={}));class se extends Ni.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i;super(),this.attachedElements=[],this.isMuted=!1,this.streamState=se.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=dt,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),T9):this.handleAppVisibilityChanged()},this.log=no((i=r.loggerName)!==null&&i!==void 0?i:ii.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=t,this._mediaStreamID=t.id,this.source=se.Source.Unknown}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),lt(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(t){let n="audio";this.kind===se.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===se.Kind.Video&&this.addAppVisibilityListener(),t||(n==="audio"&&(Nl.forEach(o=>{o.parentElement===null&&!t&&(t=o)}),t&&Nl.splice(Nl.indexOf(t),1)),t||(t=document.createElement(n))),this.attachedElements.includes(t)||this.attachedElements.push(t),la(this.mediaStreamTrack,t);const r=t.srcObject.getTracks(),i=r.some(o=>o.kind==="audio");return t.play().then(()=>{this.emit(i?Se.AudioPlaybackStarted:Se.VideoPlaybackStarted)}).catch(o=>{o.name==="NotAllowedError"?this.emit(i?Se.AudioPlaybackFailed:Se.VideoPlaybackFailed,o):o.name==="AbortError"?dt.debug("".concat(i?"audio":"video"," playback aborted, likely due to new play request")):dt.warn("could not playback ".concat(i?"audio":"video"),o),i&&t&&r.some(a=>a.kind==="video")&&o.name==="NotAllowedError"&&(t.muted=!0,t.play().catch(()=>{}))}),this.emit(Se.ElementAttached,t),t}detach(t){try{if(t){va(this.mediaStreamTrack,t);const r=this.attachedElements.indexOf(t);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(t),this.emit(Se.ElementDetached,t)),t}const n=[];return this.attachedElements.forEach(r=>{va(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),this.emit(Se.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(t){t.loggerName&&(this.log=no(t.loggerName)),t.loggerContextCb&&(this.loggerContextCb=t.loggerContextCb)}recycleElement(t){if(t instanceof HTMLAudioElement){let n=!0;t.pause(),Nl.forEach(r=>{r.parentElement||(n=!1)}),n&&Nl.push(t)}}handleAppVisibilityChanged(){return z(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",!this.isInBackground&&this.kind===se.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(t=>t.play().catch(()=>{})),0)})}addAppVisibilityListener(){or()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){or()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function la(e,t){let n;t.srcObject instanceof MediaStream?n=t.srcObject:n=new MediaStream;let r;e.kind==="audio"?r=n.getAudioTracks():r=n.getVideoTracks(),r.includes(e)||(r.forEach(i=>{n.removeTrack(i)}),n.addTrack(e)),(!ms()||!(t instanceof HTMLVideoElement))&&(t.autoplay=!0),t.muted=n.getAudioTracks().length===0,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(ms()||wa())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function va(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}(function(e){let t;(function(d){d.Audio="audio",d.Video="video",d.Unknown="unknown"})(t=e.Kind||(e.Kind={}));let n;(function(d){d.Camera="camera",d.Microphone="microphone",d.ScreenShare="screen_share",d.ScreenShareAudio="screen_share_audio",d.Unknown="unknown"})(n=e.Source||(e.Source={}));let r;(function(d){d.Active="active",d.Paused="paused",d.Unknown="unknown"})(r=e.StreamState||(e.StreamState={}));function i(d){switch(d){case t.Audio:return Xr.AUDIO;case t.Video:return Xr.VIDEO;default:return Xr.DATA}}e.kindToProto=i;function o(d){switch(d){case Xr.AUDIO:return t.Audio;case Xr.VIDEO:return t.Video;default:return t.Unknown}}e.kindFromProto=o;function a(d){switch(d){case n.Camera:return mn.CAMERA;case n.Microphone:return mn.MICROPHONE;case n.ScreenShare:return mn.SCREEN_SHARE;case n.ScreenShareAudio:return mn.SCREEN_SHARE_AUDIO;default:return mn.UNKNOWN}}e.sourceToProto=a;function c(d){switch(d){case mn.CAMERA:return n.Camera;case mn.MICROPHONE:return n.Microphone;case mn.SCREEN_SHARE:return n.ScreenShare;case mn.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}e.sourceFromProto=c;function u(d){switch(d){case mg.ACTIVE:return r.Active;case mg.PAUSED:return r.Paused;default:return r.Unknown}}e.streamStateFromProto=u})(se||(se={}));class Nt{constructor(t,n,r,i,o){if(typeof t=="object")this.width=t.width,this.height=t.height,this.aspectRatio=t.aspectRatio,this.encoding={maxBitrate:t.maxBitrate,maxFramerate:t.maxFramerate,priority:t.priority};else if(n!==void 0&&r!==void 0)this.width=t,this.height=n,this.aspectRatio=t/n,this.encoding={maxBitrate:r,maxFramerate:i,priority:o};else throw new TypeError("Unsupported options: provide at least width, height and maxBitrate")}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const E9=["vp8","h264"],P9=["vp8","h264","vp9","av1","h265"];function R9(e){return!!E9.find(t=>t===e)}var Wk;(function(e){e[e.PREFER_REGRESSION=0]="PREFER_REGRESSION",e[e.SIMULCAST=1]="SIMULCAST",e[e.REGRESSION=2]="REGRESSION"})(Wk||(Wk={}));var Pg;(function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:24e3},e.music={maxBitrate:48e3},e.musicStereo={maxBitrate:64e3},e.musicHighQuality={maxBitrate:96e3},e.musicHighQualityStereo={maxBitrate:128e3}})(Pg||(Pg={}));const cc={h90:new Nt(160,90,9e4,20),h180:new Nt(320,180,16e4,20),h216:new Nt(384,216,18e4,20),h360:new Nt(640,360,45e4,20),h540:new Nt(960,540,8e5,25),h720:new Nt(1280,720,17e5,30),h1080:new Nt(1920,1080,3e6,30),h1440:new Nt(2560,1440,5e6,30),h2160:new Nt(3840,2160,8e6,30)},Rg={h120:new Nt(160,120,7e4,20),h180:new Nt(240,180,125e3,20),h240:new Nt(320,240,14e4,20),h360:new Nt(480,360,33e4,20),h480:new Nt(640,480,5e5,20),h540:new Nt(720,540,6e5,25),h720:new Nt(960,720,13e5,30),h1080:new Nt(1440,1080,23e5,30),h1440:new Nt(1920,1440,38e5,30)},uy={h360fps3:new Nt(640,360,2e5,3,"medium"),h360fps15:new Nt(640,360,4e5,15,"medium"),h720fps5:new Nt(1280,720,8e5,5,"medium"),h720fps15:new Nt(1280,720,15e5,15,"medium"),h720fps30:new Nt(1280,720,2e6,30,"medium"),h1080fps15:new Nt(1920,1080,25e5,15,"medium"),h1080fps30:new Nt(1920,1080,5e6,30,"medium"),original:new Nt(0,0,7e6,30,"medium")},I9="|",qk="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function _9(e){const t=e.split(I9);return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}function ar(e){return z(this,void 0,void 0,function*(){return new Promise(t=>Nn.setTimeout(t,e))})}function Ig(){return"addTransceiver"in RTCPeerConnection.prototype}function _g(){return"addTrack"in RTCPeerConnection.prototype}function O9(){if(!("getCapabilities"in RTCRtpSender)||ms())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType==="video/AV1"){t=!0;break}}return t}function M9(){if(!("getCapabilities"in RTCRtpSender)||wa())return!1;if(ms()){const n=wr();if(n!=null&&n.version&&_i(n.version,"16")<0||(n==null?void 0:n.os)==="iOS"&&(n!=null&&n.osVersion)&&_i(n.osVersion,"16")<0)return!1}const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType==="video/VP9"){t=!0;break}}return t}function Ci(e){return e==="av1"||e==="vp9"}function Og(e){return!document||Hd()?!1:(e||(e=document.createElement("audio")),"setSinkId"in e)}function A9(){return typeof RTCPeerConnection>"u"?!1:Ig()||_g()}function wa(){var e;return((e=wr())===null||e===void 0?void 0:e.name)==="Firefox"}function ms(){var e;return((e=wr())===null||e===void 0?void 0:e.name)==="Safari"}function Hd(){const e=wr();return(e==null?void 0:e.name)==="Safari"||(e==null?void 0:e.os)==="iOS"}function N9(){const e=wr();return(e==null?void 0:e.name)==="Safari"&&e.version.startsWith("17.")||(e==null?void 0:e.os)==="iOS"&&!!(e!=null&&e.osVersion)&&_i(e.osVersion,"17")>=0}function L9(e){return e||(e=wr()),(e==null?void 0:e.name)==="Safari"&&_i(e.version,"18.3")>0||(e==null?void 0:e.os)==="iOS"&&!!(e!=null&&e.osVersion)&&_i(e.osVersion,"18.3")>0}function gE(){var e,t;return or()?(t=(e=navigator.userAgentData)===null||e===void 0?void 0:e.mobile)!==null&&t!==void 0?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function D9(){const e=wr(),t="17.2";if(e)return e.name!=="Safari"&&e.os!=="iOS"||e.os==="iOS"&&e.osVersion&&_i(t,e.osVersion)>=0?!0:e.name==="Safari"&&_i(t,e.version)>=0}function or(){return typeof document<"u"}function Ii(){return navigator.product=="ReactNative"}function Mg(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function vE(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function yE(){if(!Ii())return;let e=vE();if(e)return e.platform}function Kk(){if(or())return window.devicePixelRatio;if(Ii()){let e=vE();if(e)return e.devicePixelRatio}return 1}function _i(e,t){const n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length);for(let o=0;o<i;++o){const a=parseInt(n[o],10),c=parseInt(r[o],10);if(a>c)return 1;if(a<c)return-1;if(o===i-1&&a===c)return 0}return e===""&&t!==""?-1:t===""?1:n.length==r.length?0:n.length<r.length?-1:1}function F9(e){for(const t of e)t.target.handleResize(t)}function j9(e){for(const t of e)t.target.handleVisibilityChanged(t)}let gm=null;const Gk=()=>(gm||(gm=new ResizeObserver(F9)),gm);let vm=null;const Yk=()=>(vm||(vm=new IntersectionObserver(j9,{root:null,rootMargin:"0px"})),vm);function U9(){var e;const t=new E7({sdk:CT.JS,protocol:w9,version:x9});return Ii()&&(t.os=(e=yE())!==null&&e!==void 0?e:""),t}function Qk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=document.createElement("canvas");i.width=e,i.height=t;const o=i.getContext("2d");o==null||o.fillRect(0,0,i.width,i.height),r&&o&&(o.beginPath(),o.arc(e/2,t/2,50,0,Math.PI*2,!0),o.closePath(),o.fillStyle="grey",o.fill());const a=i.captureStream(),[c]=a.getTracks();if(!c)throw Error("Could not get empty media stream video track");return c.enabled=n,c}let Ll;function ym(){if(!Ll){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const r=e.createMediaStreamDestination();if(t.connect(n),n.connect(r),t.start(),[Ll]=r.stream.getAudioTracks(),!Ll)throw Error("Could not get empty media stream audio track");Ll.enabled=!1}return Ll.clone()}class ca{get isResolved(){return this._isResolved}constructor(t,n){this._isResolved=!1,this.onFinally=n,this.promise=new Promise((r,i)=>z(this,void 0,void 0,function*(){this.resolve=r,this.reject=i,t&&(yield t(r,i))})).finally(()=>{var r;this._isResolved=!0,(r=this.onFinally)===null||r===void 0||r.call(this)})}}function B9(e){return P9.includes(e)}function Ao(e){if(typeof e=="string"||typeof e=="number")return e;if(Array.isArray(e))return e[0];if(e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function z9(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}function Ag(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function $9(e,t){return e.segments.map(n=>{let{id:r,text:i,language:o,startTime:a,endTime:c,final:u}=n;var d;const p=(d=t.get(r))!==null&&d!==void 0?d:Date.now(),h=Date.now();return u?t.delete(r):t.set(r,p),{id:r,text:i,startTime:Number.parseInt(a.toString()),endTime:Number.parseInt(c.toString()),final:u,language:o,firstReceivedTime:p,lastReceivedTime:h}})}function V9(e){const{id:t,timestamp:n,message:r,editTimestamp:i}=e;return{id:t,timestamp:Number.parseInt(n.toString()),editTimestamp:i?Number.parseInt(i.toString()):void 0,message:r}}function Jk(e){switch(e.reason){case ft.LeaveRequest:return e.context;case ft.Cancelled:return ti.CLIENT_INITIATED;case ft.NotAllowed:return ti.USER_REJECTED;case ft.ServerUnreachable:return ti.JOIN_FAILURE;default:return ti.UNKNOWN_REASON}}function xd(e){return e!==void 0?Number(e):void 0}function os(e){return e!==void 0?BigInt(e):void 0}function ya(e){return!!e&&!(e instanceof MediaStreamTrack)&&e.isLocal}function Ei(e){return!!e&&e.kind==se.Kind.Audio}function ks(e){return!!e&&e.kind==se.Kind.Video}function Po(e){return ya(e)&&ks(e)}function Ki(e){return ya(e)&&Ei(e)}function Ng(e){return!!e&&!e.isLocal}function H9(e){return!!e&&!e.isLocal}function bm(e){return Ng(e)&&ks(e)}function W9(e){return e.isLocal}function q9(e,t){const n=[];let r=new TextEncoder().encode(e);for(;r.length>t;){let i=t;for(;i>0;){const o=r[i];if(o!==void 0&&(o&192)!==128)break;i--}n.push(r.slice(0,i)),r=r.slice(i)}return r.length>0&&n.push(r),n}function bE(e,t,n){var r,i,o,a;const{optionsWithoutProcessor:c,audioProcessor:u,videoProcessor:d}=CE(e??{}),p=t==null?void 0:t.processor,h=n==null?void 0:n.processor,g=c??{};return g.audio===!0&&(g.audio={}),g.video===!0&&(g.video={}),g.audio&&(Lg(g.audio,t),(r=(o=g.audio).deviceId)!==null&&r!==void 0||(o.deviceId={ideal:"default"}),(u||p)&&(g.audio.processor=u??p)),g.video&&(Lg(g.video,n),(i=(a=g.video).deviceId)!==null&&i!==void 0||(a.deviceId={ideal:"default"}),(d||h)&&(g.video.processor=d??h)),g}function Lg(e,t){return Object.keys(t).forEach(n=>{e[n]===void 0&&(e[n]=t[n])}),e}function dy(e){var t,n,r,i;const o={};if(e.video)if(typeof e.video=="object"){const a={},c=a,u=e.video;Object.keys(u).forEach(d=>{switch(d){case"resolution":Lg(c,u.resolution);break;default:c[d]=u[d]}}),o.video=a,(t=(r=o.video).deviceId)!==null&&t!==void 0||(r.deviceId={ideal:"default"})}else o.video=e.video?{deviceId:{ideal:"default"}}:!1;else o.video=!1;return e.audio?typeof e.audio=="object"?(o.audio=e.audio,(n=(i=o.audio).deviceId)!==null&&n!==void 0||(i.deviceId={ideal:"default"})):o.audio={deviceId:{ideal:"default"}}:o.audio=!1,o}function SE(e){return z(this,arguments,void 0,function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return function*(){const r=kE();if(r){const i=r.createAnalyser();i.fftSize=2048;const o=i.frequencyBinCount,a=new Uint8Array(o);r.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])).connect(i),yield ar(n),i.getByteTimeDomainData(a);const u=a.some(d=>d!==128&&d!==0);return r.close(),!u}return!1}()})}function kE(){var e;const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t){const n=new t({latencyHint:"interactive"});if(n.state==="suspended"&&typeof window<"u"&&(!((e=window.document)===null||e===void 0)&&e.body)){const r=()=>z(this,void 0,void 0,function*(){var i;try{n.state==="suspended"&&(yield n.resume())}catch(o){console.warn("Error trying to auto-resume audio context",o)}(i=window.document.body)===null||i===void 0||i.removeEventListener("click",r)});window.document.body.addEventListener("click",r)}return n}}function K9(e){return e==="audioinput"?se.Source.Microphone:e==="videoinput"?se.Source.Camera:se.Source.Unknown}function Dg(e){return e===se.Source.Microphone?"audioinput":e===se.Source.Camera?"videoinput":void 0}function G9(e){var t,n;let r=(t=e.video)!==null&&t!==void 0?t:!0;return e.resolution&&e.resolution.width>0&&e.resolution.height>0&&(r=typeof r=="boolean"?{}:r,ms()?r=Object.assign(Object.assign({},r),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):r=Object.assign(Object.assign({},r),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:(n=e.audio)!==null&&n!==void 0?n:!1,video:r,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio,preferCurrentTab:e.preferCurrentTab}}function wd(e){return e.split("/")[1].toLowerCase()}function Y9(e){const t=[];return e.forEach(n=>{n.track!==void 0&&t.push(new oy({cid:n.track.mediaStreamID,track:n.trackInfo}))}),t}function lt(e){return"mediaStreamTrack"in e?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?lt(e.track):{})}}function Q9(){return typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver}function J9(e,t){var n;e===void 0&&(e={}),t===void 0&&(t={});const r=[...Object.keys(t),...Object.keys(e)],i={};for(const o of r)e[o]!==t[o]&&(i[o]=(n=t[o])!==null&&n!==void 0?n:"");return i}function CE(e){const t=Object.assign({},e);let n,r;return typeof t.audio=="object"&&t.audio.processor&&(n=t.audio.processor,t.audio=Object.assign(Object.assign({},t.audio),{processor:void 0})),typeof t.video=="object"&&t.video.processor&&(r=t.video.processor,t.video=Object.assign(Object.assign({},t.video),{processor:void 0})),{audioProcessor:n,videoProcessor:r,optionsWithoutProcessor:b9(t)}}function X9(e){switch(e){case mn.CAMERA:return se.Source.Camera;case mn.MICROPHONE:return se.Source.Microphone;case mn.SCREEN_SHARE:return se.Source.ScreenShare;case mn.SCREEN_SHARE_AUDIO:return se.Source.ScreenShareAudio;default:return se.Source.Unknown}}function Xk(e,t){return e.width*e.height<t.width*t.height}function Z9(e,t){var n;return(n=e.layers)===null||n===void 0?void 0:n.find(r=>r.quality===t)}class ej extends Ni.EventEmitter{constructor(t){super(),this.onWorkerMessage=n=>{var r,i;const{kind:o,data:a}=n.data;switch(o){case"error":dt.error(a.error.message),this.emit(_o.EncryptionError,a.error);break;case"initAck":a.enabled&&this.keyProvider.getKeys().forEach(c=>{this.postKey(c)});break;case"enable":if(a.enabled&&this.keyProvider.getKeys().forEach(c=>{this.postKey(c)}),this.encryptionEnabled!==a.enabled&&a.participantIdentity===((r=this.room)===null||r===void 0?void 0:r.localParticipant.identity))this.emit(_o.ParticipantEncryptionStatusChanged,a.enabled,this.room.localParticipant),this.encryptionEnabled=a.enabled;else if(a.participantIdentity){const c=(i=this.room)===null||i===void 0?void 0:i.getParticipantByIdentity(a.participantIdentity);if(!c)throw TypeError("couldn't set encryption status, participant not found".concat(a.participantIdentity));this.emit(_o.ParticipantEncryptionStatusChanged,a.enabled,c)}break;case"ratchetKey":this.keyProvider.emit(Mo.KeyRatcheted,a.ratchetResult,a.participantIdentity,a.keyIndex);break}},this.onWorkerError=n=>{dt.error("e2ee worker encountered an error:",{error:n.error}),this.emit(_o.EncryptionError,n.error)},this.keyProvider=t.keyProvider,this.worker=t.worker,this.encryptionEnabled=!1}setup(t){if(!g9())throw new cy("tried to setup end-to-end encryption on an unsupported browser");if(dt.info("setting up e2ee"),t!==this.room){this.room=t,this.setupEventListeners(t,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:e9.getLevel()}};this.worker&&(dt.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(t,n){dt.debug("set e2ee to ".concat(t," for participant ").concat(n)),this.postEnable(t,n)}setSifTrailer(t){!t||t.length===0?dt.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(t)}setupEngine(t){t.on(xe.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(t,n){t.on(oe.TrackPublished,(r,i)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==yr.NONE,i.identity)),t.on(oe.ConnectionStateChanged,r=>{r===Tt.Connected&&t.remoteParticipants.forEach(i=>{i.trackPublications.forEach(o=>{this.setParticipantCryptorEnabled(o.trackInfo.encryption!==yr.NONE,i.identity)})})}).on(oe.TrackUnsubscribed,(r,i,o)=>{var a;const c={kind:"removeTransform",data:{participantIdentity:o.identity,trackId:r.mediaStreamID}};(a=this.worker)===null||a===void 0||a.postMessage(c)}).on(oe.TrackSubscribed,(r,i,o)=>{this.setupE2EEReceiver(r,o.identity,i.trackInfo)}).on(oe.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(r=>{this.postKey(r)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),t.localParticipant.on(ae.LocalSenderCreated,(r,i)=>z(this,void 0,void 0,function*(){this.setupE2EESender(i,r)})),n.on(Mo.SetKey,r=>this.postKey(r)).on(Mo.RatchetRequest,(r,i)=>this.postRatchetRequest(r,i))}postRatchetRequest(t,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:t,keyIndex:n}};this.worker.postMessage(r)}postKey(t){let{key:n,participantIdentity:r,keyIndex:i}=t;var o;if(!this.worker)throw Error("could not set key, worker is missing");const a={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((o=this.room)===null||o===void 0?void 0:o.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(a)}postEnable(t,n){if(this.worker){const r={kind:"enable",data:{enabled:t,participantIdentity:n}};this.worker.postMessage(r)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(t){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(t){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:t}};this.worker.postMessage(n)}setupE2EEReceiver(t,n,r){if(t.receiver){if(!(r!=null&&r.mimeType)||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(t.receiver,t.mediaStreamID,n,t.kind==="video"?wd(r.mimeType):void 0)}}setupE2EESender(t,n){if(!ya(t)||!n){n||dt.warn("early return because sender is not ready");return}this.handleSender(n,t.mediaStreamID,void 0)}handleReceiver(t,n,r,i){return z(this,void 0,void 0,function*(){if(this.worker){if(Tg()){const o={kind:"decode",participantIdentity:r,trackId:n,codec:i};t.transform=new RTCRtpScriptTransform(this.worker,o)}else{if(Al in t&&i){const u={kind:"updateCodec",data:{trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(u);return}let o=t.writableStream,a=t.readableStream;if(!o||!a){const u=t.createEncodedStreams();t.writableStream=u.writable,o=u.writable,t.readableStream=u.readable,a=u.readable}const c={kind:"decode",data:{readableStream:a,writableStream:o,trackId:n,codec:i,participantIdentity:r,isReuse:Al in t}};this.worker.postMessage(c,[a,o])}t[Al]=!0}})}handleSender(t,n,r){var i;if(!(Al in t||!this.worker)){if(!(!((i=this.room)===null||i===void 0)&&i.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(Tg()){dt.info("initialize script transform");const o={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};t.transform=new RTCRtpScriptTransform(this.worker,o)}else{dt.info("initialize encoded streams");const o=t.createEncodedStreams(),a={kind:"encode",data:{readableStream:o.readable,writableStream:o.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(a,[o.readable,o.writable])}t[Al]=!0}}}const Sm="default";class Pn{constructor(){this._previousDevices=[]}static getInstance(){return this.instance===void 0&&(this.instance=new Pn),this.instance}get previousDevices(){return this._previousDevices}getDevices(t){return z(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var o;if(((o=Pn.userMediaPromiseMap)===null||o===void 0?void 0:o.size)>0){dt.debug("awaiting getUserMedia promise");try{n?yield Pn.userMediaPromiseMap.get(n):yield Promise.all(Pn.userMediaPromiseMap.values())}catch{dt.warn("error waiting for media permissons")}}let a=yield navigator.mediaDevices.enumerateDevices();if(i&&!(ms()&&r.hasDeviceInUse(n))&&(a.filter(u=>u.kind===n).length===0||a.some(u=>{const d=u.label==="",p=n?u.kind===n:!0;return d&&p}))){const u={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"&&{deviceId:{ideal:"default"}}},d=yield navigator.mediaDevices.getUserMedia(u);a=yield navigator.mediaDevices.enumerateDevices(),d.getTracks().forEach(p=>{p.stop()})}return r._previousDevices=a,n&&(a=a.filter(c=>c.kind===n)),a}()})}normalizeDeviceId(t,n,r){return z(this,void 0,void 0,function*(){if(n!==Sm)return n;const i=yield this.getDevices(t),o=i.find(c=>c.deviceId===Sm);if(!o){dt.warn("could not reliably determine default device");return}const a=i.find(c=>c.deviceId!==Sm&&c.groupId===(r??o.groupId));if(!a){dt.warn("could not reliably determine default device");return}return a==null?void 0:a.deviceId})}hasDeviceInUse(t){return t?Pn.userMediaPromiseMap.has(t):Pn.userMediaPromiseMap.size>0}}Pn.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];Pn.userMediaPromiseMap=new Map;var Jl;(function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"})(Jl||(Jl={}));class tj{constructor(){this.pendingTasks=new Map,this.taskMutex=new Yn,this.nextTaskIndex=0}run(t){return z(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:Jl.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=Jl.RUNNING,yield t()}finally{n.status=Jl.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return z(this,void 0,void 0,function*(){return this.run(()=>z(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}function nj(e,t){const n=new URL(z9(e));return t.forEach((r,i)=>{n.searchParams.set(i,r)}),xE(n,"rtc")}function rj(e){const t=new URL(Ag(e));return xE(t,"validate")}function ij(e){return e.endsWith("/")?e:"".concat(e,"/")}function xE(e,t){return e.pathname="".concat(ij(e.pathname)).concat(t),e.toString()}const oj=["syncState","trickle","offer","answer","simulate","leave"];function sj(e){const t=oj.indexOf(e.case)>=0;return dt.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}var Kt;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"})(Kt||(Kt={}));class fy{get currentState(){return this.state}get isDisconnected(){return this.state===Kt.DISCONNECTING||this.state===Kt.DISCONNECTED}get isEstablishingConnection(){return this.state===Kt.CONNECTING||this.state===Kt.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;this.rtt=0,this.state=Kt.DISCONNECTED,this.log=dt,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.log=no((r=n.loggerName)!==null&&r!==void 0?r:ii.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=t,this.requestQueue=new tj,this.queuedRequests=[],this.closingLock=new Yn,this.connectionLock=new Yn,this.state=Kt.DISCONNECTED}get logContext(){var t,n;return(n=(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this))!==null&&n!==void 0?n:{}}join(t,n,r,i){return z(this,void 0,void 0,function*(){return this.state=Kt.CONNECTING,this.options=r,yield this.connect(t,n,r,i)})}reconnect(t,n,r,i){return z(this,void 0,void 0,function*(){if(!this.options){this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);return}return this.state=Kt.RECONNECTING,this.clearPingInterval(),yield this.connect(t,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:i}))})}connect(t,n,r,i){this.connectOptions=r;const o=U9(),a=aj(n,o,r),c=nj(t,a),u=rj(c);return new Promise((d,p)=>z(this,void 0,void 0,function*(){const h=yield this.connectionLock.lock();try{const g=()=>z(this,void 0,void 0,function*(){this.close(),clearTimeout(v),p(new Bt("room connection has been cancelled (signal)",ft.Cancelled))}),v=setTimeout(()=>{this.close(),p(new Bt("room connection has timed out (signal)",ft.ServerUnreachable))},r.websocketTimeout);i!=null&&i.aborted&&g(),i==null||i.addEventListener("abort",g);const S=new URL(c);S.searchParams.has("access_token")&&S.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(S),Object.assign({reconnect:r.reconnect,reconnectReason:r.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new WebSocket(c),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(v)},this.ws.onerror=b=>z(this,void 0,void 0,function*(){if(this.state!==Kt.CONNECTED){this.state=Kt.DISCONNECTED,clearTimeout(v);try{const x=yield fetch(u);if(x.status.toFixed(0).startsWith("4")){const C=yield x.text();p(new Bt(C,ft.NotAllowed,x.status))}else p(new Bt("Encountered unknown websocket error during connection: ".concat(b.toString()),ft.InternalError,x.status))}catch(x){p(new Bt(x instanceof Error?x.message:"server was not reachable",ft.ServerUnreachable))}return}this.handleWSError(b)}),this.ws.onmessage=b=>z(this,void 0,void 0,function*(){var x,C,O;let R;if(typeof b.data=="string"){const P=JSON.parse(b.data);R=Ik.fromJson(P,{ignoreUnknownFields:!0})}else if(b.data instanceof ArrayBuffer)R=Ik.fromBinary(new Uint8Array(b.data));else{this.log.error("could not decode websocket message: ".concat(typeof b.data),this.logContext);return}if(this.state!==Kt.CONNECTED){let P=!1;if(((x=R.message)===null||x===void 0?void 0:x.case)==="join"?(this.state=Kt.CONNECTED,i==null||i.removeEventListener("abort",g),this.pingTimeoutDuration=R.message.value.pingTimeout,this.pingIntervalDuration=R.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})),this.startPingInterval()),d(R.message.value)):this.state===Kt.RECONNECTING&&R.message.case!=="leave"?(this.state=Kt.CONNECTED,i==null||i.removeEventListener("abort",g),this.startPingInterval(),((C=R.message)===null||C===void 0?void 0:C.case)==="reconnect"?d(R.message.value):(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),d(void 0),P=!0)):this.isEstablishingConnection&&R.message.case==="leave"?p(new Bt("Received leave request while trying to (re)connect",ft.LeaveRequest,void 0,R.message.value.reason)):r.reconnect||p(new Bt("did not receive join response, got ".concat((O=R.message)===null||O===void 0?void 0:O.case," instead"),ft.InternalError)),!P)return}this.signalLatency&&(yield ar(this.signalLatency)),this.handleSignalResponse(R)}),this.ws.onclose=b=>{this.isEstablishingConnection&&p(new Bt("Websocket got closed during a (re)connection attempt",ft.InternalError)),this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:b.reason,code:b.code,wasClean:b.wasClean,state:this.state})),this.handleOnClose(b.reason)}}finally{h()}}))}close(){return z(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){const r=yield t.closingLock.lock();try{if(t.clearPingInterval(),n&&(t.state=Kt.DISCONNECTING),t.ws){t.ws.onmessage=null,t.ws.onopen=null,t.ws.onclose=null;const i=new Promise(o=>{t.ws?t.ws.onclose=()=>{o()}:o()});t.ws.readyState<t.ws.CLOSING&&(t.ws.close(),yield Promise.race([i,ar(250)])),t.ws=void 0}}finally{n&&(t.state=Kt.DISCONNECTED),r()}}()})}sendOffer(t,n){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:t.sdp})),this.sendRequest({case:"offer",value:Wd(t,n)})}sendAnswer(t,n){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:t.sdp})),this.sendRequest({case:"answer",value:Wd(t,n)})}sendIceCandidate(t,n){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:t})),this.sendRequest({case:"trickle",value:new ry({candidateInit:JSON.stringify(t),target:n})})}sendMuteTrack(t,n){return this.sendRequest({case:"mute",value:new iy({sid:t,muted:n})})}sendAddTrack(t){return this.sendRequest({case:"addTrack",value:t})}sendUpdateLocalMetadata(t,n){return z(this,arguments,void 0,function(r,i){var o=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){const c=o.getNextRequestId();return yield o.sendRequest({case:"updateMetadata",value:new _T({requestId:c,metadata:r,name:i,attributes:a})}),c}()})}sendUpdateTrackSettings(t){this.sendRequest({case:"trackSetting",value:t})}sendUpdateSubscription(t){return this.sendRequest({case:"subscription",value:t})}sendSyncState(t){return this.sendRequest({case:"syncState",value:t})}sendUpdateVideoLayers(t,n){return this.sendRequest({case:"updateLayers",value:new IT({trackSid:t,layers:n})})}sendUpdateSubscriptionPermissions(t,n){return this.sendRequest({case:"subscriptionPermission",value:new AT({allParticipants:t,trackPermissions:n})})}sendSimulateScenario(t){return this.sendRequest({case:"simulate",value:t})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:Xt.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new FT({timestamp:Xt.parse(Date.now()),rtt:Xt.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(t,n){return this.sendRequest({case:"updateAudioTrack",value:new RT({trackSid:t,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new Mf({reason:ti.CLIENT_INITIATED,action:ma.DISCONNECT})})}sendRequest(t){return z(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function*(){if(!i&&!sj(n)&&r.state===Kt.RECONNECTING){r.queuedRequests.push(()=>z(r,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));return}if(i||(yield r.requestQueue.flush()),r.signalLatency&&(yield ar(r.signalLatency)),r.isDisconnected){r.log.debug("skipping signal request (type: ".concat(n.case,") - SignalClient disconnected"));return}if(!r.ws||r.ws.readyState!==r.ws.OPEN){r.log.error("cannot send signal request before connected, type: ".concat(n==null?void 0:n.case),r.logContext);return}const a=new I7({message:n});try{r.useJSON?r.ws.send(a.toJsonString()):r.ws.send(a.toBinary())}catch(c){r.log.error("error sending signal message",Object.assign(Object.assign({},r.logContext),{error:c}))}}()})}handleSignalResponse(t){var n,r;const i=t.message;if(i==null){this.log.debug("received unsupported message",this.logContext);return}let o=!1;if(i.case==="answer"){const a=Zk(i.value);this.onAnswer&&this.onAnswer(a,i.value.id)}else if(i.case==="offer"){const a=Zk(i.value);this.onOffer&&this.onOffer(a,i.value.id)}else if(i.case==="trickle"){const a=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(a,i.value.target)}else i.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=i.value.participants)!==null&&n!==void 0?n:[]):i.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):i.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=i.value.speakers)!==null&&r!==void 0?r:[]):i.case==="leave"?this.onLeave&&this.onLeave(i.value):i.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):i.case==="roomUpdate"?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):i.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(i.value):i.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):i.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):i.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):i.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(i.value):i.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):i.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(i.value):i.case==="pong"||(i.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),o=!0):i.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(i.value):i.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(i.value.trackSid):i.case==="roomMoved"?(this.onTokenRefresh&&this.onTokenRefresh(i.value.token),this.onRoomMoved&&this.onRoomMoved(i.value)):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:i.case})));o||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const t=this.queuedRequests.shift();t&&this.requestQueue.run(t)}}handleOnClose(t){return z(this,void 0,void 0,function*(){if(this.state===Kt.DISCONNECTED)return;const n=this.onClose;yield this.close(),this.log.debug("websocket connection closed: ".concat(t),Object.assign(Object.assign({},this.logContext),{reason:t})),n&&n(t)})}handleWSError(t){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:t}))}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){this.log.warn("ping timeout duration not set",this.logContext);return}this.pingTimeout=Nn.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&Nn.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){this.log.warn("ping interval duration not set",this.logContext);return}this.log.debug("start ping interval",this.logContext),this.pingInterval=Nn.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&Nn.clearInterval(this.pingInterval)}}function Zk(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type;break}return t}function Wd(e,t){return new hs({sdp:e.sdp,type:e.type,id:t})}function aj(e,t,n){var r;const i=new URLSearchParams;return i.set("access_token",e),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",Ii()?"reactnative":"js"),i.set("version",t.version),i.set("protocol",t.protocol.toString()),t.deviceModel&&i.set("device_model",t.deviceModel),t.os&&i.set("os",t.os),t.osVersion&&i.set("os_version",t.osVersion),t.browser&&i.set("browser",t.browser),t.browserVersion&&i.set("browser_version",t.browserVersion),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),!((r=navigator.connection)===null||r===void 0)&&r.type&&i.set("network",navigator.connection.type),i}class eC{constructor(){this.buffer=[],this._totalSize=0}push(t){this.buffer.push(t),this._totalSize+=t.data.byteLength}pop(){const t=this.buffer.shift();return t&&(this._totalSize-=t.data.byteLength),t}getAll(){return this.buffer.slice()}popToSequence(t){for(;this.buffer.length>0&&this.buffer[0].sequence<=t;)this.pop()}alignBufferedAmount(t){for(;this.buffer.length>0;){const n=this.buffer[0];if(this._totalSize-n.data.byteLength<=t)break;this.pop()}}get length(){return this.buffer.length}}class lj{constructor(t){this._map=new Map,this._lastCleanup=0,this.ttl=t}set(t,n){const r=Date.now();r-this._lastCleanup>this.ttl/2&&this.cleanup();const i=r+this.ttl;return this._map.set(t,{value:n,expiresAt:i}),this}get(t){const n=this._map.get(t);if(n){if(n.expiresAt<Date.now()){this._map.delete(t);return}return n.value}}has(t){const n=this._map.get(t);return n?n.expiresAt<Date.now()?(this._map.delete(t),!1):!0:!1}delete(t){return this._map.delete(t)}clear(){this._map.clear()}cleanup(){const t=Date.now();for(const[n,r]of this._map.entries())r.expiresAt<t&&this._map.delete(n);this._lastCleanup=t}get size(){return this.cleanup(),this._map.size}forEach(t){this.cleanup();for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&t(r.value,n,this.asValueMap())}map(t){this.cleanup();const n=[],r=this.asValueMap();for(const[i,o]of r.entries())n.push(t(o,i,r));return n}asValueMap(){const t=new Map;for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&t.set(n,r.value);return t}}var Yr={},km={},Cm={exports:{}},tC;function py(){if(tC)return Cm.exports;tC=1;var e=Cm.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=t.raddr!=null?" raddr %s rport %d":"%v%v",n+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(n+=" generation %d"),n+=t["network-id"]!=null?" network-id %d":"%v",n+=t["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return t.attribute!=null&&(n+=" %s",t.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=t.id!=null?"id=%s %s":"%v%s",n+=t.mediaClockValue!=null?"=%s":"",n+=t.rateNumerator!=null?" rate=%s":"",n+=t.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var n=e[t];n.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})}),Cm.exports}var nC;function cj(){return nC||(nC=1,function(e){var t=function(c){return String(Number(c))===c?Number(c):c},n=function(c,u,d,p){if(p&&!d)u[p]=t(c[1]);else for(var h=0;h<d.length;h+=1)c[h+1]!=null&&(u[d[h]]=t(c[h+1]))},r=function(c,u,d){var p=c.name&&c.names;c.push&&!u[c.push]?u[c.push]=[]:p&&!u[c.name]&&(u[c.name]={});var h=c.push?{}:p?u[c.name]:u;n(d.match(c.reg),h,c.names,c.name),c.push&&u[c.push].push(h)},i=py(),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(c){var u={},d=[],p=u;return c.split(/(\r\n|\r|\n)/).filter(o).forEach(function(h){var g=h[0],v=h.slice(2);g==="m"&&(d.push({rtp:[],fmtp:[]}),p=d[d.length-1]);for(var S=0;S<(i[g]||[]).length;S+=1){var b=i[g][S];if(b.reg.test(v))return r(b,p,v)}}),u.media=d,u};var a=function(c,u){var d=u.split(/=(.+)/,2);return d.length===2?c[d[0]]=t(d[1]):d.length===1&&u.length>1&&(c[d[0]]=void 0),c};e.parseParams=function(c){return c.split(/;\s?/).reduce(a,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(c){return c.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(c){for(var u=[],d=c.split(" ").map(t),p=0;p<d.length;p+=3)u.push({component:d[p],ip:d[p+1],port:d[p+2]});return u},e.parseImageAttributes=function(c){return c.split(" ").map(function(u){return u.substring(1,u.length-1).split(",").reduce(a,{})})},e.parseSimulcastStreamList=function(c){return c.split(";").map(function(u){return u.split(",").map(function(d){var p,h=!1;return d[0]!=="~"?p=t(d):(p=t(d.substring(1,d.length)),h=!0),{scid:p,paused:h}})})}}(km)),km}var xm,rC;function uj(){if(rC)return xm;rC=1;var e=py(),t=/%[sdv%]/g,n=function(a){var c=1,u=arguments,d=u.length;return a.replace(t,function(p){if(c>=d)return p;var h=u[c];switch(c+=1,p){case"%%":return"%";case"%s":return String(h);case"%d":return Number(h);case"%v":return""}})},r=function(a,c,u){var d=c.format instanceof Function?c.format(c.push?u:u[c.name]):c.format,p=[a+"="+d];if(c.names)for(var h=0;h<c.names.length;h+=1){var g=c.names[h];c.name?p.push(u[c.name][g]):p.push(u[c.names[h]])}else p.push(u[c.name]);return n.apply(null,p)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],o=["i","c","b","a"];return xm=function(a,c){c=c||{},a.version==null&&(a.version=0),a.name==null&&(a.name=" "),a.media.forEach(function(h){h.payloads==null&&(h.payloads="")});var u=c.outerOrder||i,d=c.innerOrder||o,p=[];return u.forEach(function(h){e[h].forEach(function(g){g.name in a&&a[g.name]!=null?p.push(r(h,g,a)):g.push in a&&a[g.push]!=null&&a[g.push].forEach(function(v){p.push(r(h,g,v))})})}),a.media.forEach(function(h){p.push(r("m",e.m[0],h)),d.forEach(function(g){e[g].forEach(function(v){v.name in h&&h[v.name]!=null?p.push(r(g,v,h)):v.push in h&&h[v.push]!=null&&h[v.push].forEach(function(S){p.push(r(g,v,S))})})})}),p.join(`\r
`)+`\r
`},xm}var iC;function dj(){if(iC)return Yr;iC=1;var e=cj(),t=uj(),n=py();return Yr.grammar=n,Yr.write=t,Yr.parse=e.parse,Yr.parseParams=e.parseParams,Yr.parseFmtpConfig=e.parseFmtpConfig,Yr.parsePayloads=e.parsePayloads,Yr.parseRemoteCandidates=e.parseRemoteCandidates,Yr.parseImageAttributes=e.parseImageAttributes,Yr.parseSimulcastStreamList=e.parseSimulcastStreamList,Yr}var Ro=dj();function hy(e,t,n){var r,i,o;t===void 0&&(t=50),n===void 0&&(n={});var a=(r=n.isImmediate)!=null&&r,c=(i=n.callback)!=null&&i,u=n.maxWait,d=Date.now(),p=[];function h(){if(u!==void 0){var v=Date.now()-d;if(v+t>=u)return u-v}return t}var g=function(){var v=[].slice.call(arguments),S=this;return new Promise(function(b,x){var C=a&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,d=Date.now(),!a){var R=e.apply(S,v);c&&c(R),p.forEach(function(P){return(0,P.resolve)(R)}),p=[]}},h()),C){var O=e.apply(S,v);return c&&c(O),b(O)}p.push({resolve:b,reject:x})})};return g.cancel=function(v){o!==void 0&&clearTimeout(o),p.forEach(function(S){return(0,S.reject)(v)}),p=[]},g}const fj=.7,pj=20,ba={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class oC extends Ni.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;super(),this.log=dt,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=hy(i=>z(this,void 0,void 0,function*(){this.emit(ba.NegotiationStarted);try{yield this.createAndSendOffer()}catch(o){if(i)i(o);else throw o}}),pj),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=no((r=n.loggerName)!==null&&r!==void 0?r:ii.PCTransport),this.loggerOptions=n,this.config=t,this._pc=this.createPC(),this.offerLock=new Yn}createPC(){const t=new RTCPeerConnection(this.config);return t.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},t.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},t.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,t.iceConnectionState)},t.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,t.signalingState)},t.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,t.connectionState)},t.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},t.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},t}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(t){return z(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(t);this.pendingCandidates.push(t)})}setRemoteDescription(t,n){return z(this,void 0,void 0,function*(){var r;if(t.type==="answer"&&this.latestOfferId>0&&n>0&&n!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:n,latestOfferId:this.latestOfferId})),!1;let i;if(t.type==="offer"){let{stereoMids:o,nackMids:a}=hj(t);this.remoteStereoMids=o,this.remoteNackMids=a}else if(t.type==="answer"){const o=Ro.parse((r=t.sdp)!==null&&r!==void 0?r:"");o.media.forEach(a=>{a.type==="audio"&&this.trackBitrates.some(c=>{if(!c.transceiver||a.mid!=c.transceiver.mid)return!1;let u=0;if(a.rtp.some(p=>p.codec.toUpperCase()===c.codec.toUpperCase()?(u=p.payload,!0):!1),u===0)return!0;let d=!1;for(const p of a.fmtp)if(p.payload===u){p.config=p.config.split(";").filter(h=>!h.includes("maxaveragebitrate")).join(";"),c.maxbr>0&&(p.config+=";maxaveragebitrate=".concat(c.maxbr*1e3)),d=!0;break}return d||c.maxbr>0&&a.fmtp.push({payload:u,config:"maxaveragebitrate=".concat(c.maxbr*1e3)}),!0})}),i=Ro.write(o)}return yield this.setMungedSDP(t,i,!0),this.pendingCandidates.forEach(o=>{this.pc.addIceCandidate(o)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):t.type==="answer"&&(this.emit(ba.NegotiationComplete),t.sdp&&Ro.parse(t.sdp).media.forEach(a=>{a.type==="video"&&this.emit(ba.RTPVideoPayloadTypes,a.rtp)})),!0})}createAndSendOffer(t){return z(this,void 0,void 0,function*(){var n;const r=yield this.offerLock.lock();try{if(this.onOffer===void 0)return;if(t!=null&&t.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const c=this._pc.remoteDescription;if(t!=null&&t.iceRestart&&c)yield this._pc.setRemoteDescription(c);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){this.log.warn("could not createOffer with closed peer connection",this.logContext);return}this.log.debug("starting to negotiate",this.logContext);const i=this.latestOfferId+1;this.latestOfferId=i;const o=yield this.pc.createOffer(t);this.log.debug("original offer",Object.assign({sdp:o.sdp},this.logContext));const a=Ro.parse((n=o.sdp)!==null&&n!==void 0?n:"");if(a.media.forEach(c=>{aC(c),c.type==="audio"?sC(c,[],[]):c.type==="video"&&this.trackBitrates.some(u=>{if(!c.msid||!u.cid||!c.msid.includes(u.cid))return!1;let d=0;if(c.rtp.some(h=>h.codec.toUpperCase()===u.codec.toUpperCase()?(d=h.payload,!0):!1),d===0||(Ci(u.codec)&&!ms()&&this.ensureVideoDDExtensionForSVC(c,a),u.codec!=="av1"))return!0;const p=Math.round(u.maxbr*fj);for(const h of c.fmtp)if(h.payload===d){h.config.includes("x-google-start-bitrate")||(h.config+=";x-google-start-bitrate=".concat(p));break}return!0})}),this.latestOfferId>i){this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:i}));return}yield this.setMungedSDP(o,Ro.write(a)),this.onOffer(o,this.latestOfferId)}finally{r()}})}createAndSetAnswer(){return z(this,void 0,void 0,function*(){var t;const n=yield this.pc.createAnswer(),r=Ro.parse((t=n.sdp)!==null&&t!==void 0?t:"");return r.media.forEach(i=>{aC(i),i.type==="audio"&&sC(i,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,Ro.write(r)),n})}createDataChannel(t,n){return this.pc.createDataChannel(t,n)}addTransceiver(t,n){return this.pc.addTransceiver(t,n)}addTrack(t){if(!this._pc)throw new Sn("PC closed, cannot add track");return this._pc.addTrack(t)}setTrackCodecBitrate(t){this.trackBitrates.push(t)}setConfiguration(t){var n;if(!this._pc)throw new Sn("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(t)}canRemoveTrack(){var t;return!!(!((t=this._pc)===null||t===void 0)&&t.removeTrack)}removeTrack(t){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(t)}getConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var t;return(t=this._pc)===null||t===void 0?void 0:t.localDescription}getRemoteDescription(){var t;return(t=this.pc)===null||t===void 0?void 0:t.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return z(this,void 0,void 0,function*(){var t;if(!this._pc)return;let n="";const r=new Map,i=new Map;if((yield this._pc.getStats()).forEach(c=>{switch(c.type){case"transport":n=c.selectedCandidatePairId;break;case"candidate-pair":n===""&&c.selected&&(n=c.id),r.set(c.id,c);break;case"remote-candidate":i.set(c.id,"".concat(c.address,":").concat(c.port));break}}),n==="")return;const a=(t=r.get(n))===null||t===void 0?void 0:t.remoteCandidateId;if(a!==void 0)return i.get(a)})}setMungedSDP(t,n,r){return z(this,void 0,void 0,function*(){if(n){const i=t.sdp;t.sdp=n;try{this.log.debug("setting munged ".concat(r?"remote":"local"," description"),this.logContext),r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t);return}catch(o){this.log.warn("not able to set ".concat(t.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:o,sdp:n})),t.sdp=i}}try{r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t)}catch(i){let o="unknown error";i instanceof Error?o=i.message:typeof i=="string"&&(o=i);const a={error:o,sdp:t.sdp};throw!r&&this.pc.remoteDescription&&(a.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(t.type),Object.assign(Object.assign({},this.logContext),{fields:a})),new Eg(o)}})}ensureVideoDDExtensionForSVC(t,n){var r,i;if(!((r=t.ext)===null||r===void 0?void 0:r.some(a=>a.uri===qk))){if(this.ddExtID===0){let a=0;n.media.forEach(c=>{var u;c.type==="video"&&((u=c.ext)===null||u===void 0||u.forEach(d=>{d.value>a&&(a=d.value)}))}),this.ddExtID=a+1}(i=t.ext)===null||i===void 0||i.push({value:this.ddExtID,uri:qk})}}}function sC(e,t,n){let r=0;e.rtp.some(i=>i.codec==="opus"?(r=i.payload,!0):!1),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(e.mid)&&!e.rtcpFb.some(i=>i.payload===r&&i.type==="nack")&&e.rtcpFb.push({payload:r,type:"nack"}),t.includes(e.mid)&&e.fmtp.some(i=>i.payload===r?(i.config.includes("stereo=1")||(i.config+=";stereo=1"),!0):!1))}function hj(e){var t;const n=[],r=[],i=Ro.parse((t=e.sdp)!==null&&t!==void 0?t:"");let o=0;return i.media.forEach(a=>{var c;a.type==="audio"&&(a.rtp.some(u=>u.codec==="opus"?(o=u.payload,!0):!1),!((c=a.rtcpFb)===null||c===void 0)&&c.some(u=>u.payload===o&&u.type==="nack")&&r.push(a.mid),a.fmtp.some(u=>u.payload===o?(u.config.includes("sprop-stereo=1")&&n.push(a.mid),!0):!1))}),{stereoMids:n,nackMids:r}}function aC(e){if(e.connection){const t=e.connection.ip.indexOf(":")>=0;(e.connection.version===4&&t||e.connection.version===6&&!t)&&(e.connection.ip="0.0.0.0",e.connection.version=4)}}const Fg="vp8",mj={audioPreset:Pg.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:uy.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:Fg,backupCodec:!0,preConnectBuffer:!1},wE={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},TE={deviceId:{ideal:"default"},resolution:cc.h720.resolution},gj={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new n9,disconnectOnPageLeave:!0,webAudioMix:!1},my={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var sn;(function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"})(sn||(sn={}));class vj{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(t,n,r){var i;this.peerConnectionTimeout=my.peerConnectionTimeout,this.log=dt,this.updateState=()=>{var o;const a=this.state,c=this.requiredTransports.map(u=>u.getConnectionState());c.every(u=>u==="connected")?this.state=sn.CONNECTED:c.some(u=>u==="failed")?this.state=sn.FAILED:c.some(u=>u==="connecting")?this.state=sn.CONNECTING:c.every(u=>u==="closed")?this.state=sn.CLOSED:c.some(u=>u==="closed")?this.state=sn.CLOSING:c.every(u=>u==="new")&&(this.state=sn.NEW),a!==this.state&&(this.log.debug("pc state change: from ".concat(sn[a]," to ").concat(sn[this.state]),this.logContext),(o=this.onStateChange)===null||o===void 0||o.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.log=no((i=r.loggerName)!==null&&i!==void 0?i:ii.PCManager),this.loggerOptions=r,this.isPublisherConnectionRequired=!n,this.isSubscriberConnectionRequired=n,this.publisher=new oC(t,r),this.subscriber=new oC(t,r),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=o=>{var a;(a=this.onIceCandidate)===null||a===void 0||a.call(this,o,Zr.PUBLISHER)},this.subscriber.onIceCandidate=o=>{var a;(a=this.onIceCandidate)===null||a===void 0||a.call(this,o,Zr.SUBSCRIBER)},this.subscriber.onDataChannel=o=>{var a;(a=this.onDataChannel)===null||a===void 0||a.call(this,o)},this.subscriber.onTrack=o=>{var a;(a=this.onTrack)===null||a===void 0||a.call(this,o)},this.publisher.onOffer=(o,a)=>{var c;(c=this.onPublisherOffer)===null||c===void 0||c.call(this,o,a)},this.state=sn.NEW,this.connectionLock=new Yn,this.remoteOfferLock=new Yn}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}requirePublisher(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=t,this.updateState()}requireSubscriber(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSubscriberConnectionRequired=t,this.updateState()}createAndSendPublisherOffer(t){return this.publisher.createAndSendOffer(t)}setPublisherAnswer(t,n){return this.publisher.setRemoteDescription(t,n)}removeTrack(t){return this.publisher.removeTrack(t)}close(){return z(this,void 0,void 0,function*(){if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const t=this.publisher;for(const n of t.getSenders())try{t.canRemoveTrack()&&t.removeTrack(n)}catch(r){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:r}))}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()})}triggerIceRestart(){return z(this,void 0,void 0,function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(t,n){return z(this,void 0,void 0,function*(){n===Zr.PUBLISHER?yield this.publisher.addIceCandidate(t):yield this.subscriber.addIceCandidate(t)})}createSubscriberAnswerFromOffer(t,n){return z(this,void 0,void 0,function*(){this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,signalingState:this.subscriber.getSignallingState().toString()}));const r=yield this.remoteOfferLock.lock();try{return(yield this.subscriber.setRemoteDescription(t,n))?yield this.subscriber.createAndSetAnswer():void 0}finally{r()}})}updateConfiguration(t,n){this.publisher.setConfiguration(t),this.subscriber.setConfiguration(t),n&&this.triggerIceRestart()}ensurePCTransportConnection(t,n){return z(this,void 0,void 0,function*(){var r;const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(o=>this.ensureTransportConnected(o,t,n)))}finally{i()}})}negotiate(t){return z(this,void 0,void 0,function*(){return new Promise((n,r)=>z(this,void 0,void 0,function*(){const i=setTimeout(()=>{r("negotiation timed out")},this.peerConnectionTimeout),o=()=>{clearTimeout(i),r("negotiation aborted")};t.signal.addEventListener("abort",o),this.publisher.once(ba.NegotiationStarted,()=>{t.signal.aborted||this.publisher.once(ba.NegotiationComplete,()=>{clearTimeout(i),n()})}),yield this.publisher.negotiate(a=>{clearTimeout(i),r(a)})}))})}addPublisherTransceiver(t,n){return this.publisher.addTransceiver(t,n)}addPublisherTrack(t){return this.publisher.addTrack(t)}createPublisherDataChannel(t,n){return this.publisher.createDataChannel(t,n)}getConnectedAddress(t){return t===Zr.PUBLISHER?this.publisher.getConnectedAddress():t===Zr.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const t=[];return this.isPublisherConnectionRequired&&t.push(this.publisher),this.isSubscriberConnectionRequired&&t.push(this.subscriber),t}ensureTransportConnected(t,n){return z(this,arguments,void 0,function(r,i){var o=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return function*(){if(r.getConnectionState()!=="connected")return new Promise((u,d)=>z(o,void 0,void 0,function*(){const p=()=>{this.log.warn("abort transport connection",this.logContext),Nn.clearTimeout(h),d(new Bt("room connection has been cancelled",ft.Cancelled))};i!=null&&i.signal.aborted&&p(),i==null||i.signal.addEventListener("abort",p);const h=Nn.setTimeout(()=>{i==null||i.signal.removeEventListener("abort",p),d(new Bt("could not establish pc connection",ft.InternalError))},a);for(;this.state!==sn.CONNECTED;)if(yield ar(50),i!=null&&i.signal.aborted){d(new Bt("room connection has been cancelled",ft.Cancelled));return}Nn.clearTimeout(h),i==null||i.signal.removeEventListener("abort",p),u()}))}()})}}class ln extends Error{constructor(t,n,r){super(n),this.code=t,this.message=lC(n,ln.MAX_MESSAGE_BYTES),this.data=r?lC(r,ln.MAX_DATA_BYTES):void 0}static fromProto(t){return new ln(t.code,t.message,t.data)}toProto(){return new yT({code:this.code,message:this.message,data:this.data})}static builtIn(t,n){return new ln(ln.ErrorCode[t],ln.ErrorMessage[t],n)}}ln.MAX_MESSAGE_BYTES=256;ln.MAX_DATA_BYTES=15360;ln.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404};ln.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};const EE=15360;function gy(e){return new TextEncoder().encode(e).length}function lC(e,t){if(gy(e)<=t)return e;let n=0,r=e.length;const i=new TextEncoder;for(;n<r;){const o=Math.floor((n+r+1)/2);i.encode(e.slice(0,o)).length<=t?n=o:r=o-1}return e.slice(0,n)}const vy=2e3;function Nf(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),n===void 0||r===void 0||e.timestamp===void 0||t.timestamp===void 0?0:(n-r)*8*1e3/(e.timestamp-t.timestamp)}const yy=typeof MediaRecorder<"u";class yj{constructor(){throw new Error("MediaRecorder is not available in this environment")}}const bj=yy?MediaRecorder:yj;class Sj extends bj{constructor(t,n){if(!yy)throw new Error("MediaRecorder is not available in this environment");super(new MediaStream([t.mediaStreamTrack]),n);let r,i;const o=()=>i===void 0,a=()=>{this.removeEventListener("dataavailable",r),this.removeEventListener("stop",a),this.removeEventListener("error",c),i==null||i.close(),i=void 0},c=u=>{i==null||i.error(u),this.removeEventListener("dataavailable",r),this.removeEventListener("stop",a),this.removeEventListener("error",c),i=void 0};this.byteStream=new ReadableStream({start:u=>{i=u,r=d=>z(this,void 0,void 0,function*(){let p;if(d.data.arrayBuffer){const h=yield d.data.arrayBuffer();p=new Uint8Array(h)}else if(d.data.byteArray)p=d.data.byteArray;else throw new Error("no data available!");o()||u.enqueue(p)}),this.addEventListener("dataavailable",r)},cancel:()=>{a()}}),this.addEventListener("stop",a),this.addEventListener("error",c)}}function kj(){return yy}const Cj=1e3,xj=1e4;class PE extends se{get sender(){return this._sender}set sender(t){this._sender=t}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4?arguments[4]:void 0;super(t,n,o),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=hy(()=>z(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>z(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(Se.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new Yn,this.pauseUpstreamLock=new Yn,this.processorLock=new Yn,this.restartLock=new Yn,this.setMediaStreamTrack(t,!0),this._constraints=t.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==se.Kind.Video)return;const{width:t,height:n}=this._mediaStreamTrack.getSettings();if(t&&n)return{width:t,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var t,n;return(n=(t=this.processor)===null||t===void 0?void 0:t.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(t,n){return z(this,void 0,void 0,function*(){var r;if(t===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(o=>{va(this._mediaStreamTrack,o)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([t]),t&&(t.addEventListener("ended",this.handleEnded),t.addEventListener("mute",this.handleTrackMuteEvent),t.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=t.getConstraints());let i;if(this.processor&&t){const o=yield this.processorLock.lock();try{if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(la(t,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:t,kind:this.kind,element:this.processorElement}),i=this.processor.processedTrack}finally{o()}}this.sender&&((r=this.sender.transport)===null||r===void 0?void 0:r.state)!=="closed"&&(yield this.sender.replaceTrack(i??t)),!this.providedByUser&&this._mediaStreamTrack!==t&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=t,t&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(o=>{la(i??t,o)}))})}waitForDimensions(){return z(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cj;return function*(){var r;if(t.kind===se.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((r=wr())===null||r===void 0?void 0:r.os)==="iOS"&&(yield ar(10));const i=Date.now();for(;Date.now()-i<n;){const o=t.dimensions;if(o)return o;yield ar(50)}throw new Xi("unable to get track dimensions after timeout")}()})}setDeviceId(t){return z(this,void 0,void 0,function*(){return this._constraints.deviceId===t&&this._mediaStreamTrack.getSettings().deviceId===Ao(t)||(this._constraints.deviceId=t,this.isMuted)?!0:(yield this.restartTrack(),Ao(t)===this._mediaStreamTrack.getSettings().deviceId)})}getDeviceId(){return z(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){if(t.source===se.Source.ScreenShare)return;const{deviceId:r,groupId:i}=t._mediaStreamTrack.getSettings(),o=t.kind===se.Kind.Audio?"audioinput":"videoinput";return n?Pn.getInstance().normalizeDeviceId(o,r,i):r}()})}mute(){return z(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return z(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(t,n){return z(this,void 0,void 0,function*(){if(!this.sender)throw new Xi("unable to replace an unpublished track");let r,i;return typeof n=="boolean"?r=n:n!==void 0&&(r=n.userProvidedTrack,i=n.stopProcessor),this.providedByUser=r??!0,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(t),i&&this.processor&&(yield this.stopProcessor()),this})}restart(t){return z(this,void 0,void 0,function*(){this.manuallyStopped=!1;const n=yield this.restartLock.lock();try{t||(t=this._constraints);const{deviceId:r,facingMode:i}=t,o=r9(t,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:t}));const a={audio:!1,video:!1};this.kind===se.Kind.Video?a.video=r||i?{deviceId:r,facingMode:i}:!0:a.audio=r?{deviceId:r}:!0,this.attachedElements.forEach(d=>{va(this.mediaStreamTrack,d)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const u=(yield navigator.mediaDevices.getUserMedia(a)).getTracks()[0];return yield u.applyConstraints(o),u.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(u),this._constraints=t,this.emit(Se.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(t){this.log.debug("setting ".concat(this.kind," track ").concat(t?"muted":"unmuted"),this.logContext),!(this.isMuted===t&&this._mediaStreamTrack.enabled!==t)&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?Se.Muted:Se.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return z(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),gE()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var t;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(t=this.processor)===null||t===void 0||t.destroy(),this.processor=void 0}pauseUpstream(){return z(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){this.log.warn("unable to pause upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!0,this.emit(Se.UpstreamPaused,this);const r=wr();if((r==null?void 0:r.name)==="Safari"&&_i(r.version,"12.0")<0)throw new cy("pauseUpstream is not supported on Safari < 12.");((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(null))}finally{n()}})}resumeUpstream(){return z(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){this.log.warn("unable to resume upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!1,this.emit(Se.UpstreamResumed,this),((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{n()}})}getRTCStatsReport(){return z(this,void 0,void 0,function*(){var t;return!((t=this.sender)===null||t===void 0)&&t.getStats?yield this.sender.getStats():void 0})}setProcessor(t){return z(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var o;const a=yield r.processorLock.lock();try{r.log.debug("setting up processor",r.logContext);const c=document.createElement(r.kind),u={kind:r.kind,track:r._mediaStreamTrack,element:c,audioContext:r.audioContext};if(yield n.init(u),r.log.debug("processor initialized",r.logContext),r.processor&&(yield r.stopProcessor()),r.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(la(r._mediaStreamTrack,c),c.muted=!0,c.play().catch(d=>{d instanceof DOMException&&d.name==="AbortError"?(r.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},r.logContext),{error:d})),setTimeout(()=>{c.play().catch(p=>{r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{err:p}))})},100)):r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{error:d}))}),r.processor=n,r.processorElement=c,r.processor.processedTrack){for(const d of r.attachedElements)d!==r.processorElement&&i&&(va(r._mediaStreamTrack,d),la(r.processor.processedTrack,d));yield(o=r.sender)===null||o===void 0?void 0:o.replaceTrack(r.processor.processedTrack)}r.emit(Se.TrackProcessorUpdate,r.processor)}finally{a()}}()})}getProcessor(){return this.processor}stopProcessor(){return z(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var r,i;t.processor&&(t.log.debug("stopping processor",t.logContext),(r=t.processor.processedTrack)===null||r===void 0||r.stop(),yield t.processor.destroy(),t.processor=void 0,n||((i=t.processorElement)===null||i===void 0||i.remove(),t.processorElement=void 0),yield t._mediaStreamTrack.applyConstraints(t._constraints),yield t.setMediaStreamTrack(t._mediaStreamTrack,!0),t.emit(Se.TrackProcessorUpdate))}()})}startPreConnectBuffer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;if(!kj()){this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext);return}if(this.localTrackRecorder){this.log.warn("preconnect buffer already started");return}else{let n="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(n)||(n="video/mp4"),this.localTrackRecorder=new Sj(this,{mimeType:n})}this.localTrackRecorder.start(t),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},xj)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.byteStream}getPreConnectBufferMimeType(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.mimeType}}class qd extends PE{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;super(t,se.Kind.Audio,n,r,o),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>z(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let a;try{a=yield this.getSenderStats()}catch(c){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:c}));return}a&&this.prevStats&&(this._currentBitrate=Nf(a,this.prevStats)),this.prevStats=a}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(Se.AudioTrackFeatureUpdate,this,En.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(Se.AudioTrackFeatureUpdate,this,En.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=i,this.checkForSilence()}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return z(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===se.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return z(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==Ao(this._constraints.deviceId);return this.source===se.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||r)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this}finally{n()}})}restartTrack(t){return z(this,void 0,void 0,function*(){let n;if(t){const r=dy({audio:t});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(t){const n=Object.create(null,{restart:{get:()=>super.restart}});return z(this,void 0,void 0,function*(){const r=yield n.restart.call(this,t);return this.checkForSilence(),r})}startMonitor(){or()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},vy)))}setProcessor(t){return z(this,void 0,void 0,function*(){var n;const r=yield this.processorLock.lock();try{if(!Ii()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.stopProcessor());const i={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(t.name),this.logContext),yield t.init(i),this.processor=t,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(Se.TrackProcessorUpdate,this.processor)}finally{r()}})}setAudioContext(t){this.audioContext=t}getSenderStats(){return z(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return;const n=yield this.sender.getStats();let r;return n.forEach(i=>{i.type==="outbound-rtp"&&(r={type:"audio",streamId:i.id,packetsSent:i.packetsSent,packetsLost:i.packetsLost,bytesSent:i.bytesSent,timestamp:i.timestamp,roundTripTime:i.roundTripTime,jitter:i.jitter})}),r})}checkForSilence(){return z(this,void 0,void 0,function*(){const t=yield SE(this);return t&&(this.isMuted||this.log.warn("silence detected on local audio track",this.logContext),this.emit(Se.AudioSilenceDetected)),t})}}function wj(e,t,n){switch(e.kind){case"audio":return new qd(e,t,!1,void 0,n);case"video":return new Kd(e,t,!1,n);default:throw new Xi("unsupported track type: ".concat(e.kind))}}const Tj=Object.values(cc),Ej=Object.values(Rg),Pj=Object.values(uy),Rj=[cc.h180,cc.h360],Ij=[Rg.h180,Rg.h360],_j=e=>[{scaleResolutionDownBy:2,fps:e.encoding.maxFramerate}].map(n=>{var r,i;return new Nt(Math.floor(e.width/n.scaleResolutionDownBy),Math.floor(e.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((r=e.encoding.maxFramerate)!==null&&r!==void 0?r:30)/((i=n.fps)!==null&&i!==void 0?i:30))))),n.fps,e.encoding.priority)}),jg=["q","h","f"];function Ug(e,t,n,r){var i,o;let a=r==null?void 0:r.videoEncoding;e&&(a=r==null?void 0:r.screenShareEncoding);const c=r==null?void 0:r.simulcast,u=r==null?void 0:r.scalabilityMode,d=r==null?void 0:r.videoCodec;if(!a&&!c&&!u||!t||!n)return[{}];a||(a=Mj(e,t,n,d),dt.debug("using video encoding",a));const p=a.maxFramerate,h=new Nt(t,n,a.maxBitrate,a.maxFramerate,a.priority);if(u&&Ci(d)){const S=new RE(u),b=[];if(S.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(u));const x=wr();if(Hd()||Ii()||(x==null?void 0:x.name)==="Chrome"&&_i(x==null?void 0:x.version,"113")<0){const C=S.suffix=="h"?2:3,O=L9(x);for(let R=0;R<S.spatial;R+=1)b.push({rid:jg[2-R],maxBitrate:a.maxBitrate/Math.pow(C,R),maxFramerate:h.encoding.maxFramerate,scaleResolutionDownBy:O?Math.pow(2,R):void 0});b[0].scalabilityMode=u}else b.push({maxBitrate:a.maxBitrate,maxFramerate:h.encoding.maxFramerate,scalabilityMode:u});return h.encoding.priority&&(b[0].priority=h.encoding.priority,b[0].networkPriority=h.encoding.priority),dt.debug("using svc encoding",{encodings:b}),b}if(!c)return[a];let g=[];e?g=(i=uC(r==null?void 0:r.screenShareSimulcastLayers))!==null&&i!==void 0?i:cC(e,h):g=(o=uC(r==null?void 0:r.videoSimulcastLayers))!==null&&o!==void 0?o:cC(e,h);let v;if(g.length>0){const S=g[0];g.length>1&&([,v]=g);const b=Math.max(t,n);if(b>=960&&v)return wm(t,n,[S,v,h],p);if(b>=480)return wm(t,n,[S,h],p)}return wm(t,n,[h])}function Oj(e,t,n){var r,i,o,a;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&dt.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;const c=e.mediaStreamTrack.getSettings(),u=(r=c.width)!==null&&r!==void 0?r:(i=e.dimensions)===null||i===void 0?void 0:i.width,d=(o=c.height)!==null&&o!==void 0?o:(a=e.dimensions)===null||a===void 0?void 0:a.height;return e.source===se.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),Ug(e.source===se.Source.ScreenShare,u,d,n)}function Mj(e,t,n,r){const i=Aj(e,t,n);let{encoding:o}=i[0];const a=Math.max(t,n);for(let c=0;c<i.length;c+=1){const u=i[c];if(o=u.encoding,u.width>=a)break}if(r)switch(r){case"av1":case"h265":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.7;break;case"vp9":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.85;break}return o}function Aj(e,t,n){if(e)return Pj;const r=t>n?t/n:n/t;return Math.abs(r-16/9)<Math.abs(r-4/3)?Tj:Ej}function cC(e,t){if(e)return _j(t);const{width:n,height:r}=t,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?Rj:Ij}function wm(e,t,n,r){const i=[];if(n.forEach((o,a)=>{if(a>=jg.length)return;const c=Math.min(e,t),d={rid:jg[a],scaleResolutionDownBy:Math.max(1,c/Math.min(o.width,o.height)),maxBitrate:o.encoding.maxBitrate},p=r&&o.encoding.maxFramerate?Math.min(r,o.encoding.maxFramerate):o.encoding.maxFramerate;p&&(d.maxFramerate=p);const h=wa()||a===0;o.encoding.priority&&h&&(d.priority=o.encoding.priority,d.networkPriority=o.encoding.priority),i.push(d)}),Ii()&&yE()==="ios"){let o;i.forEach(c=>{o?c.maxFramerate&&c.maxFramerate>o&&(o=c.maxFramerate):o=c.maxFramerate});let a=!0;i.forEach(c=>{var u;c.maxFramerate!=o&&(a&&(a=!1,dt.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),dt.info('Setting framerate of encoding "'.concat((u=c.rid)!==null&&u!==void 0?u:"",'" to ').concat(o)),c.maxFramerate=o)})}return i}function uC(e){if(e)return e.sort((t,n)=>{const{encoding:r}=t,{encoding:i}=n;return r.maxBitrate>i.maxBitrate?1:r.maxBitrate<i.maxBitrate?-1:r.maxBitrate===i.maxBitrate&&r.maxFramerate&&i.maxFramerate?r.maxFramerate>i.maxFramerate?1:-1:0})}class RE{constructor(t){const n=t.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var t;return"L".concat(this.spatial,"T").concat(this.temporal).concat((t=this.suffix)!==null&&t!==void 0?t:"")}}function Nj(e){return e.source===se.Source.ScreenShare||e.constraints.height&&Ao(e.constraints.height)>=1080?"maintain-resolution":"balanced"}const Lj=5e3;class Kd extends PE{get sender(){return this._sender}set sender(t){this._sender=t,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0;super(t,se.Kind.Video,n,r,i),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>z(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let o;try{o=yield this.getSenderStats()}catch(u){this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:u}));return}const a=new Map(o.map(u=>[u.rid,u])),c=o.some(u=>u.qualityLimitationReason==="cpu");if(c!==this.isCpuConstrained&&(this.isCpuConstrained=c,this.isCpuConstrained&&this.emit(Se.CpuConstrained)),this.prevStats){let u=0;a.forEach((d,p)=>{var h;const g=(h=this.prevStats)===null||h===void 0?void 0:h.get(p);u+=Nf(d,g)}),this._currentBitrate=u}this.prevStats=a}),this.senderLock=new Yn}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(t){var n;if(this.signalClient=t,!or())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},vy))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(t=>{t.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const t=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return z(this,void 0,void 0,function*(){var n,r,i,o,a;yield t.pauseUpstream.call(this);try{for(var c=!0,u=Ji(this.simulcastCodecs.values()),d;d=yield u.next(),n=d.done,!n;c=!0)o=d.value,c=!1,yield(a=o.sender)===null||a===void 0?void 0:a.replaceTrack(null)}catch(p){r={error:p}}finally{try{!c&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}})}resumeUpstream(){const t=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return z(this,void 0,void 0,function*(){var n,r,i,o,a;yield t.resumeUpstream.call(this);try{for(var c=!0,u=Ji(this.simulcastCodecs.values()),d;d=yield u.next(),n=d.done,!n;c=!0){o=d.value,c=!1;const p=o;yield(a=p.sender)===null||a===void 0?void 0:a.replaceTrack(p.mediaStreamTrack)}}catch(p){r={error:p}}finally{try{!c&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return z(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===se.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return z(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source===se.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(t){super.setTrackMuted(t);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!t}getSenderStats(){return z(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(i=>{var o;if(i.type==="outbound-rtp"){const a={type:"video",streamId:i.id,frameHeight:i.frameHeight,frameWidth:i.frameWidth,framesPerSecond:i.framesPerSecond,framesSent:i.framesSent,firCount:i.firCount,pliCount:i.pliCount,nackCount:i.nackCount,packetsSent:i.packetsSent,bytesSent:i.bytesSent,qualityLimitationReason:i.qualityLimitationReason,qualityLimitationDurations:i.qualityLimitationDurations,qualityLimitationResolutionChanges:i.qualityLimitationResolutionChanges,rid:(o=i.rid)!==null&&o!==void 0?o:i.id,retransmittedPacketsSent:i.retransmittedPacketsSent,targetBitrate:i.targetBitrate,timestamp:i.timestamp},c=r.get(i.remoteId);c&&(a.jitter=c.jitter,a.packetsLost=c.packetsLost,a.roundTripTime=c.roundTripTime),n.push(a)}}),n.sort((i,o)=>{var a,c;return((a=o.frameWidth)!==null&&a!==void 0?a:0)-((c=i.frameWidth)!==null&&c!==void 0?c:0)}),n})}setPublishingQuality(t){const n=[];for(let r=Cr.LOW;r<=Cr.HIGH;r+=1)n.push(new sy({quality:r,enabled:r<=t}));this.log.debug("setting publishing quality. max quality ".concat(t),this.logContext),this.setPublishingLayers(Ci(this.codec),n)}restartTrack(t){return z(this,void 0,void 0,function*(){var n,r,i,o,a;let c;if(t){const h=dy({video:t});typeof h.video!="boolean"&&(c=h.video)}yield this.restart(c),this.isCpuConstrained=!1;try{for(var u=!0,d=Ji(this.simulcastCodecs.values()),p;p=yield d.next(),n=p.done,!n;u=!0){o=p.value,u=!1;const h=o;h.sender&&((a=h.sender.transport)===null||a===void 0?void 0:a.state)!=="closed"&&(h.mediaStreamTrack=this.mediaStreamTrack.clone(),yield h.sender.replaceTrack(h.mediaStreamTrack))}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=d.return)&&(yield i.call(d))}finally{if(r)throw r.error}}})}setProcessor(t){const n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return z(this,arguments,void 0,function(r){var i=this;let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var a,c,u,d,p,h;if(yield n.setProcessor.call(i,r,o),!((p=i.processor)===null||p===void 0)&&p.processedTrack)try{for(var g=!0,v=Ji(i.simulcastCodecs.values()),S;S=yield v.next(),a=S.done,!a;g=!0)d=S.value,g=!1,yield(h=d.sender)===null||h===void 0?void 0:h.replaceTrack(i.processor.processedTrack)}catch(b){c={error:b}}finally{try{!g&&!a&&(u=v.return)&&(yield u.call(v))}finally{if(c)throw c.error}}}()})}setDegradationPreference(t){return z(this,void 0,void 0,function*(){if(this.degradationPreference=t,this.sender)try{this.log.debug("setting degradationPreference to ".concat(t),this.logContext);const n=this.sender.getParameters();n.degradationPreference=t,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(t,n){if(this.simulcastCodecs.has(t)){this.log.error("".concat(t," already added, skipping adding simulcast codec"),this.logContext);return}const r={codec:t,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(t,r),r}setSimulcastTrackSender(t,n){const r=this.simulcastCodecs.get(t);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},Lj))}setPublishingCodecs(t){return z(this,void 0,void 0,function*(){var n,r,i,o,a,c,u;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:t,currentCodec:this.codec})),!this.codec&&t.length>0)return yield this.setPublishingLayers(Ci(t[0].codec),t[0].qualities),[];this.subscribedCodecs=t;const d=[];try{for(n=!0,r=Ji(t);i=yield r.next(),o=i.done,!o;n=!0){u=i.value,n=!1;const p=u;if(!this.codec||this.codec===p.codec)yield this.setPublishingLayers(Ci(p.codec),p.qualities);else{const h=this.simulcastCodecs.get(p.codec);if(this.log.debug("try setPublishingCodec for ".concat(p.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:h})),!h||!h.sender){for(const g of p.qualities)if(g.enabled){d.push(p.codec);break}}else h.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(p.codec),this.logContext),yield dC(h.sender,h.encodings,p.qualities,this.senderLock,Ci(p.codec),this.log,this.logContext))}}}catch(p){a={error:p}}finally{try{!n&&!o&&(c=r.return)&&(yield c.call(r))}finally{if(a)throw a.error}}return d})}setPublishingLayers(t,n){return z(this,void 0,void 0,function*(){if(this.optimizeForPerformance){this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:n}));return}this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:n})),!(!this.sender||!this.encodings)&&(yield dC(this.sender,this.encodings,n,this.senderLock,t,this.log,this.logContext))})}prioritizePerformance(){return z(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");const t=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;const n=this.sender.getParameters();n.encodings=n.encodings.map((r,i)=>{var o;return Object.assign(Object.assign({},r),{active:i===0,scaleResolutionDownBy:Math.max(1,Math.ceil(((o=this.mediaStreamTrack.getSettings().height)!==null&&o!==void 0?o:360)/360)),scalabilityMode:i===0&&Ci(this.codec)?"L1T3":void 0,maxFramerate:i===0?15:0,maxBitrate:i===0?r.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:n.encodings})),this.encodings=n.encodings,yield this.sender.setParameters(n)}catch(n){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:n})),this.optimizeForPerformance=!1}finally{t()}})}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return z(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),gE()&&this.isInBackground&&this.source===se.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function dC(e,t,n,r,i,o,a){return z(this,void 0,void 0,function*(){const c=yield r.lock();o.debug("setPublishingLayersForSender",Object.assign(Object.assign({},a),{sender:e,qualities:n,senderEncodings:t}));try{const u=e.getParameters(),{encodings:d}=u;if(!d)return;if(d.length!==t.length){o.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},a),{encodings:d,senderEncodings:t}));return}let p=!1;!1&&d[0].scalabilityMode||(i&&n.some(v=>v.enabled)&&n.forEach(v=>v.enabled=!0),d.forEach((g,v)=>{var S;let b=(S=g.rid)!==null&&S!==void 0?S:"";b===""&&(b="q");const x=IE(b),C=n.find(O=>O.quality===x);C&&g.active!==C.enabled&&(p=!0,g.active=C.enabled,o.debug("setting layer ".concat(C.quality," to ").concat(g.active?"enabled":"disabled"),a),wa()&&(C.enabled?(g.scaleResolutionDownBy=t[v].scaleResolutionDownBy,g.maxBitrate=t[v].maxBitrate,g.maxFrameRate=t[v].maxFrameRate):(g.scaleResolutionDownBy=4,g.maxBitrate=10,g.maxFrameRate=2)))})),p&&(u.encodings=d,o.debug("setting encodings",Object.assign(Object.assign({},a),{encodings:u.encodings})),yield e.setParameters(u))}finally{c()}})}function IE(e){switch(e){case"f":return Cr.HIGH;case"h":return Cr.MEDIUM;case"q":return Cr.LOW;default:return Cr.HIGH}}function fC(e,t,n,r){if(!n)return[new cs({quality:Cr.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(r){const i=n[0].scalabilityMode,o=new RE(i),a=[],c=o.suffix=="h"?1.5:2,u=o.suffix=="h"?2:3;for(let d=0;d<o.spatial;d+=1)a.push(new cs({quality:Math.min(Cr.HIGH,o.spatial-1)-d,width:Math.ceil(e/Math.pow(c,d)),height:Math.ceil(t/Math.pow(c,d)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(u,d)):0,ssrc:0}));return a}return n.map(i=>{var o,a,c;const u=(o=i.scaleResolutionDownBy)!==null&&o!==void 0?o:1;let d=IE((a=i.rid)!==null&&a!==void 0?a:"");return new cs({quality:d,width:Math.ceil(e/u),height:Math.ceil(t/u),bitrate:(c=i.maxBitrate)!==null&&c!==void 0?c:0,ssrc:0})})}const pC="_lossy",hC="_reliable",Dj=2*1e3,Tm="leave-reconnect",Fj=3e4;var Qr;(function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"})(Qr||(Qr={}));class jj extends Ni.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(t){var n;super(),this.options=t,this.rtcConfig={},this.peerConnectionTimeout=my.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=Qr.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=dt,this.reliableDataSequence=1,this.reliableMessageBuffer=new eC,this.reliableReceivedState=new lj(Fj),this.handleDataChannel=r=>z(this,[r],void 0,function(i){var o=this;let{channel:a}=i;return function*(){if(a){if(a.label===hC)o.reliableDCSub=a;else if(a.label===pC)o.lossyDCSub=a;else return;o.log.debug("on data channel ".concat(a.id,", ").concat(a.label),o.logContext),a.onmessage=o.handleDataMessage}}()}),this.handleDataMessage=r=>z(this,void 0,void 0,function*(){var i,o;const a=yield this.dataProcessLock.lock();try{let c;if(r.data instanceof ArrayBuffer)c=r.data;else if(r.data instanceof Blob)c=yield r.data.arrayBuffer();else{this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:r.data}));return}const u=rr.fromBinary(new Uint8Array(c));if(u.sequence>0&&u.participantSid!==""){const d=this.reliableReceivedState.get(u.participantSid);if(d&&u.sequence<=d)return;this.reliableReceivedState.set(u.participantSid,u.sequence)}((i=u.value)===null||i===void 0?void 0:i.case)==="speaker"?this.emit(xe.ActiveSpeakersUpdate,u.value.value.speakers):(((o=u.value)===null||o===void 0?void 0:o.case)==="user"&&Bj(u,u.value.value),this.emit(xe.DataPacketReceived,u))}finally{a()}}),this.handleDataError=r=>{const o=r.currentTarget.maxRetransmits===0?"lossy":"reliable";if(r instanceof ErrorEvent&&r.error){const{error:a}=r.error;this.log.error("DataChannel error on ".concat(o,": ").concat(r.message),Object.assign(Object.assign({},this.logContext),{error:a}))}else this.log.error("Unknown DataChannel error on ".concat(o),Object.assign(Object.assign({},this.logContext),{event:r}))},this.handleBufferedAmountLow=r=>{const o=r.currentTarget.maxRetransmits===0?rt.LOSSY:rt.RELIABLE;this.updateAndEmitDCBufferStatus(o)},this.handleDisconnect=(r,i)=>{if(this._isClosed)return;this.log.warn("".concat(r," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const o=u=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(u,"ms. giving up"),this.logContext),this.emit(xe.Disconnected),this.close()},a=Date.now()-this.reconnectStart;let c=this.getNextRetryDelay({elapsedMs:a,retryCount:this.reconnectAttempts});if(c===null){o(a);return}r===Tm&&(c=0),this.log.debug("reconnecting in ".concat(c,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Nn.setTimeout(()=>this.attemptReconnect(i).finally(()=>this.reconnectTimeout=void 0),c)},this.waitForRestarted=()=>new Promise((r,i)=>{this.pcState===Qr.Connected&&r();const o=()=>{this.off(xe.Disconnected,a),r()},a=()=>{this.off(xe.Restarted,o),i()};this.once(xe.Restarted,o),this.once(xe.Disconnected,a)}),this.updateAndEmitDCBufferStatus=r=>{const i=this.isBufferStatusLow(r);typeof i<"u"&&i!==this.dcBufferStatus.get(r)&&(this.dcBufferStatus.set(r,i),this.emit(xe.DCBufferStatusChanged,i,r))},this.isBufferStatusLow=r=>{const i=this.dataChannelForKind(r);if(i)return r===rt.RELIABLE&&this.reliableMessageBuffer.alignBufferedAmount(i.bufferedAmount),i.bufferedAmount<=i.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===Kt.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(ra.RR_SIGNAL_DISCONNECTED))},this.log=no((n=t.loggerName)!==null&&n!==void 0?n:ii.Engine),this.loggerOptions={loggerName:t.loggerName,loggerContextCb:()=>this.logContext},this.client=new fy(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new Yn,this.dataProcessLock=new Yn,this.dcBufferStatus=new Map([[rt.LOSSY,!0],[rt.RELIABLE,!0]]),this.client.onParticipantUpdate=r=>this.emit(xe.ParticipantUpdate,r),this.client.onConnectionQuality=r=>this.emit(xe.ConnectionQualityUpdate,r),this.client.onRoomUpdate=r=>this.emit(xe.RoomUpdate,r),this.client.onSubscriptionError=r=>this.emit(xe.SubscriptionError,r),this.client.onSubscriptionPermissionUpdate=r=>this.emit(xe.SubscriptionPermissionUpdate,r),this.client.onSpeakersChanged=r=>this.emit(xe.SpeakersChanged,r),this.client.onStreamStateUpdate=r=>this.emit(xe.StreamStateChanged,r),this.client.onRequestResponse=r=>this.emit(xe.SignalRequestResponse,r)}get logContext(){var t,n,r,i,o,a;return{room:(n=(t=this.latestJoinResponse)===null||t===void 0?void 0:t.room)===null||n===void 0?void 0:n.name,roomID:(i=(r=this.latestJoinResponse)===null||r===void 0?void 0:r.room)===null||i===void 0?void 0:i.sid,participant:(a=(o=this.latestJoinResponse)===null||o===void 0?void 0:o.participant)===null||a===void 0?void 0:a.identity,pID:this.participantSid}}join(t,n,r,i){return z(this,void 0,void 0,function*(){this.url=t,this.token=n,this.signalOpts=r,this.maxJoinAttempts=r.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const o=yield this.client.join(t,n,r,i);return this._isClosed=!1,this.latestJoinResponse=o,this.subscriberPrimary=o.subscriberPrimary,this.pcManager||(yield this.configure(o)),(!this.subscriberPrimary||o.fastPublish)&&this.negotiate(),this.clientConfiguration=o.clientConfiguration,this.emit(xe.SignalConnected,o),o}catch(o){if(o instanceof Bt&&o.reason===ft.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(t,n,r,i);throw o}})}close(){return z(this,void 0,void 0,function*(){const t=yield this.closingLock.lock();if(this.isClosed){t();return}try{this._isClosed=!0,this.joinAttempts=0,this.emit(xe.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{t()}})}cleanupPeerConnections(){return z(this,void 0,void 0,function*(){var t;yield(t=this.pcManager)===null||t===void 0?void 0:t.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new eC,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupClient(){return z(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(t){if(this.pendingTrackResolvers[t.cid])throw new Xi("a track with the same ID has already been published");return new Promise((n,r)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[t.cid],r(new Bt("publication of local track timed out, no response from server",ft.Timeout))},1e4);this.pendingTrackResolvers[t.cid]={resolve:o=>{clearTimeout(i),n(o)},reject:()=>{clearTimeout(i),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(t)})}removeTrack(t){if(t.track&&this.pendingTrackResolvers[t.track.id]){const{reject:n}=this.pendingTrackResolvers[t.track.id];n&&n(),delete this.pendingTrackResolvers[t.track.id]}try{return this.pcManager.removeTrack(t),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(t,n){this.client.sendMuteTrack(t,n)}get dataSubscriberReadyState(){var t;return(t=this.reliableDCSub)===null||t===void 0?void 0:t.readyState}getConnectedServerAddress(){return z(this,void 0,void 0,function*(){var t;return(t=this.pcManager)===null||t===void 0?void 0:t.getConnectedAddress()})}setRegionUrlProvider(t){this.regionUrlProvider=t}configure(t){return z(this,void 0,void 0,function*(){var n,r;if(this.pcManager&&this.pcManager.currentState!==sn.NEW)return;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid;const i=this.makeRTCConfiguration(t);this.pcManager=new vj(i,t.subscriberPrimary,this.loggerOptions),this.emit(xe.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(o,a)=>{this.client.sendIceCandidate(o,a)},this.pcManager.onPublisherOffer=(o,a)=>{this.client.sendOffer(o,a)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(o,a,c)=>z(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(o),this.logContext),["closed","disconnected","failed"].includes(a)&&(this.publisherConnectionPromise=void 0),o===sn.CONNECTED){const p=this.pcState===Qr.New;this.pcState=Qr.Connected,p&&this.emit(xe.Connected,t)}else o===sn.FAILED&&this.pcState===Qr.Connected&&(this.pcState=Qr.Disconnected,this.handleDisconnect("peerconnection failed",c==="failed"?ra.RR_SUBSCRIBER_FAILED:ra.RR_PUBLISHER_FAILED));const u=this.client.isDisconnected||this.client.currentState===Kt.RECONNECTING,d=[sn.FAILED,sn.CLOSING,sn.CLOSED].includes(o);u&&d&&!this._isClosed&&this.emit(xe.Offline)}),this.pcManager.onTrack=o=>{this.emit(xe.MediaTrackAdded,o.track,o.streams[0],o.receiver)},Uj((r=t.serverInfo)===null||r===void 0?void 0:r.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(t,n)=>z(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type})),yield this.pcManager.setPublisherAnswer(t,n))}),this.client.onTrickle=(t,n)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:t,target:n})),this.pcManager.addIceCandidate(t,n))},this.client.onOffer=(t,n)=>z(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=n,!this.pcManager)return;const r=yield this.pcManager.createSubscriberAnswerFromOffer(t,n);r&&this.client.sendAnswer(r,n)}),this.client.onLocalTrackPublished=t=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:t.cid,track:(n=t.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[t.cid]){this.log.error("missing track resolver for ".concat(t.cid),Object.assign(Object.assign({},this.logContext),{cid:t.cid}));return}const{resolve:r}=this.pendingTrackResolvers[t.cid];delete this.pendingTrackResolvers[t.cid],r(t.track)},this.client.onLocalTrackUnpublished=t=>{this.emit(xe.LocalTrackUnpublished,t)},this.client.onLocalTrackSubscribed=t=>{this.emit(xe.LocalTrackSubscribed,t)},this.client.onTokenRefresh=t=>{this.token=t},this.client.onRemoteMuteChanged=(t,n)=>{this.emit(xe.RemoteMute,t,n)},this.client.onSubscribedQualityUpdate=t=>{this.emit(xe.SubscribedQualityUpdate,t)},this.client.onRoomMoved=t=>{var n;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=t.room),this.emit(xe.RoomMoved,t)},this.client.onClose=()=>{this.handleDisconnect("signal",ra.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=t=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:t==null?void 0:t.reason})),t.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions(t.regions)),t.action){case ma.DISCONNECT:this.emit(xe.Disconnected,t==null?void 0:t.reason),this.close();break;case ma.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(Tm);break;case ma.RESUME:this.handleDisconnect(Tm)}}}makeRTCConfiguration(t){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),r.encodedInsertableStreams=!0),t.iceServers&&!r.iceServers){const i=[];t.iceServers.forEach(o=>{const a={urls:o.urls};o.username&&(a.username=o.username),o.credential&&(a.credential=o.credential),i.push(a)}),r.iceServers=i}return t.clientConfiguration&&t.clientConfiguration.forceRelay===sc.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(pC,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(hC,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(t,n,r){return z(this,void 0,void 0,function*(){if(Ig())return yield this.createTransceiverRTCRtpSender(t,n,r);if(_g())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(t.mediaStreamTrack);throw new Sn("Required webRTC APIs not supported on this device")})}createSimulcastSender(t,n,r,i){return z(this,void 0,void 0,function*(){if(Ig())return this.createSimulcastTransceiverSender(t,n,r,i);if(_g())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(t.mediaStreamTrack);throw new Sn("Cannot stream on this device")})}createTransceiverRTCRtpSender(t,n,r){return z(this,void 0,void 0,function*(){if(!this.pcManager)throw new Sn("publisher is closed");const i=[];t.mediaStream&&i.push(t.mediaStream),ks(t)&&(t.codec=n.videoCodec);const o={direction:"sendonly",streams:i};return r&&(o.sendEncodings=r),(yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,o)).sender})}createSimulcastTransceiverSender(t,n,r,i){return z(this,void 0,void 0,function*(){if(!this.pcManager)throw new Sn("publisher is closed");const o={direction:"sendonly"};i&&(o.sendEncodings=i);const a=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,o);if(r.videoCodec)return t.setSimulcastTrackSender(r.videoCodec,a.sender),a.sender})}createRTCRtpSender(t){return z(this,void 0,void 0,function*(){if(!this.pcManager)throw new Sn("publisher is closed");return this.pcManager.addPublisherTrack(t)})}attemptReconnect(t){return z(this,void 0,void 0,function*(){var n,r,i;if(!this._isClosed){if(this.attemptingReconnect){dt.warn("already attempting reconnect, returning early",this.logContext);return}(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===sc.DISABLED||((i=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&i!==void 0?i:sn.NEW)===sn.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(t),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(o){this.reconnectAttempts+=1;let a=!0;o instanceof Sn?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:o})),a=!1):o instanceof ia||(this.fullReconnectOnNext=!0),a?this.handleDisconnect("reconnect",ra.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(xe.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(t){try{return this.reconnectPolicy.nextRetryDelayInMs(t)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(t){return z(this,void 0,void 0,function*(){var n,r,i;try{if(!this.url||!this.token)throw new Sn("could not reconnect, url or token not saved");this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(xe.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let o;try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new ia;o=yield this.join(t??this.url,this.token,this.signalOpts)}catch(a){throw a instanceof Bt&&a.reason===ft.NotAllowed?new Sn("could not reconnect, token might be expired"):new ia}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(xe.SignalRestarted,o),yield this.waitForPCReconnected(),this.client.currentState!==Kt.CONNECTED)throw new ia("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(xe.Restarted)}catch(o){const a=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(a){yield this.restartConnection(a);return}else throw(i=this.regionUrlProvider)===null||i===void 0||i.resetAttempts(),o}})}resumeConnection(t){return z(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new Sn("could not reconnect, url or token not saved");if(!this.pcManager)throw new Sn("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(xe.Resuming);let r;try{this.setupSignalClientCallbacks(),r=yield this.client.reconnect(this.url,this.token,this.participantSid,t)}catch(i){let o="";throw i instanceof Error&&(o=i.message,this.log.error(i.message,Object.assign(Object.assign({},this.logContext),{error:i}))),i instanceof Bt&&i.reason===ft.NotAllowed?new Sn("could not reconnect, token might be expired"):i instanceof Bt&&i.reason===ft.LeaveRequest?i:new ia(o)}if(this.emit(xe.SignalResumed),r){const i=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(i),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=r.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==Kt.CONNECTED)throw new ia("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),r!=null&&r.lastMessageSeq&&this.resendReliableMessagesForResume(r.lastMessageSeq),this.emit(xe.Resumed)})}waitForPCInitialConnection(t,n){return z(this,void 0,void 0,function*(){if(!this.pcManager)throw new Sn("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,t)})}waitForPCReconnected(){return z(this,void 0,void 0,function*(){this.pcState=Qr.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield ar(Dj),!this.pcManager)throw new Sn("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=Qr.Connected}catch(t){throw this.pcState=Qr.Disconnected,new Bt("could not establish PC connection, ".concat(t.message),ft.InternalError)}})}publishRpcResponse(t,n,r,i){return z(this,void 0,void 0,function*(){const o=new rr({destinationIdentities:[t],kind:rt.RELIABLE,value:{case:"rpcResponse",value:new vT({requestId:n,value:i?{case:"error",value:i.toProto()}:{case:"payload",value:r??""}})}});yield this.sendDataPacket(o,rt.RELIABLE)})}publishRpcAck(t,n){return z(this,void 0,void 0,function*(){const r=new rr({destinationIdentities:[t],kind:rt.RELIABLE,value:{case:"rpcAck",value:new gT({requestId:n})}});yield this.sendDataPacket(r,rt.RELIABLE)})}sendDataPacket(t,n){return z(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(n),n===rt.RELIABLE&&(t.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);const r=t.toBinary(),i=this.dataChannelForKind(n);if(i){if(n===rt.RELIABLE&&this.reliableMessageBuffer.push({data:r,sequence:t.sequence}),this.attemptingReconnect)return;i.send(r)}this.updateAndEmitDCBufferStatus(n)})}resendReliableMessagesForResume(t){return z(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(rt.RELIABLE);const n=this.dataChannelForKind(rt.RELIABLE);n&&(this.reliableMessageBuffer.popToSequence(t),this.reliableMessageBuffer.getAll().forEach(r=>{n.send(r.data)})),this.updateAndEmitDCBufferStatus(rt.RELIABLE)})}waitForBufferStatusLow(t){return new Promise((n,r)=>z(this,void 0,void 0,function*(){if(this.isBufferStatusLow(t))n();else{const i=()=>r("Engine closed");for(this.once(xe.Closing,i);!this.dcBufferStatus.get(t);)yield ar(10);this.off(xe.Closing,i),n()}}))}ensureDataTransportConnected(t){return z(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return function*(){var o;if(!r.pcManager)throw new Sn("PC manager is closed");const a=i?r.pcManager.subscriber:r.pcManager.publisher,c=i?"Subscriber":"Publisher";if(!a)throw new Bt("".concat(c," connection not set"),ft.InternalError);let u=!1;!i&&!r.dataChannelForKind(n,i)&&(r.createDataChannels(),u=!0),!u&&!i&&!r.pcManager.publisher.isICEConnected&&r.pcManager.publisher.getICEConnectionState()!=="checking"&&(u=!0),u&&r.negotiate();const d=r.dataChannelForKind(n,i);if((d==null?void 0:d.readyState)==="open")return;const p=new Date().getTime()+r.peerConnectionTimeout;for(;new Date().getTime()<p;){if(a.isICEConnected&&((o=r.dataChannelForKind(n,i))===null||o===void 0?void 0:o.readyState)==="open")return;yield ar(50)}throw new Bt("could not establish ".concat(c," connection, state: ").concat(a.getICEConnectionState()),ft.InternalError)}()})}ensurePublisherConnected(t){return z(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(t,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==sn.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return z(this,void 0,void 0,function*(){return new Promise((t,n)=>z(this,void 0,void 0,function*(){if(!this.pcManager){n(new Eg("PC manager is closed"));return}this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length==0&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const r=new AbortController,i=()=>{r.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),t()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(xe.Closing,i),this.pcManager.publisher.once(ba.RTPVideoPayloadTypes,o=>{const a=new Map;o.forEach(c=>{const u=c.codec.toLowerCase();B9(u)&&a.set(c.payload,u)}),this.emit(xe.RTPVideoMapUpdate,a)});try{yield this.pcManager.negotiate(r),t()}catch(o){o instanceof Eg&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",ra.RR_UNKNOWN),n(o)}finally{this.off(xe.Closing,i)}}))})}dataChannelForKind(t,n){if(n){if(t===rt.LOSSY)return this.lossyDCSub;if(t===rt.RELIABLE)return this.reliableDCSub}else{if(t===rt.LOSSY)return this.lossyDC;if(t===rt.RELIABLE)return this.reliableDC}}sendSyncState(t,n){var r,i;if(!this.pcManager){this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);return}const o=this.pcManager.subscriber.getLocalDescription(),a=this.pcManager.subscriber.getRemoteDescription(),c=(i=(r=this.signalOpts)===null||r===void 0?void 0:r.autoSubscribe)!==null&&i!==void 0?i:!0,u=new Array,d=new Array;t.forEach(p=>{p.isDesired!==c&&u.push(p.trackSid),p.isEnabled||d.push(p.trackSid)}),this.client.sendSyncState(new NT({answer:o?Wd({sdp:o.sdp,type:o.type}):void 0,offer:a?Wd({sdp:a.sdp,type:a.type}):void 0,subscription:new Of({trackSids:u,subscribe:!c,participantTracks:[]}),publishTracks:Y9(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:d,datachannelReceiveStates:this.reliableReceivedState.map((p,h)=>new LT({publisherSid:h,lastSeq:p}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const t=[],n=(r,i)=>{(r==null?void 0:r.id)!==void 0&&r.id!==null&&t.push(new DT({label:r.label,id:r.id,target:i}))};return n(this.dataChannelForKind(rt.LOSSY),Zr.PUBLISHER),n(this.dataChannelForKind(rt.RELIABLE),Zr.PUBLISHER),n(this.dataChannelForKind(rt.LOSSY,!0),Zr.SUBSCRIBER),n(this.dataChannelForKind(rt.RELIABLE,!0),Zr.SUBSCRIBER),t}clearReconnectTimeout(){this.reconnectTimeout&&Nn.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){or()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){or()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class ia extends Error{}function Uj(e){return e!==void 0&&e>13}function Bj(e,t){const n=e.participantIdentity?e.participantIdentity:t.participantIdentity;e.participantIdentity=n,t.participantIdentity=n;const r=e.destinationIdentities.length!==0?e.destinationIdentities:t.destinationIdentities;e.destinationIdentities=r,t.destinationIdentities=r}class Bg{constructor(t,n){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(t),this.token=n}updateToken(t){this.token=t}isCloud(){return Mg(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(t){return z(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(t));const n=this.regionSettings.regions.filter(r=>!this.attemptedRegions.find(i=>i.url===r.url));if(n.length>0){const r=n[0];return this.attemptedRegions.push(r),dt.debug("next region: ".concat(r.region)),r.url}else return null})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(t){return z(this,void 0,void 0,function*(){const n=yield fetch("".concat(zj(this.serverUrl),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:t});if(n.ok){const r=yield n.json();return this.lastUpdateAt=Date.now(),r}else throw new Bt("Could not fetch region settings: ".concat(n.statusText),n.status===401?ft.NotAllowed:ft.InternalError,n.status)})}setServerReportedRegions(t){this.regionSettings=t,this.lastUpdateAt=Date.now()}}function zj(e){return"".concat(e.protocol.replace("ws","http"),"//").concat(e.host,"/settings")}class _E{get info(){return this._info}constructor(t,n,r){this.reader=n,this.totalByteSize=r,this._info=t,this.bytesReceived=0}}class $j extends _E{handleChunkReceived(t){var n;this.bytesReceived+=t.content.byteLength;const r=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,r)}[Symbol.asyncIterator](){const t=this.reader.getReader();return{next:()=>z(this,void 0,void 0,function*(){try{const{done:n,value:r}=yield t.read();return n?{done:!0,value:void 0}:(this.handleChunkReceived(r),{done:!1,value:r.content})}catch{return{done:!0,value:void 0}}}),return(){return z(this,void 0,void 0,function*(){return t.releaseLock(),{done:!0,value:void 0}})}}}readAll(){return z(this,void 0,void 0,function*(){var t,n,r,i;let o=new Set;try{for(var a=!0,c=Ji(this),u;u=yield c.next(),t=u.done,!t;a=!0){i=u.value,a=!1;const d=i;o.add(d)}}catch(d){n={error:d}}finally{try{!a&&!t&&(r=c.return)&&(yield r.call(c))}finally{if(n)throw n.error}}return Array.from(o)})}}class Vj extends _E{constructor(t,n,r){super(t,n,r),this.receivedChunks=new Map}handleChunkReceived(t){var n;const r=xd(t.chunkIndex),i=this.receivedChunks.get(r);if(i&&i.version>t.version)return;this.receivedChunks.set(r,t),this.bytesReceived+=t.content.byteLength;const o=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,o)}[Symbol.asyncIterator](){const t=this.reader.getReader(),n=new TextDecoder;return{next:()=>z(this,void 0,void 0,function*(){try{const{done:r,value:i}=yield t.read();return r?{done:!0,value:void 0}:(this.handleChunkReceived(i),{done:!1,value:n.decode(i.content)})}catch{return{done:!0,value:void 0}}}),return(){return z(this,void 0,void 0,function*(){return t.releaseLock(),{done:!0,value:void 0}})}}}readAll(){return z(this,void 0,void 0,function*(){var t,n,r,i;let o="";try{for(var a=!0,c=Ji(this),u;u=yield c.next(),t=u.done,!t;a=!0)i=u.value,a=!1,o+=i}catch(d){n={error:d}}finally{try{!a&&!t&&(r=c.return)&&(yield r.call(c))}finally{if(n)throw n.error}}return o})}}class OE{constructor(t,n,r){this.writableStream=t,this.defaultWriter=t.getWriter(),this.onClose=r,this.info=n}write(t){return this.defaultWriter.write(t)}close(){return z(this,void 0,void 0,function*(){var t;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),(t=this.onClose)===null||t===void 0||t.call(this)})}}class Hj extends OE{}class Wj extends OE{}class ME extends se{constructor(t,n,r,i,o){super(t,r,o),this.sid=n,this.receiver=i}get isLocal(){return!1}setMuted(t){this.isMuted!==t&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?Se.Muted:Se.Unmuted,this))}setMediaStream(t){this.mediaStream=t;const n=r=>{r.track===this._mediaStreamTrack&&(t.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(Se.Ended,this))};t.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return z(this,void 0,void 0,function*(){var t;return!((t=this.receiver)===null||t===void 0)&&t.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(t){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=t:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),vy)),Q9()&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const t=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>t());const r=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(r){const{timestamp:i,rtpTimestamp:o}=r;o&&this.rtpTimestamp!==o&&(this.emit(Se.TimeSyncUpdate,{timestamp:i,rtpTimestamp:o}),this.rtpTimestamp=o)}};t()}}class AE extends ME{constructor(t,n,r,i,o,a){super(t,n,se.Kind.Audio,r,a),this.monitorReceiver=()=>z(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const c=yield this.getReceiverStats();c&&this.prevStats&&this.receiver&&(this._currentBitrate=Nf(c,this.prevStats)),this.prevStats=c}),this.audioContext=i,this.webAudioPluginNodes=[],o&&(this.sinkId=o.deviceId)}setVolume(t){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(t,0,.1):r.volume=t;Ii()&&this._mediaStreamTrack._setVolume(t),this.elementVolume=t}getVolume(){if(this.elementVolume)return this.elementVolume;if(Ii())return 1;let t=0;return this.attachedElements.forEach(n=>{n.volume>t&&(t=n.volume)}),t}setSinkId(t){return z(this,void 0,void 0,function*(){this.sinkId=t,yield Promise.all(this.attachedElements.map(n=>{if(Og(n))return n.setSinkId(t)}))})}attach(t){const n=this.attachedElements.length===0;return t?super.attach(t):t=super.attach(),this.sinkId&&Og(t)&&t.setSinkId(this.sinkId).catch(r=>{this.log.error("Failed to set sink id on remote audio track",r,this.logContext)}),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,t),t.volume=0,t.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),t}detach(t){let n;return t?(n=super.detach(t),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(t){this.audioContext=t,t&&this.attachedElements.length>0?this.connectWebAudio(t,this.attachedElements[0]):t||this.disconnectWebAudio()}setWebAudioPlugins(t){this.webAudioPluginNodes=t,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(t,n){this.disconnectWebAudio(),this.sourceNode=t.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(i=>{r.connect(i),r=i}),this.gainNode=t.createGain(),r.connect(this.gainNode),this.gainNode.connect(t.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),t.state!=="running"&&t.resume().then(()=>{t.state!=="running"&&this.emit(Se.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(i=>{this.emit(Se.AudioPlaybackFailed,i)})}disconnectWebAudio(){var t,n;(t=this.gainNode)===null||t===void 0||t.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return z(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n;return t.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"audio",streamId:r.id,timestamp:r.timestamp,jitter:r.jitter,bytesReceived:r.bytesReceived,concealedSamples:r.concealedSamples,concealmentEvents:r.concealmentEvents,silentConcealedSamples:r.silentConcealedSamples,silentConcealmentEvents:r.silentConcealmentEvents,totalAudioEnergy:r.totalAudioEnergy,totalSamplesDuration:r.totalSamplesDuration})}),n})}}const Em=100;class qj extends ME{constructor(t,n,r,i,o){super(t,n,se.Kind.Video,r,o),this.elementInfos=[],this.monitorReceiver=()=>z(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const a=yield this.getReceiverStats();a&&this.prevStats&&this.receiver&&(this._currentBitrate=Nf(a,this.prevStats)),this.prevStats=a}),this.debouncedHandleResize=hy(()=>{this.updateDimensions()},Em),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(t){super.setMuted(t),this.attachedElements.forEach(n=>{t?va(this._mediaStreamTrack,n):la(this._mediaStreamTrack,n)})}attach(t){if(t?super.attach(t):t=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===t)===void 0){const n=new Kj(t);this.observeElementInfo(n)}return t}observeElementInfo(t){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===t)===void 0?(t.handleResize=()=>{this.debouncedHandleResize()},t.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(t),t.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(t){if(!this.isAdaptiveStream){this.log.warn("stopObservingElementInfo ignored",this.logContext);return}const n=this.elementInfos.filter(r=>r===t);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==t),this.updateVisibility(),this.debouncedHandleResize()}detach(t){let n=[];if(t)return this.stopObservingElement(t),super.detach(t);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var t;return(t=this.prevStats)===null||t===void 0?void 0:t.decoderImplementation}getReceiverStats(){return z(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n,r="",i=new Map;return t.forEach(o=>{o.type==="inbound-rtp"?(r=o.codecId,n={type:"video",streamId:o.id,framesDecoded:o.framesDecoded,framesDropped:o.framesDropped,framesReceived:o.framesReceived,packetsReceived:o.packetsReceived,packetsLost:o.packetsLost,frameWidth:o.frameWidth,frameHeight:o.frameHeight,pliCount:o.pliCount,firCount:o.firCount,nackCount:o.nackCount,jitter:o.jitter,timestamp:o.timestamp,bytesReceived:o.bytesReceived,decoderImplementation:o.decoderImplementation}):o.type==="codec"&&i.set(o.id,o)}),n&&r!==""&&i.get(r)&&(n.mimeType=i.get(r).mimeType),n})}stopObservingElement(t){const n=this.elementInfos.filter(r=>r.element===t);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return z(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(){var t,n;const r=this.elementInfos.reduce((c,u)=>Math.max(c,u.visibilityChangedAt||0),0),i=!((n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pauseVideoInBackground)!==null&&n!==void 0)||n?this.isInBackground:!1,o=this.elementInfos.some(c=>c.pictureInPicture),a=this.elementInfos.some(c=>c.visible)&&!i||o;if(this.lastVisible!==a){if(!a&&Date.now()-r<Em){Nn.setTimeout(()=>{this.updateVisibility()},Em);return}this.lastVisible=a,this.emit(Se.VisibilityChanged,a,this)}}updateDimensions(){var t,n;let r=0,i=0;const o=this.getPixelDensity();for(const a of this.elementInfos){const c=a.width()*o,u=a.height()*o;c+u>r+i&&(r=c,i=u)}((t=this.lastDimensions)===null||t===void 0?void 0:t.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===i||(this.lastDimensions={width:r,height:i},this.emit(Se.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var t;const n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pixelDensity;return n==="screen"?Kk():n||(Kk()>2?2:1)}}class Kj{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(t,n){this.onVisibilityChanged=r=>{var i;const{target:o,isIntersecting:a}=r;o===this.element&&(this.isIntersecting=a,this.isPiP=Dl(this.element),this.visibilityChangedAt=Date.now(),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this))},this.onEnterPiP=()=>{var r,i,o;(i=(r=window.documentPictureInPicture)===null||r===void 0?void 0:r.window)===null||i===void 0||i.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Dl(this.element),(o=this.handleVisibilityChanged)===null||o===void 0||o.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=Dl(this.element),(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=t,this.isIntersecting=n??zg(t),this.isPiP=or()&&Dl(t),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var t,n,r;this.isIntersecting=zg(this.element),this.isPiP=Dl(this.element),this.element.handleResize=()=>{var i;(i=this.handleResize)===null||i===void 0||i.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,Yk().observe(this.element),Gk().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),(t=window.documentPictureInPicture)===null||t===void 0||t.addEventListener("enter",this.onEnterPiP),(r=(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)===null||r===void 0||r.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var t,n,r,i,o;(t=Yk())===null||t===void 0||t.unobserve(this.element),(n=Gk())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),(r=window.documentPictureInPicture)===null||r===void 0||r.removeEventListener("enter",this.onEnterPiP),(o=(i=window.documentPictureInPicture)===null||i===void 0?void 0:i.window)===null||o===void 0||o.removeEventListener("pagehide",this.onLeavePiP)}}function Dl(e){var t,n;return document.pictureInPictureElement===e?!0:!((t=window.documentPictureInPicture)===null||t===void 0)&&t.window?zg(e,(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window):!1}function zg(e,t){const n=t||window;let r=e.offsetTop,i=e.offsetLeft;const o=e.offsetWidth,a=e.offsetHeight,{hidden:c}=e,{display:u}=getComputedStyle(e);for(;e.offsetParent;)e=e.offsetParent,r+=e.offsetTop,i+=e.offsetLeft;return r<n.pageYOffset+n.innerHeight&&i<n.pageXOffset+n.innerWidth&&r+a>n.pageYOffset&&i+o>n.pageXOffset&&!c&&u!=="none"}class Gi extends Ni.EventEmitter{constructor(t,n,r,i){var o;super(),this.metadataMuted=!1,this.encryption=yr.NONE,this.log=dt,this.handleMuted=()=>{this.emit(Se.Muted)},this.handleUnmuted=()=>{this.emit(Se.Unmuted)},this.log=no((o=i==null?void 0:i.loggerName)!==null&&o!==void 0?o:ii.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=t,this.trackSid=n,this.trackName=r,this.source=se.Source.Unknown}setTrack(t){this.track&&(this.track.off(Se.Muted,this.handleMuted),this.track.off(Se.Unmuted,this.handleUnmuted)),this.track=t,t&&(t.on(Se.Muted,this.handleMuted),t.on(Se.Unmuted,this.handleUnmuted))}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),lt(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==yr.NONE}get audioTrack(){if(Ei(this.track))return this.track}get videoTrack(){if(ks(this.track))return this.track}updateInfo(t){this.trackSid=t.sid,this.trackName=t.name,this.source=se.sourceFromProto(t.source),this.mimeType=t.mimeType,this.kind===se.Kind.Video&&t.width>0&&(this.dimensions={width:t.width,height:t.height},this.simulcasted=t.simulcast),this.encryption=t.encryption,this.trackInfo=t,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:t}))}}(function(e){(function(t){t.Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed"})(e.SubscriptionStatus||(e.SubscriptionStatus={})),function(t){t.Allowed="allowed",t.NotAllowed="not_allowed"}(e.PermissionStatus||(e.PermissionStatus={}))})(Gi||(Gi={}));class $g extends Gi{get isUpstreamPaused(){var t;return(t=this.track)===null||t===void 0?void 0:t.isUpstreamPaused}constructor(t,n,r,i){super(t,n.sid,n.name,i),this.track=void 0,this.handleTrackEnded=()=>{this.emit(Se.Ended)},this.handleCpuConstrained=()=>{this.track&&ks(this.track)&&this.emit(Se.CpuConstrained,this.track)},this.updateInfo(n),this.setTrack(r)}setTrack(t){this.track&&(this.track.off(Se.Ended,this.handleTrackEnded),this.track.off(Se.CpuConstrained,this.handleCpuConstrained)),super.setTrack(t),t&&(t.on(Se.Ended,this.handleTrackEnded),t.on(Se.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return z(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.mute()})}unmute(){return z(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.unmute()})}pauseUpstream(){return z(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.pauseUpstream()})}resumeUpstream(){return z(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.resumeUpstream()})}getTrackFeatures(){var t;if(Ei(this.track)){const n=this.track.getSourceTrackSettings(),r=new Set;return n.autoGainControl&&r.add(En.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&r.add(En.TF_ECHO_CANCELLATION),n.noiseSuppression&&r.add(En.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&r.add(En.TF_STEREO),!((t=this.options)===null||t===void 0)&&t.dtx||r.add(En.TF_NO_DTX),this.track.enhancedNoiseCancellation&&r.add(En.TF_ENHANCED_NOISE_CANCELLATION),Array.from(r.values())}else return[]}}function Lf(e,t){return z(this,void 0,void 0,function*(){e??(e={});let n=!1;const{audioProcessor:r,videoProcessor:i,optionsWithoutProcessor:o}=CE(e);let a=o.audio,c=o.video;if(r&&typeof o.audio=="object"&&(o.audio.processor=r),i&&typeof o.video=="object"&&(o.video.processor=i),e.audio&&typeof o.audio=="object"&&typeof o.audio.deviceId=="string"){const h=o.audio.deviceId;o.audio.deviceId={exact:h},n=!0,a=Object.assign(Object.assign({},o.audio),{deviceId:{ideal:h}})}if(o.video&&typeof o.video=="object"&&typeof o.video.deviceId=="string"){const h=o.video.deviceId;o.video.deviceId={exact:h},n=!0,c=Object.assign(Object.assign({},o.video),{deviceId:{ideal:h}})}(o.audio===!0||typeof o.audio=="object"&&!o.audio.deviceId)&&(o.audio={deviceId:"default"}),o.video===!0?o.video={deviceId:"default"}:typeof o.video=="object"&&!o.video.deviceId&&(o.video.deviceId="default");const u=bE(o,wE,TE),d=dy(u),p=navigator.mediaDevices.getUserMedia(d);o.audio&&(Pn.userMediaPromiseMap.set("audioinput",p),p.catch(()=>Pn.userMediaPromiseMap.delete("audioinput"))),o.video&&(Pn.userMediaPromiseMap.set("videoinput",p),p.catch(()=>Pn.userMediaPromiseMap.delete("videoinput")));try{const h=yield p;return yield Promise.all(h.getTracks().map(g=>z(this,void 0,void 0,function*(){const v=g.kind==="audio";let S=v?u.audio:u.video;(typeof S=="boolean"||!S)&&(S={});let b;const x=v?d.audio:d.video;typeof x!="boolean"&&(b=x);const C=g.getSettings().deviceId;b!=null&&b.deviceId&&Ao(b.deviceId)!==C?b.deviceId=C:b||(b={deviceId:C});const O=wj(g,b,t);return O.kind===se.Kind.Video?O.source=se.Source.Camera:O.kind===se.Kind.Audio&&(O.source=se.Source.Microphone),O.mediaStream=h,Ei(O)&&r?yield O.setProcessor(r):ks(O)&&i&&(yield O.setProcessor(i)),O})))}catch(h){if(!n)throw h;return Lf(Object.assign(Object.assign({},e),{audio:a,video:c}),t)}})}function Gj(e){return z(this,void 0,void 0,function*(){return(yield Lf({audio:!1,video:!0}))[0]})}function Yj(e){return z(this,void 0,void 0,function*(){return(yield Lf({audio:!0,video:!1}))[0]})}var Io;(function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"})(Io||(Io={}));function Qj(e){switch(e){case zl.EXCELLENT:return Io.Excellent;case zl.GOOD:return Io.Good;case zl.POOR:return Io.Poor;case zl.LOST:return Io.Lost;default:return Io.Unknown}}class NE extends Ni.EventEmitter{get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions)===null||t===void 0?void 0:t.loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(t=>t.isEncrypted)}get isAgent(){var t;return((t=this.permissions)===null||t===void 0?void 0:t.agent)||this.kind===ac.AGENT}get isActive(){var t;return((t=this.participantInfo)===null||t===void 0?void 0:t.state)===ha.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(t,n,r,i,o,a){let c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ac.STANDARD;var u;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=Io.Unknown,this.log=dt,this.log=no((u=a==null?void 0:a.loggerName)!==null&&u!==void 0?u:ii.Participant),this.loggerOptions=a,this.setMaxListeners(100),this.sid=t,this.identity=n,this.name=r,this.metadata=i,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=c,this._attributes=o??{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(t){for(const[,n]of this.trackPublications)if(n.source===t)return n}getTrackPublicationByName(t){for(const[,n]of this.trackPublications)if(n.trackName===t)return n}waitUntilActive(){return this.isActive?Promise.resolve():this.activeFuture?this.activeFuture.promise:(this.activeFuture=new ca,this.once(ae.Active,()=>{var t,n;(n=(t=this.activeFuture)===null||t===void 0?void 0:t.resolve)===null||n===void 0||n.call(t),this.activeFuture=void 0}),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var t;const n=this.getTrackPublication(se.Source.Camera);return!(!((t=n==null?void 0:n.isMuted)!==null&&t!==void 0)||t)}get isMicrophoneEnabled(){var t;const n=this.getTrackPublication(se.Source.Microphone);return!(!((t=n==null?void 0:n.isMuted)!==null&&t!==void 0)||t)}get isScreenShareEnabled(){return!!this.getTrackPublication(se.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(t){var n;return this.participantInfo&&this.participantInfo.sid===t.sid&&this.participantInfo.version>t.version?!1:(this.identity=t.identity,this.sid=t.sid,this._setName(t.name),this._setMetadata(t.metadata),this._setAttributes(t.attributes),t.state===ha.ACTIVE&&((n=this.participantInfo)===null||n===void 0?void 0:n.state)!==ha.ACTIVE&&this.emit(ae.Active),t.permission&&this.setPermissions(t.permission),this.participantInfo=t,!0)}_setMetadata(t){const n=this.metadata!==t,r=this.metadata;this.metadata=t,n&&this.emit(ae.ParticipantMetadataChanged,r)}_setName(t){const n=this.name!==t;this.name=t,n&&this.emit(ae.ParticipantNameChanged,t)}_setAttributes(t){const n=J9(this.attributes,t);this._attributes=t,Object.keys(n).length>0&&this.emit(ae.AttributesChanged,n)}setPermissions(t){var n,r,i,o,a,c;const u=this.permissions,d=t.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||t.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||t.canPublishData!==((i=this.permissions)===null||i===void 0?void 0:i.canPublishData)||t.hidden!==((o=this.permissions)===null||o===void 0?void 0:o.hidden)||t.recorder!==((a=this.permissions)===null||a===void 0?void 0:a.recorder)||t.canPublishSources.length!==this.permissions.canPublishSources.length||t.canPublishSources.some((p,h)=>{var g;return p!==((g=this.permissions)===null||g===void 0?void 0:g.canPublishSources[h])})||t.canSubscribeMetrics!==((c=this.permissions)===null||c===void 0?void 0:c.canSubscribeMetrics);return this.permissions=t,d&&this.emit(ae.ParticipantPermissionsChanged,u),d}setIsSpeaking(t){t!==this.isSpeaking&&(this.isSpeaking=t,t&&(this.lastSpokeAt=new Date),this.emit(ae.IsSpeakingChanged,t))}setConnectionQuality(t){const n=this._connectionQuality;this._connectionQuality=Qj(t),n!==this._connectionQuality&&this.emit(ae.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var t,n;this.activeFuture&&((n=(t=this.activeFuture).reject)===null||n===void 0||n.call(t,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(t){this.audioContext=t,this.audioTrackPublications.forEach(n=>Ei(n.track)&&n.track.setAudioContext(t))}addTrackPublication(t){t.on(Se.Muted,()=>{this.emit(ae.TrackMuted,t)}),t.on(Se.Unmuted,()=>{this.emit(ae.TrackUnmuted,t)});const n=t;switch(n.track&&(n.track.sid=t.trackSid),this.trackPublications.set(t.trackSid,t),t.kind){case se.Kind.Audio:this.audioTrackPublications.set(t.trackSid,t);break;case se.Kind.Video:this.videoTrackPublications.set(t.trackSid,t);break}}}function Jj(e){var t,n,r;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new MT({participantIdentity:(t=e.participantIdentity)!==null&&t!==void 0?t:"",participantSid:(n=e.participantSid)!==null&&n!==void 0?n:"",allTracks:(r=e.allowAll)!==null&&r!==void 0?r:!1,trackSids:e.allowedTrackSids||[]})}const mC=15e3;class Xj extends NE{constructor(t,n,r,i,o){super(t,n,void 0,void 0,void 0,{loggerName:i.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=yr.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new ca)},this.handleReconnected=()=>{var a,c;(c=(a=this.reconnectFuture)===null||a===void 0?void 0:a.resolve)===null||c===void 0||c.call(a),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var a,c,u,d,p,h;this.reconnectFuture&&(this.reconnectFuture.promise.catch(g=>this.log.warn(g.message,this.logContext)),(c=(a=this.reconnectFuture)===null||a===void 0?void 0:a.reject)===null||c===void 0||c.call(a,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0),this.signalConnectedFuture&&((d=(u=this.signalConnectedFuture).reject)===null||d===void 0||d.call(u,"Got disconnected without signal connected"),this.signalConnectedFuture=void 0),(h=(p=this.activeAgentFuture)===null||p===void 0?void 0:p.reject)===null||h===void 0||h.call(p,"Got disconnected without active agent present"),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=a=>{var c,u;a.participant&&this.updateInfo(a.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new ca),(u=(c=this.signalConnectedFuture).resolve)===null||u===void 0||u.call(c)},this.handleSignalRequestResponse=a=>{const{requestId:c,reason:u,message:d}=a,p=this.pendingSignalRequests.get(c);p&&(u!==ay.OK&&p.reject(new Vk(d,u)),this.pendingSignalRequests.delete(c))},this.handleDataPacket=a=>{switch(a.value.case){case"rpcResponse":let c=a.value.value,u=null,d=null;c.value.case==="payload"?u=c.value.value:c.value.case==="error"&&(d=ln.fromProto(c.value.value)),this.handleIncomingRpcResponse(c.requestId,u,d);break;case"rpcAck":let p=a.value.value;this.handleIncomingRpcAck(p.requestId);break}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(a=>Jj(a)))},this.onTrackUnmuted=a=>{this.onTrackMuted(a,a.isUpstreamPaused)},this.onTrackMuted=(a,c)=>{if(c===void 0&&(c=!0),!a.sid){this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),lt(a)));return}this.engine.updateMuteStatus(a.sid,c)},this.onTrackUpstreamPaused=a=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),lt(a))),this.onTrackMuted(a,!0)},this.onTrackUpstreamResumed=a=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),lt(a))),this.onTrackMuted(a,a.isMuted)},this.onTrackFeatureUpdate=a=>{const c=this.audioTrackPublications.get(a.sid);if(!c){this.log.warn("Could not update local audio track settings, missing publication for track ".concat(a.sid),this.logContext);return}this.engine.client.sendUpdateLocalAudioTrack(c.trackSid,c.getTrackFeatures())},this.onTrackCpuConstrained=(a,c)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),lt(c))),this.emit(ae.LocalTrackCpuConstrained,a,c)},this.handleSubscribedQualityUpdate=a=>z(this,void 0,void 0,function*(){var c,u,d,p,h;if(!(!((h=this.roomOptions)===null||h===void 0)&&h.dynacast))return;const g=this.videoTrackPublications.get(a.trackSid);if(!g){this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}));return}if(!g.videoTrack)return;const v=yield g.videoTrack.setPublishingCodecs(a.subscribedCodecs);try{for(var S=!0,b=Ji(v),x;x=yield b.next(),c=x.done,!c;S=!0){p=x.value,S=!1;const C=p;R9(C)&&(this.log.debug("publish ".concat(C," for ").concat(g.videoTrack.sid),Object.assign(Object.assign({},this.logContext),lt(g))),yield this.publishAdditionalCodecForTrack(g.videoTrack,C,g.options))}}catch(C){u={error:C}}finally{try{!S&&!c&&(d=b.return)&&(yield d.call(b))}finally{if(u)throw u.error}}}),this.handleLocalTrackUnpublished=a=>{const c=this.trackPublications.get(a.trackSid);if(!c){this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}));return}this.unpublishTrack(c.track)},this.handleTrackEnded=a=>z(this,void 0,void 0,function*(){if(a.source===se.Source.ScreenShare||a.source===se.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),lt(a))),this.unpublishTrack(a);else if(a.isUserProvided)yield a.mute();else if(Ki(a)||Po(a))try{if(or())try{const c=yield navigator==null?void 0:navigator.permissions.query({name:a.source===se.Source.Camera?"camera":"microphone"});if(c&&c.state==="denied")throw this.log.warn("user has revoked access to ".concat(a.source),Object.assign(Object.assign({},this.logContext),lt(a))),c.onchange=()=>{c.state!=="denied"&&(a.isMuted||a.restartTrack(),c.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}a.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),lt(a))),Ki(a)?yield a.restartTrack({deviceId:"default"}):yield a.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),lt(a))),yield a.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=r,this.roomOptions=i,this.setupEngine(r),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=o}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==yr.NONE}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setupEngine(t){var n;this.engine=t,this.engine.on(xe.RemoteMute,(r,i)=>{const o=this.trackPublications.get(r);!o||!o.track||(i?o.mute():o.unmute())}),!((n=this.signalConnectedFuture)===null||n===void 0)&&n.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(xe.Connected,this.handleReconnected).on(xe.SignalConnected,this.handleSignalConnected).on(xe.SignalRestarted,this.handleReconnected).on(xe.SignalResumed,this.handleReconnected).on(xe.Restarting,this.handleReconnecting).on(xe.Resuming,this.handleReconnecting).on(xe.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(xe.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(xe.Closing,this.handleClosing).on(xe.SignalRequestResponse,this.handleSignalRequestResponse).on(xe.DataPacketReceived,this.handleDataPacket)}setMetadata(t){return z(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:t})})}setName(t){return z(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:t})})}setAttributes(t){return z(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:t})})}requestMetadataUpdate(t){return z(this,arguments,void 0,function(n){var r=this;let{metadata:i,name:o,attributes:a}=n;return function*(){return new Promise((c,u)=>z(r,void 0,void 0,function*(){var d,p;try{let h=!1;const g=yield this.engine.client.sendUpdateLocalMetadata((d=i??this.metadata)!==null&&d!==void 0?d:"",(p=o??this.name)!==null&&p!==void 0?p:"",a),v=performance.now();for(this.pendingSignalRequests.set(g,{resolve:c,reject:S=>{u(S),h=!0},values:{name:o,metadata:i,attributes:a}});performance.now()-v<5e3&&!h;){if((!o||this.name===o)&&(!i||this.metadata===i)&&(!a||Object.entries(a).every(S=>{let[b,x]=S;return this.attributes[b]===x||x===""&&!this.attributes[b]}))){this.pendingSignalRequests.delete(g),c();return}yield ar(50)}u(new Vk("Request to update local metadata timed out","TimeoutError"))}catch(h){h instanceof Error&&u(h)}}))}()})}setCameraEnabled(t,n,r){return this.setTrackEnabled(se.Source.Camera,t,n,r)}setMicrophoneEnabled(t,n,r){return this.setTrackEnabled(se.Source.Microphone,t,n,r)}setScreenShareEnabled(t,n,r){return this.setTrackEnabled(se.Source.ScreenShare,t,n,r)}setPermissions(t){const n=this.permissions,r=super.setPermissions(t);return r&&n&&this.emit(ae.ParticipantPermissionsChanged,n),r}setE2EEEnabled(t){return z(this,void 0,void 0,function*(){this.encryptionType=t?yr.GCM:yr.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(t,n,r,i){return z(this,void 0,void 0,function*(){var o,a;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:t,enabled:n})),this.republishPromise&&(yield this.republishPromise);let c=this.getTrackPublication(t);if(n)if(c)yield c.unmute();else{let u;if(this.pendingPublishing.has(t)){const d=yield this.waitForPendingPublicationOfSource(t);return d||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t})),yield d==null?void 0:d.unmute(),d}this.pendingPublishing.add(t);try{switch(t){case se.Source.Camera:u=yield this.createTracks({video:(o=r)!==null&&o!==void 0?o:!0});break;case se.Source.Microphone:u=yield this.createTracks({audio:(a=r)!==null&&a!==void 0?a:!0});break;case se.Source.ScreenShare:u=yield this.createScreenTracks(Object.assign({},r));break;default:throw new Xi(t)}}catch(d){throw u==null||u.forEach(p=>{p.stop()}),d instanceof Error&&this.emit(ae.MediaDevicesError,d,Dg(t)),this.pendingPublishing.delete(t),d}for(const d of u){const p=Object.assign(Object.assign({},this.roomOptions.publishDefaults),r);t===se.Source.Microphone&&Ei(d)&&p.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),d.startPreConnectBuffer())}try{const d=[];for(const h of u)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),lt(h))),d.push(this.publishTrack(h,i));[c]=yield Promise.all(d)}catch(d){throw u==null||u.forEach(p=>{p.stop()}),d}finally{this.pendingPublishing.delete(t)}}else if(!(c!=null&&c.track)&&this.pendingPublishing.has(t)&&(c=yield this.waitForPendingPublicationOfSource(t),c||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t}))),c&&c.track)if(t===se.Source.ScreenShare){c=yield this.unpublishTrack(c.track);const u=this.getTrackPublication(se.Source.ScreenShareAudio);u&&u.track&&this.unpublishTrack(u.track)}else yield c.mute();return c})}enableCameraAndMicrophone(){return z(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(se.Source.Camera)||this.pendingPublishing.has(se.Source.Microphone))){this.pendingPublishing.add(se.Source.Camera),this.pendingPublishing.add(se.Source.Microphone);try{const t=yield this.createTracks({audio:!0,video:!0});yield Promise.all(t.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(se.Source.Camera),this.pendingPublishing.delete(se.Source.Microphone)}}})}createTracks(t){return z(this,void 0,void 0,function*(){var n,r;t??(t={});const i=bE(t,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults);try{return(yield Lf(i,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(c=>(Ei(c)&&(this.microphoneError=void 0,c.setAudioContext(this.audioContext),c.source=se.Source.Microphone,this.emit(ae.AudioStreamAcquired)),ks(c)&&(this.cameraError=void 0,c.source=se.Source.Camera),c))}catch(o){throw o instanceof Error&&(t.audio&&(this.microphoneError=o),t.video&&(this.cameraError=o)),o}})}createScreenTracks(t){return z(this,void 0,void 0,function*(){if(t===void 0&&(t={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new cy("getDisplayMedia not supported");t.resolution===void 0&&!N9()&&(t.resolution=uy.h1080fps30.resolution);const n=G9(t),r=yield navigator.mediaDevices.getDisplayMedia(n),i=r.getVideoTracks();if(i.length===0)throw new Xi("no video track found");const o=new Kd(i[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});o.source=se.Source.ScreenShare,t.contentHint&&(o.mediaStreamTrack.contentHint=t.contentHint);const a=[o];if(r.getAudioTracks().length>0){this.emit(ae.AudioStreamAcquired);const c=new qd(r.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});c.source=se.Source.ScreenShareAudio,a.push(c)}return a})}publishTrack(t,n){return z(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(t,n)})}publishOrRepublishTrack(t,n){return z(this,arguments,void 0,function(r,i){var o=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function*(){var c,u,d,p;Ki(r)&&r.setAudioContext(o.audioContext),yield(c=o.reconnectFuture)===null||c===void 0?void 0:c.promise,o.republishPromise&&!a&&(yield o.republishPromise),ya(r)&&o.pendingPublishPromises.has(r)&&(yield o.pendingPublishPromises.get(r));let h;if(r instanceof MediaStreamTrack)h=r.getConstraints();else{h=r.constraints;let C;switch(r.source){case se.Source.Microphone:C="audioinput";break;case se.Source.Camera:C="videoinput"}C&&o.activeDeviceMap.has(C)&&(h=Object.assign(Object.assign({},h),{deviceId:o.activeDeviceMap.get(C)}))}if(r instanceof MediaStreamTrack)switch(r.kind){case"audio":r=new qd(r,h,!0,o.audioContext,{loggerName:o.roomOptions.loggerName,loggerContextCb:()=>o.logContext});break;case"video":r=new Kd(r,h,!0,{loggerName:o.roomOptions.loggerName,loggerContextCb:()=>o.logContext});break;default:throw new Xi("unsupported MediaStreamTrack kind ".concat(r.kind))}else r.updateLoggerOptions({loggerName:o.roomOptions.loggerName,loggerContextCb:()=>o.logContext});let g;if(o.trackPublications.forEach(C=>{C.track&&C.track===r&&(g=C)}),g)return o.log.warn("track has already been published, skipping",Object.assign(Object.assign({},o.logContext),lt(g))),g;const v="channelCount"in r.mediaStreamTrack.getSettings()&&r.mediaStreamTrack.getSettings().channelCount===2||r.mediaStreamTrack.getConstraints().channelCount===2,S=(u=i==null?void 0:i.forceStereo)!==null&&u!==void 0?u:v;S&&(i||(i={}),i.dtx===void 0&&o.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},o.logContext),lt(r))),i.red===void 0&&o.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(d=i.dtx)!==null&&d!==void 0||(i.dtx=!1),(p=i.red)!==null&&p!==void 0||(i.red=!1));const b=Object.assign(Object.assign({},o.roomOptions.publishDefaults),i);!D9()&&o.roomOptions.e2ee&&(o.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},o.logContext)),b.simulcast=!1),b.source&&(r.source=b.source);const x=new Promise((C,O)=>z(o,void 0,void 0,function*(){try{if(this.engine.client.currentState!==Kt.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:lt(r)}));const R=setTimeout(()=>{O(new $k("publishing rejected as engine not connected within timeout",408))},15e3);yield this.waitUntilEngineConnected(),clearTimeout(R);const P=yield this.publish(r,b,S);C(P)}else try{const R=yield this.publish(r,b,S);C(R)}catch(R){O(R)}}catch(R){O(R)}}));o.pendingPublishPromises.set(r,x);try{return yield x}catch(C){throw C}finally{o.pendingPublishPromises.delete(r)}}()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new ca),this.signalConnectedFuture.promise}hasPermissionsToPublish(t){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),lt(t))),!1;const{canPublish:n,canPublishSources:r}=this.permissions;return n&&(r.length===0||r.map(i=>X9(i)).includes(t.source))?!0:(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),lt(t))),!1)}publish(t,n,r){return z(this,void 0,void 0,function*(){var i,o,a,c,u,d,p,h,g,v;if(!this.hasPermissionsToPublish(t))throw new $k("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(U=>ya(t)&&U.source===t.source)&&t.source!==se.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(t.source),Object.assign(Object.assign({},this.logContext),lt(t))),n.stopMicTrackOnMute&&Ei(t)&&(t.stopOnMute=!0),t.source===se.Source.ScreenShare&&wa()&&(n.simulcast=!1),n.videoCodec==="av1"&&!O9()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!M9()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=Fg),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(U=>n.videoCodec===wd(U.mime))||(n.videoCodec=wd(this.enabledPublishVideoCodecs[0].mime)));const b=n.videoCodec;t.on(Se.Muted,this.onTrackMuted),t.on(Se.Unmuted,this.onTrackUnmuted),t.on(Se.Ended,this.handleTrackEnded),t.on(Se.UpstreamPaused,this.onTrackUpstreamPaused),t.on(Se.UpstreamResumed,this.onTrackUpstreamResumed),t.on(Se.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const x=[],C=!(!((i=n.dtx)!==null&&i!==void 0)||i),O=t.getSourceTrackSettings();O.autoGainControl&&x.push(En.TF_AUTO_GAIN_CONTROL),O.echoCancellation&&x.push(En.TF_ECHO_CANCELLATION),O.noiseSuppression&&x.push(En.TF_NOISE_SUPPRESSION),O.channelCount&&O.channelCount>1&&x.push(En.TF_STEREO),C&&x.push(En.TF_NO_DTX),Ki(t)&&t.hasPreConnectBuffer&&x.push(En.TF_PRECONNECT_BUFFER);const R=new vg({cid:t.mediaStreamTrack.id,name:n.name,type:se.kindToProto(t.kind),muted:t.isMuted,source:se.sourceToProto(t.source),disableDtx:C,encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(!((o=n.red)!==null&&o!==void 0)||o),stream:n==null?void 0:n.stream,backupCodecPolicy:n==null?void 0:n.backupCodecPolicy,audioFeatures:x});let P;if(t.kind===se.Kind.Video){let U={width:0,height:0};try{U=yield t.waitForDimensions()}catch{const N=(c=(a=this.roomOptions.videoCaptureDefaults)===null||a===void 0?void 0:a.resolution)!==null&&c!==void 0?c:cc.h720.resolution;U={width:N.width,height:N.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),lt(t)),{dims:U}))}R.width=U.width,R.height=U.height,Po(t)&&(Ci(b)&&(t.source===se.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in t.mediaStreamTrack&&(t.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),lt(t))))),n.scalabilityMode=(u=n.scalabilityMode)!==null&&u!==void 0?u:"L3T3_KEY"),R.simulcastCodecs=[new gg({codec:b,cid:t.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:Fg}),n.backupCodec&&b!==n.backupCodec.codec&&R.encryption===yr.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),R.simulcastCodecs.push(new gg({codec:n.backupCodec.codec,cid:""})))),P=Ug(t.source===se.Source.ScreenShare,R.width,R.height,n),R.layers=fC(R.width,R.height,P,Ci(n.videoCodec))}else t.kind===se.Kind.Audio&&(P=[{maxBitrate:(d=n.audioPreset)===null||d===void 0?void 0:d.maxBitrate,priority:(h=(p=n.audioPreset)===null||p===void 0?void 0:p.priority)!==null&&h!==void 0?h:"high",networkPriority:(v=(g=n.audioPreset)===null||g===void 0?void 0:g.priority)!==null&&v!==void 0?v:"high"}]);if(!this.engine||this.engine.isClosed)throw new Sn("cannot publish track when not connected");const E=()=>z(this,void 0,void 0,function*(){var U,T,N;if(!this.engine.pcManager)throw new Sn("pcManager is not ready");if(t.sender=yield this.engine.createSender(t,n,P),this.emit(ae.LocalSenderCreated,t.sender,t),Po(t)&&((U=n.degradationPreference)!==null&&U!==void 0||(n.degradationPreference=Nj(t)),t.setDegradationPreference(n.degradationPreference)),P)if(wa()&&t.kind===se.Kind.Audio){let $;for(const W of this.engine.pcManager.publisher.getTransceivers())if(W.sender===t.sender){$=W;break}$&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:$,codec:"opus",maxbr:!((T=P[0])===null||T===void 0)&&T.maxBitrate?P[0].maxBitrate/1e3:0})}else t.codec&&Ci(t.codec)&&(!((N=P[0])===null||N===void 0)&&N.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:R.cid,codec:t.codec,maxbr:P[0].maxBitrate/1e3});yield this.engine.negotiate()});let I;const D=new Promise((U,T)=>z(this,void 0,void 0,function*(){var N;try{I=yield this.engine.addTrack(R),U(I)}catch($){t.sender&&(!((N=this.engine.pcManager)===null||N===void 0)&&N.publisher)&&(this.engine.pcManager.publisher.removeTrack(t.sender),yield this.engine.negotiate().catch(W=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),lt(t)),{error:W}))})),T($)}}));if(this.enabledPublishVideoCodecs.length>0)I=(yield Promise.all([D,E()]))[0];else{I=yield D;let U;if(I.codecs.forEach(T=>{U===void 0&&(U=T.mimeType)}),U&&t.kind===se.Kind.Video){const T=wd(U);T!==b&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),lt(t)),{codec:T})),n.videoCodec=T,P=Ug(t.source===se.Source.ScreenShare,R.width,R.height,n))}yield E()}const B=new $g(t.kind,I,t,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(B.on(Se.CpuConstrained,U=>this.onTrackCpuConstrained(U,B)),B.options=n,t.sid=I.sid,this.log.debug("publishing ".concat(t.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:P,trackInfo:I})),Po(t)?t.startMonitor(this.engine.client):Ki(t)&&t.startMonitor(),this.addTrackPublication(B),this.emit(ae.LocalTrackPublished,B),Ki(t)&&I.audioFeatures.includes(En.TF_PRECONNECT_BUFFER)){const U=t.getPreConnectBuffer(),T=t.getPreConnectBufferMimeType();this.on(ae.LocalTrackSubscribed,N=>{if(N.trackSid===I.sid){if(!t.hasPreConnectBuffer){this.log.warn("subscribe event came to late, buffer already closed",this.logContext);return}this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),lt(t))),t.stopPreConnectBuffer()}}),U&&new Promise(($,W)=>z(this,void 0,void 0,function*(){var K,q,ne,le,ee,Y;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),lt(t)));const L=setTimeout(()=>{W(new Error("agent not active within 10 seconds"))},1e4),ve=yield this.waitUntilActiveAgentPresent();clearTimeout(L),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),lt(t)));const ke=yield this.streamBytes({name:"preconnect-buffer",mimeType:T,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[ve.identity],attributes:{trackId:B.trackSid,sampleRate:String((ee=O.sampleRate)!==null&&ee!==void 0?ee:"48000"),channels:String((Y=O.channelCount)!==null&&Y!==void 0?Y:"1")}});try{for(var A=!0,F=Ji(U),J;J=yield F.next(),K=J.done,!K;A=!0){le=J.value,A=!1;const me=le;yield ke.write(me)}}catch(me){q={error:me}}finally{try{!A&&!K&&(ne=F.return)&&(yield ne.call(F))}finally{if(q)throw q.error}}yield ke.close(),$()}catch(L){W(L)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),lt(t)))}).catch($=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),lt(t)),{error:$}))})}return B})}get isLocal(){return!0}publishAdditionalCodecForTrack(t,n,r){return z(this,void 0,void 0,function*(){var i;if(this.encryptionType!==yr.NONE)return;let o;if(this.trackPublications.forEach(v=>{v.track&&v.track===t&&(o=v)}),!o)throw new Xi("track is not published");if(!Po(t))throw new Xi("track is not a video track");const a=Object.assign(Object.assign({},(i=this.roomOptions)===null||i===void 0?void 0:i.publishDefaults),r),c=Oj(t,n,a);if(!c){this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),lt(t)));return}const u=t.addSimulcastTrack(n,c);if(!u)return;const d=new vg({cid:u.mediaStreamTrack.id,type:se.kindToProto(t.kind),muted:t.isMuted,source:se.sourceToProto(t.source),sid:t.sid,simulcastCodecs:[{codec:a.videoCodec,cid:u.mediaStreamTrack.id}]});if(d.layers=fC(d.width,d.height,c),!this.engine||this.engine.isClosed)throw new Sn("cannot publish track when not connected");const p=()=>z(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(t,u,a,c),yield this.engine.negotiate()}),g=(yield Promise.all([this.engine.addTrack(d),p()]))[0];this.log.debug("published ".concat(n," for track ").concat(t.sid),Object.assign(Object.assign({},this.logContext),{encodings:c,trackInfo:g}))})}unpublishTrack(t,n){return z(this,void 0,void 0,function*(){var r,i;if(ya(t)){const d=this.pendingPublishPromises.get(t);d&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),lt(t))),yield d)}const o=this.getPublicationForTrack(t),a=o?lt(o):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),a)),!o||!o.track){this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),a));return}t=o.track,t.off(Se.Muted,this.onTrackMuted),t.off(Se.Unmuted,this.onTrackUnmuted),t.off(Se.Ended,this.handleTrackEnded),t.off(Se.UpstreamPaused,this.onTrackUpstreamPaused),t.off(Se.UpstreamResumed,this.onTrackUpstreamResumed),t.off(Se.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(i=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)!==null&&i!==void 0?i:!0),n?t.stop():t.stopMonitor();let c=!1;const u=t.sender;if(t.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<sn.FAILED&&u)try{for(const d of this.engine.pcManager.publisher.getTransceivers())d.sender===u&&(d.direction="inactive",c=!0);if(this.engine.removeTrack(u)&&(c=!0),Po(t)){for(const[,d]of t.simulcastCodecs)d.sender&&(this.engine.removeTrack(d.sender)&&(c=!0),d.sender=void 0);t.simulcastCodecs.clear()}}catch(d){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),a),{error:d}))}switch(this.trackPublications.delete(o.trackSid),o.kind){case se.Kind.Audio:this.audioTrackPublications.delete(o.trackSid);break;case se.Kind.Video:this.videoTrackPublications.delete(o.trackSid);break}return this.emit(ae.LocalTrackUnpublished,o),o.setTrack(void 0),c&&(yield this.engine.negotiate()),o})}unpublishTracks(t){return z(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>this.unpublishTrack(r)))).filter(r=>!!r)})}republishAllTracks(t){return z(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){r.republishPromise&&(yield r.republishPromise),r.republishPromise=new Promise((o,a)=>z(r,void 0,void 0,function*(){try{const c=[];this.trackPublications.forEach(u=>{u.track&&(n&&(u.options=Object.assign(Object.assign({},u.options),n)),c.push(u))}),yield Promise.all(c.map(u=>z(this,void 0,void 0,function*(){const d=u.track;yield this.unpublishTrack(d,!1),i&&!d.isMuted&&d.source!==se.Source.ScreenShare&&d.source!==se.Source.ScreenShareAudio&&(Ki(d)||Po(d))&&!d.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:u.trackSid})),yield d.restartTrack()),yield this.publishOrRepublishTrack(d,u.options,!0)}))),o()}catch(c){a(c)}finally{this.republishPromise=void 0}})),yield r.republishPromise}()})}publishData(t){return z(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const o=i.reliable?rt.RELIABLE:rt.LOSSY,a=i.destinationIdentities,c=i.topic,u=new rr({kind:o,value:{case:"user",value:new pT({participantIdentity:r.identity,payload:n,destinationIdentities:a,topic:c})}});yield r.engine.sendDataPacket(u,o)}()})}publishDtmf(t,n){return z(this,void 0,void 0,function*(){const r=new rr({kind:rt.RELIABLE,value:{case:"sipDtmf",value:new hT({code:t,digit:n})}});yield this.engine.sendDataPacket(r,rt.RELIABLE)})}sendChatMessage(t,n){return z(this,void 0,void 0,function*(){const r={id:crypto.randomUUID(),message:t,timestamp:Date.now(),attachedFiles:n==null?void 0:n.attachments},i=new rr({value:{case:"chatMessage",value:new ug(Object.assign(Object.assign({},r),{timestamp:Xt.parse(r.timestamp)}))}});return yield this.engine.sendDataPacket(i,rt.RELIABLE),this.emit(ae.ChatMessage,r),r})}editChatMessage(t,n){return z(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},n),{message:t,editTimestamp:Date.now()}),i=new rr({value:{case:"chatMessage",value:new ug(Object.assign(Object.assign({},r),{timestamp:Xt.parse(r.timestamp),editTimestamp:Xt.parse(r.editTimestamp)}))}});return yield this.engine.sendDataPacket(i,rt.RELIABLE),this.emit(ae.ChatMessage,r),r})}sendText(t,n){return z(this,void 0,void 0,function*(){var r;const i=crypto.randomUUID(),a=new TextEncoder().encode(t).byteLength,c=(r=n==null?void 0:n.attachments)===null||r===void 0?void 0:r.map(()=>crypto.randomUUID()),u=new Array(c?c.length+1:1).fill(0),d=(h,g)=>{var v;u[g]=h;const S=u.reduce((b,x)=>b+x,0);(v=n==null?void 0:n.onProgress)===null||v===void 0||v.call(n,S)},p=yield this.streamText({streamId:i,totalSize:a,destinationIdentities:n==null?void 0:n.destinationIdentities,topic:n==null?void 0:n.topic,attachedStreamIds:c,attributes:n==null?void 0:n.attributes});return yield p.write(t),d(1,0),yield p.close(),n!=null&&n.attachments&&c&&(yield Promise.all(n.attachments.map((h,g)=>z(this,void 0,void 0,function*(){return this._sendFile(c[g],h,{topic:n.topic,mimeType:h.type,onProgress:v=>{d(v,g+1)}})})))),p.info})}streamText(t){return z(this,void 0,void 0,function*(){var n,r;const i=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),o={id:i,mimeType:"text/plain",timestamp:Date.now(),topic:(r=t==null?void 0:t.topic)!==null&&r!==void 0?r:"",size:t==null?void 0:t.totalSize,attributes:t==null?void 0:t.attributes},a=new fg({streamId:i,mimeType:o.mimeType,topic:o.topic,timestamp:os(o.timestamp),totalLength:os(t==null?void 0:t.totalSize),attributes:o.attributes,contentHeader:{case:"textHeader",value:new TT({version:t==null?void 0:t.version,attachedStreamIds:t==null?void 0:t.attachedStreamIds,replyToStreamId:t==null?void 0:t.replyToStreamId,operationType:(t==null?void 0:t.type)==="update"?dg.UPDATE:dg.CREATE})}}),c=t==null?void 0:t.destinationIdentities,u=new rr({destinationIdentities:c,value:{case:"streamHeader",value:a}});yield this.engine.sendDataPacket(u,rt.RELIABLE);let d=0;const p=this,h=new WritableStream({write(S){return z(this,void 0,void 0,function*(){for(const b of q9(S,mC)){yield p.engine.waitForBufferStatusLow(rt.RELIABLE);const x=new pg({content:b,streamId:i,chunkIndex:os(d)}),C=new rr({destinationIdentities:c,value:{case:"streamChunk",value:x}});yield p.engine.sendDataPacket(C,rt.RELIABLE),d+=1}})},close(){return z(this,void 0,void 0,function*(){const S=new hg({streamId:i}),b=new rr({destinationIdentities:c,value:{case:"streamTrailer",value:S}});yield p.engine.sendDataPacket(b,rt.RELIABLE)})},abort(S){console.log("Sink error:",S)}});let g=()=>z(this,void 0,void 0,function*(){yield v.close()});p.engine.once(xe.Closing,g);const v=new Hj(h,o,()=>this.engine.off(xe.Closing,g));return v})}sendFile(t,n){return z(this,void 0,void 0,function*(){const r=crypto.randomUUID();return yield this._sendFile(r,t,n),{id:r}})}_sendFile(t,n,r){return z(this,void 0,void 0,function*(){var i;const o=yield this.streamBytes({streamId:t,totalSize:n.size,name:n.name,mimeType:(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:n.type,topic:r==null?void 0:r.topic,destinationIdentities:r==null?void 0:r.destinationIdentities}),a=n.stream().getReader();for(;;){const{done:c,value:u}=yield a.read();if(c)break;yield o.write(u)}return yield o.close(),o.info})}streamBytes(t){return z(this,void 0,void 0,function*(){var n,r,i,o,a;const c=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),u=t==null?void 0:t.destinationIdentities,d={id:c,mimeType:(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:"application/octet-stream",topic:(i=t==null?void 0:t.topic)!==null&&i!==void 0?i:"",timestamp:Date.now(),attributes:t==null?void 0:t.attributes,size:t==null?void 0:t.totalSize,name:(o=t==null?void 0:t.name)!==null&&o!==void 0?o:"unknown"},p=new fg({totalLength:os((a=d.size)!==null&&a!==void 0?a:0),mimeType:d.mimeType,streamId:c,topic:d.topic,timestamp:os(Date.now()),attributes:d.attributes,contentHeader:{case:"byteHeader",value:new ET({name:d.name})}}),h=new rr({destinationIdentities:u,value:{case:"streamHeader",value:p}});yield this.engine.sendDataPacket(h,rt.RELIABLE);let g=0;const v=new Yn,S=this.engine,b=this.log,x=new WritableStream({write(O){return z(this,void 0,void 0,function*(){const R=yield v.lock();let P=0;try{for(;P<O.byteLength;){const E=O.slice(P,P+mC);yield S.waitForBufferStatusLow(rt.RELIABLE);const I=new rr({destinationIdentities:u,value:{case:"streamChunk",value:new pg({content:E,streamId:c,chunkIndex:os(g)})}});yield S.sendDataPacket(I,rt.RELIABLE),g+=1,P+=E.byteLength}}finally{R()}})},close(){return z(this,void 0,void 0,function*(){const O=new hg({streamId:c}),R=new rr({destinationIdentities:u,value:{case:"streamTrailer",value:O}});yield S.sendDataPacket(R,rt.RELIABLE)})},abort(O){b.error("Sink error:",O)}});return new Wj(x,d)})}performRpc(t){return z(this,arguments,void 0,function(n){var r=this;let{destinationIdentity:i,method:o,payload:a,responseTimeout:c=1e4}=n;return function*(){return new Promise((d,p)=>z(r,void 0,void 0,function*(){var h,g,v,S;if(gy(a)>EE){p(ln.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));return}if(!((g=(h=this.engine.latestJoinResponse)===null||h===void 0?void 0:h.serverInfo)===null||g===void 0)&&g.version&&_i((S=(v=this.engine.latestJoinResponse)===null||v===void 0?void 0:v.serverInfo)===null||S===void 0?void 0:S.version,"1.8.0")<0){p(ln.builtIn("UNSUPPORTED_SERVER"));return}const b=crypto.randomUUID();yield this.publishRpcRequest(i,b,o,a,c-2e3);const x=setTimeout(()=>{this.pendingAcks.delete(b),p(ln.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(b),clearTimeout(C)},2e3);this.pendingAcks.set(b,{resolve:()=>{clearTimeout(x)},participantIdentity:i});const C=setTimeout(()=>{this.pendingResponses.delete(b),p(ln.builtIn("RESPONSE_TIMEOUT"))},c);this.pendingResponses.set(b,{resolve:(O,R)=>{clearTimeout(C),this.pendingAcks.has(b)&&(console.warn("RPC response received before ack",b),this.pendingAcks.delete(b),clearTimeout(x)),R?p(R):d(O??"")},participantIdentity:i})}))}()})}registerRpcMethod(t,n){this.rpcHandlers.has(t)&&this.log.warn("you're overriding the RPC handler for method ".concat(t,", in the future this will throw an error")),this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}setTrackSubscriptionPermissions(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=t,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(t){const n=this.pendingAcks.get(t);n?(n.resolve(),this.pendingAcks.delete(t)):console.error("Ack received for unexpected RPC request",t)}handleIncomingRpcResponse(t,n,r){const i=this.pendingResponses.get(t);i?(i.resolve(n,r),this.pendingResponses.delete(t)):console.error("Response received for unexpected RPC request",t)}publishRpcRequest(t,n,r,i,o){return z(this,void 0,void 0,function*(){const a=new rr({destinationIdentities:[t],kind:rt.RELIABLE,value:{case:"rpcRequest",value:new mT({id:n,method:r,payload:i,responseTimeoutMs:o,version:1})}});yield this.engine.sendDataPacket(a,rt.RELIABLE)})}handleParticipantDisconnected(t){for(const[n,{participantIdentity:r}]of this.pendingAcks)r===t&&this.pendingAcks.delete(n);for(const[n,{participantIdentity:r,resolve:i}]of this.pendingResponses)r===t&&(i(null,ln.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(n))}setEnabledPublishCodecs(t){this.enabledPublishVideoCodecs=t.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(t){return super.updateInfo(t)?(t.tracks.forEach(n=>{var r,i;const o=this.trackPublications.get(n.sid);if(o){const a=o.isMuted||((i=(r=o.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&i!==void 0?i:!1);a!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),lt(o)),{mutedOnServer:a})),this.engine.client.sendMuteTrack(n.sid,a))}}),!0):!1}setActiveAgent(t){var n,r,i,o;this.firstActiveAgent=t,t&&!this.firstActiveAgent&&(this.firstActiveAgent=t),t?(r=(n=this.activeAgentFuture)===null||n===void 0?void 0:n.resolve)===null||r===void 0||r.call(n,t):(o=(i=this.activeAgentFuture)===null||i===void 0?void 0:i.reject)===null||o===void 0||o.call(i,"Agent disconnected"),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new ca),this.activeAgentFuture.promise)}getPublicationForTrack(t){let n;return this.trackPublications.forEach(r=>{const i=r.track;i&&(t instanceof MediaStreamTrack?(Ki(i)||Po(i))&&i.mediaStreamTrack===t&&(n=r):t===i&&(n=r))}),n}waitForPendingPublicationOfSource(t){return z(this,void 0,void 0,function*(){const r=Date.now();for(;Date.now()<r+1e4;){const i=Array.from(this.pendingPublishPromises.entries()).find(o=>{let[a]=o;return a.source===t});if(i)return i[1];yield ar(20)}})}}class LE extends Gi{constructor(t,n,r,i){super(t,n.sid,n.name,i),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=o=>{this.setTrack(void 0),this.emit(Se.Ended,o)},this.handleVisibilityChange=o=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(o),this.logContext),this.visible=o,this.emitTrackUpdate()},this.handleVideoDimensionsChange=o=>{this.log.debug("adaptivestream video dimensions ".concat(o.width,"x").concat(o.height),this.logContext),this.videoDimensionsAdaptiveStream=o,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=t,t&&(this.allowed=!0);const i=new Of({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new bT({participantSid:"",trackSids:[this.trackSid]})]});this.emit(Se.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?Gi.SubscriptionStatus.Unsubscribed:super.isSubscribed?Gi.SubscriptionStatus.Subscribed:Gi.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Gi.PermissionStatus.Allowed:Gi.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return this.requestedDisabled!==void 0?!this.requestedDisabled:this.isAdaptiveStream?this.visible:!0}get isLocal(){return!1}setEnabled(t){!this.isManualOperationAllowed()||this.requestedDisabled===!t||(this.requestedDisabled=!t,this.emitTrackUpdate())}setVideoQuality(t){!this.isManualOperationAllowed()||this.requestedMaxQuality===t||(this.requestedMaxQuality=t,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(t){var n,r;this.isManualOperationAllowed()&&(((n=this.requestedVideoDimensions)===null||n===void 0?void 0:n.width)===t.width&&((r=this.requestedVideoDimensions)===null||r===void 0?void 0:r.height)===t.height||(bm(this.track)&&(this.requestedVideoDimensions=t),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(t){this.isManualOperationAllowed()&&bm(this.track)&&this.fps!==t&&(this.fps=t,this.emitTrackUpdate())}get videoQuality(){var t;return(t=this.requestedMaxQuality)!==null&&t!==void 0?t:Cr.HIGH}setTrack(t){const n=this.subscriptionStatus,r=this.permissionStatus,i=this.track;i!==t&&(i&&(i.off(Se.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(Se.VisibilityChanged,this.handleVisibilityChange),i.off(Se.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(Se.Unsubscribed,i)),super.setTrack(t),t&&(t.sid=this.trackSid,t.on(Se.VideoDimensionsChanged,this.handleVideoDimensionsChange),t.on(Se.VisibilityChanged,this.handleVisibilityChange),t.on(Se.Ended,this.handleEnded),this.emit(Se.Subscribed,t)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=t,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(t){this.emit(Se.SubscriptionFailed,t)}updateInfo(t){super.updateInfo(t);const n=this.metadataMuted;this.metadataMuted=t.muted,this.track?this.track.setMuted(t.muted):n!==t.muted&&this.emit(t.muted?Se.Muted:Se.Unmuted)}emitSubscriptionUpdateIfChanged(t){const n=this.subscriptionStatus;t!==n&&this.emit(Se.SubscriptionStatusChanged,n,t)}emitPermissionUpdateIfChanged(t){this.permissionStatus!==t&&this.emit(Se.SubscriptionPermissionChanged,this.permissionStatus,t)}isManualOperationAllowed(){return this.isDesired?!0:(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return bm(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const t=new PT({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===se.Kind.Video){let n=this.requestedVideoDimensions;if(this.videoDimensionsAdaptiveStream!==void 0)if(n)Xk(this.videoDimensionsAdaptiveStream,n)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream);else if(this.requestedMaxQuality!==void 0&&this.trackInfo){const r=Z9(this.trackInfo,this.requestedMaxQuality);r&&Xk(this.videoDimensionsAdaptiveStream,r)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream;n?(t.width=Math.ceil(n.width),t.height=Math.ceil(n.height)):this.requestedMaxQuality!==void 0?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),t.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:Cr.HIGH})),t.quality=Cr.HIGH)}this.emit(Se.UpdateSettings,t)}}class Gd extends NE{static fromParticipantInfo(t,n,r){return new Gd(t,n.sid,n.identity,n.name,n.metadata,n.attributes,r,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(t,n,r,i,o,a,c){let u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:ac.STANDARD;super(n,r||"",i,o,a,c,u),this.signalClient=t,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(t){super.addTrackPublication(t),t.on(Se.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),lt(t)),{settings:n})),this.signalClient.sendUpdateTrackSettings(n)}),t.on(Se.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),t.on(Se.SubscriptionPermissionChanged,n=>{this.emit(ae.TrackSubscriptionPermissionChanged,t,n)}),t.on(Se.SubscriptionStatusChanged,n=>{this.emit(ae.TrackSubscriptionStatusChanged,t,n)}),t.on(Se.Subscribed,n=>{this.emit(ae.TrackSubscribed,n,t)}),t.on(Se.Unsubscribed,n=>{this.emit(ae.TrackUnsubscribed,n,t)}),t.on(Se.SubscriptionFailed,n=>{this.emit(ae.TrackSubscriptionFailed,t.trackSid,n)})}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setVolume(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se.Source.Microphone;this.volumeMap.set(n,t);const r=this.getTrackPublication(n);r&&r.track&&r.track.setVolume(t)}getVolume(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se.Source.Microphone;const n=this.getTrackPublication(t);return n&&n.track?n.track.getVolume():this.volumeMap.get(t)}addSubscribedMediaTrack(t,n,r,i,o,a){let c=this.getTrackPublicationBySid(n);if(c||n.startsWith("TR")||this.trackPublications.forEach(p=>{!c&&t.kind===p.kind.toString()&&(c=p)}),!c){if(a===0){this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),this.emit(ae.TrackSubscriptionFailed,n);return}a===void 0&&(a=20),setTimeout(()=>{this.addSubscribedMediaTrack(t,n,r,i,o,a-1)},150);return}if(t.readyState==="ended"){this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),lt(c))),this.emit(ae.TrackSubscriptionFailed,n);return}const u=t.kind==="video";let d;return u?d=new qj(t,n,i,o):d=new AE(t,n,i,this.audioContext,this.audioOutput),d.source=c.source,d.isMuted=c.isMuted,d.setMediaStream(r),d.start(),c.setTrack(d),this.volumeMap.has(c.source)&&Ng(d)&&Ei(d)&&d.setVolume(this.volumeMap.get(c.source)),c}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(t){return this.trackPublications.get(t)}updateInfo(t){if(!super.updateInfo(t))return!1;const n=new Map,r=new Map;return t.tracks.forEach(i=>{var o,a;let c=this.getTrackPublicationBySid(i.sid);if(c)c.updateInfo(i);else{const u=se.kindFromProto(i.type);if(!u)return;c=new LE(u,i,(o=this.signalClient.connectOptions)===null||o===void 0?void 0:o.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(a=this.loggerOptions)===null||a===void 0?void 0:a.loggerName}),c.updateInfo(i),r.set(i.sid,c);const d=Array.from(this.trackPublications.values()).find(p=>p.source===(c==null?void 0:c.source));d&&c.source!==se.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(c.source),Object.assign(Object.assign({},this.logContext),{oldTrack:lt(d),newTrack:lt(c)})),this.addTrackPublication(c)}n.set(i.sid,c)}),this.trackPublications.forEach(i=>{n.has(i.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),lt(i))),this.unpublishTrack(i.trackSid,!0))}),r.forEach(i=>{this.emit(ae.TrackPublished,i)}),!0}unpublishTrack(t,n){const r=this.trackPublications.get(t);if(!r)return;const{track:i}=r;switch(i&&(i.stop(),r.setTrack(void 0)),this.trackPublications.delete(t),r.kind){case se.Kind.Audio:this.audioTrackPublications.delete(t);break;case se.Kind.Video:this.videoTrackPublications.delete(t);break}n&&this.emit(ae.TrackUnpublished,r)}setAudioOutput(t){return z(this,void 0,void 0,function*(){this.audioOutput=t;const n=[];this.audioTrackPublications.forEach(r=>{var i;Ei(r.track)&&Ng(r.track)&&n.push(r.track.setSinkId((i=t.deviceId)!==null&&i!==void 0?i:"default"))}),yield Promise.all(n)})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:t,args:r})),super.emit(t,...r)}}var Tt;(function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"})(Tt||(Tt={}));const Zj=4*1e3;class Ta extends Ni.EventEmitter{constructor(t){var n,r,i,o;if(super(),n=this,this.state=Tt.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=dt,this.bufferedEvents=[],this.isResuming=!1,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map,this.rpcHandlers=new Map,this.connect=(a,c,u)=>z(this,void 0,void 0,function*(){var d;if(!A9())throw Ii()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const p=yield this.disconnectLock.lock();if(this.state===Tt.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),p(),Promise.resolve();if(this.connectFuture)return p(),this.connectFuture.promise;this.setAndEmitConnectionState(Tt.Connecting),((d=this.regionUrlProvider)===null||d===void 0?void 0:d.getServerUrl().toString())!==a&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),Mg(new URL(a))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new Bg(a,c):this.regionUrlProvider.updateToken(c),this.regionUrlProvider.fetchRegionSettings().then(v=>{var S;(S=this.regionUrlProvider)===null||S===void 0||S.setServerReportedRegions(v)}).catch(v=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:v}))}));const h=(v,S,b)=>z(this,void 0,void 0,function*(){var x,C;this.abortController&&this.abortController.abort();const O=new AbortController;this.abortController=O,p==null||p();try{yield this.attemptConnection(b??a,c,u,O),this.abortController=void 0,v()}catch(R){if(this.regionUrlProvider&&R instanceof Bt&&R.reason!==ft.Cancelled&&R.reason!==ft.NotAllowed){let P=null;try{P=yield this.regionUrlProvider.getNextBestRegionUrl((x=this.abortController)===null||x===void 0?void 0:x.signal)}catch(E){if(E instanceof Bt&&(E.status===401||E.reason===ft.Cancelled)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),S(E);return}}P&&!(!((C=this.abortController)===null||C===void 0)&&C.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(R.message,". Retrying with another region: ").concat(P),this.logContext),this.recreateEngine(),yield h(v,S,P)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Jk(R)),S(R))}else{let P=ti.UNKNOWN_REASON;R instanceof Bt&&(P=Jk(R)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,P),S(R)}}}),g=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new ca((v,S)=>{h(v,S,g)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(a,c,u,d,p,h)=>z(this,void 0,void 0,function*(){var g,v,S;const b=yield u.join(a,c,{autoSubscribe:d.autoSubscribe,adaptiveStream:typeof p.adaptiveStream=="object"?!0:p.adaptiveStream,maxRetries:d.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:d.websocketTimeout},h.signal);let x=b.serverInfo;if(x||(x={version:b.serverVersion,region:b.serverRegion}),this.serverInfo=x,this.log.debug("connected to Livekit Server ".concat(Object.entries(x).map(C=>{let[O,R]=C;return"".concat(O,": ").concat(R)}).join(", ")),{room:(g=b.room)===null||g===void 0?void 0:g.name,roomSid:(v=b.room)===null||v===void 0?void 0:v.sid,identity:(S=b.participant)===null||S===void 0?void 0:S.identity}),!x.version)throw new y9("unknown server version");return x.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),p.dynacast=!1),b}),this.applyJoinResponse=a=>{const c=a.participant;if(this.localParticipant.sid=c.sid,this.localParticipant.identity=c.identity,this.localParticipant.setEnabledPublishCodecs(a.enabledPublishCodecs),this.options.e2ee&&this.e2eeManager)try{this.e2eeManager.setSifTrailer(a.sifTrailer)}catch(u){this.log.error(u instanceof Error?u.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:u}))}this.handleParticipantUpdates([c,...a.otherParticipants]),a.room&&this.handleRoomUpdate(a.room)},this.attemptConnection=(a,c,u,d)=>z(this,void 0,void 0,function*(){var p,h;this.state===Tt.Reconnecting||this.isResuming||!((p=this.engine)===null||p===void 0)&&p.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((h=this.regionUrlProvider)===null||h===void 0)&&h.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},my),u),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const g=yield this.connectSignal(a,c,this.engine,this.connOptions,this.options,d);this.applyJoinResponse(g),this.setupLocalParticipantEvents(),this.emit(oe.SignalConnected)}catch(g){yield this.engine.close(),this.recreateEngine();const v=new Bt("could not establish signal connection",ft.ServerUnreachable);throw g instanceof Error&&(v.message="".concat(v.message,": ").concat(g.message)),g instanceof Bt&&(v.reason=g.reason,v.status=g.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:g})),v}if(d.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new Bt("Connection attempt aborted",ft.Cancelled);try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,d)}catch(g){throw yield this.engine.close(),this.recreateEngine(),g}or()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),or()&&document.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(Tt.Connected),this.emit(oe.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return z(n,[...c],void 0,function(){var d=this;let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var h,g,v,S;const b=yield d.disconnectLock.lock();try{if(d.state===Tt.Disconnected){d.log.debug("already disconnected",d.logContext);return}d.log.info("disconnect from room",Object.assign({},d.logContext)),(d.state===Tt.Connecting||d.state===Tt.Reconnecting||d.isResuming)&&(d.log.warn("abort connection attempt",d.logContext),(h=d.abortController)===null||h===void 0||h.abort(),(v=(g=d.connectFuture)===null||g===void 0?void 0:g.reject)===null||v===void 0||v.call(g,new Bt("Client initiated disconnect",ft.Cancelled)),d.connectFuture=void 0),!((S=d.engine)===null||S===void 0)&&S.client.isDisconnected||(yield d.engine.client.sendLeave()),d.engine&&(yield d.engine.close()),d.handleDisconnect(p,ti.CLIENT_INITIATED),d.engine=void 0}finally{b()}}()})},this.onPageLeave=()=>z(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>z(this,void 0,void 0,function*(){const a=[],c=wr();if(c&&c.os==="iOS"){const u="livekit-dummy-audio-el";let d=document.getElementById(u);if(!d){d=document.createElement("audio"),d.id=u,d.autoplay=!0,d.hidden=!0;const p=ym();p.enabled=!0;const h=new MediaStream([p]);d.srcObject=h,document.addEventListener("visibilitychange",()=>{d&&(d.srcObject=document.hidden?null:h,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(d),this.once(oe.Disconnected,()=>{d==null||d.remove(),d=null})}a.push(d)}this.remoteParticipants.forEach(u=>{u.audioTrackPublications.forEach(d=>{d.track&&d.track.attachedElements.forEach(p=>{a.push(p)})})});try{yield Promise.all([this.acquireAudioContext(),...a.map(u=>(u.muted=!1,u.play()))]),this.handleAudioPlaybackStarted()}catch(u){throw this.handleAudioPlaybackFailed(u),u}}),this.startVideo=()=>z(this,void 0,void 0,function*(){const a=[];for(const c of this.remoteParticipants.values())c.videoTrackPublications.forEach(u=>{var d;(d=u.track)===null||d===void 0||d.attachedElements.forEach(p=>{a.includes(p)||a.push(p)})});yield Promise.all(a.map(c=>c.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(c=>{c.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const a of this.remoteParticipants.values())this.handleParticipantDisconnected(a.identity,a);this.setAndEmitConnectionState(Tt.Reconnecting)&&this.emit(oe.Reconnecting)},this.handleSignalRestarted=a=>z(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(a.serverRegion),Object.assign(Object.assign({},this.logContext),{region:a.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(a);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(c){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:c}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:a.serverRegion}))}catch{return}this.setAndEmitConnectionState(Tt.Connected),this.emit(oe.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=a=>{a.forEach(c=>{var u;if(c.identity===this.localParticipant.identity){this.localParticipant.updateInfo(c);return}c.identity===""&&(c.identity=(u=this.sidToIdentity.get(c.sid))!==null&&u!==void 0?u:"");let d=this.remoteParticipants.get(c.identity);c.state===ha.DISCONNECTED?this.handleParticipantDisconnected(c.identity,d):d=this.getOrCreateParticipant(c.identity,c)})},this.handleActiveSpeakersUpdate=a=>{const c=[],u={};a.forEach(d=>{if(u[d.sid]=!0,d.sid===this.localParticipant.sid)this.localParticipant.audioLevel=d.level,this.localParticipant.setIsSpeaking(!0),c.push(this.localParticipant);else{const p=this.getRemoteParticipantBySid(d.sid);p&&(p.audioLevel=d.level,p.setIsSpeaking(!0),c.push(p))}}),u[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(d=>{u[d.sid]||(d.audioLevel=0,d.setIsSpeaking(!1))}),this.activeSpeakers=c,this.emitWhenConnected(oe.ActiveSpeakersChanged,c)},this.handleSpeakersChanged=a=>{const c=new Map;this.activeSpeakers.forEach(d=>{const p=this.remoteParticipants.get(d.identity);p&&p.sid!==d.sid||c.set(d.sid,d)}),a.forEach(d=>{let p=this.getRemoteParticipantBySid(d.sid);d.sid===this.localParticipant.sid&&(p=this.localParticipant),p&&(p.audioLevel=d.level,p.setIsSpeaking(d.active),d.active?c.set(d.sid,p):c.delete(d.sid))});const u=Array.from(c.values());u.sort((d,p)=>p.audioLevel-d.audioLevel),this.activeSpeakers=u,this.emitWhenConnected(oe.ActiveSpeakersChanged,u)},this.handleStreamStateUpdate=a=>{a.streamStates.forEach(c=>{const u=this.getRemoteParticipantBySid(c.participantSid);if(!u)return;const d=u.getTrackPublicationBySid(c.trackSid);if(!d||!d.track)return;const p=se.streamStateFromProto(c.state);p!==d.track.streamState&&(d.track.streamState=p,u.emit(ae.TrackStreamStateChanged,d,d.track.streamState),this.emitWhenConnected(oe.TrackStreamStateChanged,d,d.track.streamState,u))})},this.handleSubscriptionPermissionUpdate=a=>{const c=this.getRemoteParticipantBySid(a.participantSid);if(!c)return;const u=c.getTrackPublicationBySid(a.trackSid);u&&u.setAllowed(a.allowed)},this.handleSubscriptionError=a=>{const c=Array.from(this.remoteParticipants.values()).find(d=>d.trackPublications.has(a.trackSid));if(!c)return;const u=c.getTrackPublicationBySid(a.trackSid);u&&u.setSubscriptionError(a.err)},this.handleDataPacket=a=>{const c=this.remoteParticipants.get(a.participantIdentity);if(a.value.case==="user")this.handleUserPacket(c,a.value.value,a.kind);else if(a.value.case==="transcription")this.handleTranscription(c,a.value.value);else if(a.value.case==="sipDtmf")this.handleSipDtmf(c,a.value.value);else if(a.value.case==="chatMessage")this.handleChatMessage(c,a.value.value);else if(a.value.case==="metrics")this.handleMetrics(a.value.value,c);else if(a.value.case==="streamHeader")this.handleStreamHeader(a.value.value,a.participantIdentity);else if(a.value.case==="streamChunk")this.handleStreamChunk(a.value.value);else if(a.value.case==="streamTrailer")this.handleStreamTrailer(a.value.value);else if(a.value.case==="rpcRequest"){const u=a.value.value;this.handleIncomingRpcRequest(a.participantIdentity,u.id,u.method,u.payload,u.responseTimeoutMs,u.version)}},this.handleUserPacket=(a,c,u)=>{this.emit(oe.DataReceived,c.payload,a,u,c.topic),a==null||a.emit(ae.DataReceived,c.payload,u)},this.handleSipDtmf=(a,c)=>{this.emit(oe.SipDTMFReceived,c,a),a==null||a.emit(ae.SipDTMFReceived,c)},this.bufferedSegments=new Map,this.handleTranscription=(a,c)=>{const u=c.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(c.transcribedParticipantIdentity),d=u==null?void 0:u.trackPublications.get(c.trackId),p=$9(c,this.transcriptionReceivedTimes);d==null||d.emit(Se.TranscriptionReceived,p),u==null||u.emit(ae.TranscriptionReceived,p,d),this.emit(oe.TranscriptionReceived,p,u,d)},this.handleChatMessage=(a,c)=>{const u=V9(c);this.emit(oe.ChatMessage,u,a)},this.handleMetrics=(a,c)=>{this.emit(oe.MetricsReceived,a,c)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(oe.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=a=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:a})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(oe.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(oe.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(oe.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>z(this,void 0,void 0,function*(){var a;((a=wr())===null||a===void 0?void 0:a.os)!=="iOS"&&(yield this.selectDefaultDevices()),this.emit(oe.MediaDevicesChanged)}),this.handleRoomUpdate=a=>{const c=this.roomInfo;this.roomInfo=a,c&&c.metadata!==a.metadata&&this.emitWhenConnected(oe.RoomMetadataChanged,a.metadata),(c==null?void 0:c.activeRecording)!==a.activeRecording&&this.emitWhenConnected(oe.RecordingStatusChanged,a.activeRecording)},this.handleConnectionQualityUpdate=a=>{a.updates.forEach(c=>{if(c.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(c.quality);return}const u=this.getRemoteParticipantBySid(c.participantSid);u&&u.setConnectionQuality(c.quality)})},this.onLocalParticipantMetadataChanged=a=>{this.emit(oe.ParticipantMetadataChanged,a,this.localParticipant)},this.onLocalParticipantNameChanged=a=>{this.emit(oe.ParticipantNameChanged,a,this.localParticipant)},this.onLocalAttributesChanged=a=>{this.emit(oe.ParticipantAttributesChanged,a,this.localParticipant)},this.onLocalTrackMuted=a=>{this.emit(oe.TrackMuted,a,this.localParticipant)},this.onLocalTrackUnmuted=a=>{this.emit(oe.TrackUnmuted,a,this.localParticipant)},this.onTrackProcessorUpdate=a=>{var c;(c=a==null?void 0:a.onPublish)===null||c===void 0||c.call(a,this)},this.onLocalTrackPublished=a=>z(this,void 0,void 0,function*(){var c,u,d,p,h,g;(c=a.track)===null||c===void 0||c.on(Se.TrackProcessorUpdate,this.onTrackProcessorUpdate),(u=a.track)===null||u===void 0||u.on(Se.Restarted,this.onLocalTrackRestarted),(h=(p=(d=a.track)===null||d===void 0?void 0:d.getProcessor())===null||p===void 0?void 0:p.onPublish)===null||h===void 0||h.call(p,this),this.emit(oe.LocalTrackPublished,a,this.localParticipant),Ki(a.track)&&(yield a.track.checkForSilence())&&this.emit(oe.LocalAudioSilenceDetected,a);const v=yield(g=a.track)===null||g===void 0?void 0:g.getDeviceId(!1),S=Dg(a.source);S&&v&&v!==this.localParticipant.activeDeviceMap.get(S)&&(this.localParticipant.activeDeviceMap.set(S,v),this.emit(oe.ActiveDeviceChanged,S,v))}),this.onLocalTrackUnpublished=a=>{var c,u;(c=a.track)===null||c===void 0||c.off(Se.TrackProcessorUpdate,this.onTrackProcessorUpdate),(u=a.track)===null||u===void 0||u.off(Se.Restarted,this.onLocalTrackRestarted),this.emit(oe.LocalTrackUnpublished,a,this.localParticipant)},this.onLocalTrackRestarted=a=>z(this,void 0,void 0,function*(){const c=yield a.getDeviceId(!1),u=Dg(a.source);u&&c&&c!==this.localParticipant.activeDeviceMap.get(u)&&(this.log.debug("local track restarted, setting ".concat(u," ").concat(c," active"),this.logContext),this.localParticipant.activeDeviceMap.set(u,c),this.emit(oe.ActiveDeviceChanged,u,c))}),this.onLocalConnectionQualityChanged=a=>{this.emit(oe.ConnectionQualityChanged,a,this.localParticipant)},this.onMediaDevicesError=(a,c)=>{this.emit(oe.MediaDevicesError,a,c)},this.onLocalParticipantPermissionsChanged=a=>{this.emit(oe.ParticipantPermissionsChanged,a,this.localParticipant)},this.onLocalChatMessageSent=a=>{this.emit(oe.ChatMessage,a,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},gj),t),this.log=no((r=this.options.loggerName)!==null&&r!==void 0?r:ii.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},wE),t==null?void 0:t.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},TE),t==null?void 0:t.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},mj),t==null?void 0:t.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new Yn,this.localParticipant=new Xj("","",this.engine,this.options,this.rpcHandlers),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",Ao(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",Ao(this.options.audioCaptureDefaults.deviceId)),!((i=this.options.audioOutput)===null||i===void 0)&&i.deviceId&&this.switchActiveDevice("audiooutput",Ao(this.options.audioOutput.deviceId)).catch(a=>this.log.warn("Could not set audio output: ".concat(a.message),this.logContext)),this.options.e2ee&&this.setupE2EE(),or()){const a=new AbortController;(o=navigator.mediaDevices)===null||o===void 0||o.addEventListener("devicechange",this.handleDeviceChange,{signal:a.signal}),Ta.cleanupRegistry&&Ta.cleanupRegistry.register(this,()=>{a.abort()})}}registerTextStreamHandler(t,n){if(this.textStreamHandlers.has(t))throw new TypeError('A text stream handler for topic "'.concat(t,'" has already been set.'));this.textStreamHandlers.set(t,n)}unregisterTextStreamHandler(t){this.textStreamHandlers.delete(t)}registerByteStreamHandler(t,n){if(this.byteStreamHandlers.has(t))throw new TypeError('A byte stream handler for topic "'.concat(t,'" has already been set.'));this.byteStreamHandlers.set(t,n)}unregisterByteStreamHandler(t){this.byteStreamHandlers.delete(t)}registerRpcMethod(t,n){if(this.rpcHandlers.has(t))throw Error("RPC handler already registered for method ".concat(t,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}handleIncomingRpcRequest(t,n,r,i,o,a){return z(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(t,n),a!==1){yield this.engine.publishRpcResponse(t,n,null,ln.builtIn("UNSUPPORTED_VERSION"));return}const c=this.rpcHandlers.get(r);if(!c){yield this.engine.publishRpcResponse(t,n,null,ln.builtIn("UNSUPPORTED_METHOD"));return}let u=null,d=null;try{const p=yield c({requestId:n,callerIdentity:t,payload:i,responseTimeout:o});gy(p)>EE?(u=ln.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),console.warn("RPC Response payload too large for ".concat(r))):d=p}catch(p){p instanceof ln?u=p:(console.warn("Uncaught error returned by RPC handler for ".concat(r,". Returning APPLICATION_ERROR instead."),p),u=ln.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(t,n,d,u)})}setE2EEEnabled(t){return z(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(t)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(t,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var t;this.options.e2ee&&("e2eeManager"in this.options.e2ee?this.e2eeManager=this.options.e2ee.e2eeManager:this.e2eeManager=new ej(this.options.e2ee),this.e2eeManager.on(_o.ParticipantEncryptionStatusChanged,(n,r)=>{W9(r)&&(this.isE2EEEnabled=n),this.emit(oe.ParticipantEncryptionStatusChanged,n,r)}),this.e2eeManager.on(_o.EncryptionError,n=>this.emit(oe.EncryptionError,n)),(t=this.e2eeManager)===null||t===void 0||t.setup(this))}get logContext(){var t;return{room:this.name,roomID:(t=this.roomInfo)===null||t===void 0?void 0:t.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.activeRecording)!==null&&n!==void 0?n:!1}getSid(){return z(this,void 0,void 0,function*(){return this.state===Tt.Disconnected?"":this.roomInfo&&this.roomInfo.sid!==""?this.roomInfo.sid:new Promise((t,n)=>{const r=i=>{i.sid!==""&&(this.engine.off(xe.RoomUpdate,r),t(i.sid))};this.engine.on(xe.RoomUpdate,r),this.once(oe.Disconnected,()=>{this.engine.off(xe.RoomUpdate,r),n("Room disconnected before room server id was available")})})})}get name(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:""}get metadata(){var t;return(t=this.roomInfo)===null||t===void 0?void 0:t.metadata}get numParticipants(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new jj(this.options),this.engine.on(xe.ParticipantUpdate,this.handleParticipantUpdates).on(xe.RoomUpdate,this.handleRoomUpdate).on(xe.SpeakersChanged,this.handleSpeakersChanged).on(xe.StreamStateChanged,this.handleStreamStateUpdate).on(xe.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(xe.SubscriptionError,this.handleSubscriptionError).on(xe.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(xe.MediaTrackAdded,(t,n,r)=>{this.onTrackAdded(t,n,r)}).on(xe.Disconnected,t=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,t)}).on(xe.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(xe.DataPacketReceived,this.handleDataPacket).on(xe.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(Tt.SignalReconnecting)&&this.emit(oe.SignalReconnecting)}).on(xe.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(Tt.Connected)&&this.emit(oe.Reconnected)}).on(xe.SignalResumed,()=>{this.bufferedEvents=[],(this.state===Tt.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(xe.Restarting,this.handleRestarting).on(xe.SignalRestarted,this.handleSignalRestarted).on(xe.Offline,()=>{this.setAndEmitConnectionState(Tt.Reconnecting)&&this.emit(oe.Reconnecting)}).on(xe.DCBufferStatusChanged,(t,n)=>{this.emit(oe.DCBufferStatusChanged,t,n)}).on(xe.LocalTrackSubscribed,t=>{const n=this.localParticipant.getTrackPublications().find(r=>{let{trackSid:i}=r;return i===t});if(!n){this.log.warn("could not find local track subscription for subscribed event",this.logContext);return}this.localParticipant.emit(ae.LocalTrackSubscribed,n),this.emitWhenConnected(oe.LocalTrackSubscribed,n,this.localParticipant)}).on(xe.RoomMoved,t=>{this.log.debug("room moved",t),t.room&&this.handleRoomUpdate(t.room),this.remoteParticipants.forEach((n,r)=>{this.handleParticipantDisconnected(r,n)}),this.emit(oe.Moved,t.room.name),t.participant?this.handleParticipantUpdates([t.participant,...t.otherParticipants]):this.handleParticipantUpdates(t.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Pn.getInstance().getDevices(t,n)}prepareConnection(t,n){return z(this,void 0,void 0,function*(){if(this.state===Tt.Disconnected){this.log.debug("prepareConnection to ".concat(t),this.logContext);try{if(Mg(new URL(t))&&n){this.regionUrlProvider=new Bg(t,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===Tt.Disconnected&&(this.regionUrl=r,yield fetch(Ag(r),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(r),this.logContext))}else yield fetch(Ag(t),{method:"HEAD"})}catch(r){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:r}))}}})}getParticipantByIdentity(t){return this.localParticipant.identity===t?this.localParticipant:this.remoteParticipants.get(t)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(t,n){return z(this,void 0,void 0,function*(){let r=()=>{},i;switch(t){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":i=new mi({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":i=new mi({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":i=new mi({scenario:{case:"serverLeave",value:!0}});break;case"migration":i=new mi({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":r=()=>z(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new mi({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":r=()=>z(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new mi({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":i=new mi({scenario:{case:"switchCandidateProtocol",value:t==="force-tls"?2:1}}),r=()=>z(this,void 0,void 0,function*(){const o=this.engine.client.onLeave;o&&o(new Mf({reason:ti.CLIENT_INITIATED,action:ma.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");i=new mi({scenario:{case:"subscriberBandwidth",value:os(n)}});break;case"leave-full-reconnect":i=new mi({scenario:{case:"leaveRequestFullReconnect",value:!0}})}i&&(yield this.engine.client.sendSimulateScenario(i),yield r())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(t){return this.localParticipant.activeDeviceMap.get(t)}switchActiveDevice(t,n){return z(this,arguments,void 0,function(r,i){var o=this;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return function*(){var c,u,d,p,h,g,v;let S=!0,b=!1;const x=a?{exact:i}:i;if(r==="audioinput"){b=o.localParticipant.audioTrackPublications.size===0;const C=(c=o.getActiveDevice(r))!==null&&c!==void 0?c:o.options.audioCaptureDefaults.deviceId;o.options.audioCaptureDefaults.deviceId=x;const O=Array.from(o.localParticipant.audioTrackPublications.values()).filter(P=>P.source===se.Source.Microphone);try{S=(yield Promise.all(O.map(P=>{var E;return(E=P.audioTrack)===null||E===void 0?void 0:E.setDeviceId(x)}))).every(P=>P===!0)}catch(P){throw o.options.audioCaptureDefaults.deviceId=C,P}const R=O.some(P=>{var E,I;return(I=(E=P.track)===null||E===void 0?void 0:E.isMuted)!==null&&I!==void 0?I:!1});S&&R&&(b=!0)}else if(r==="videoinput"){b=o.localParticipant.videoTrackPublications.size===0;const C=(u=o.getActiveDevice(r))!==null&&u!==void 0?u:o.options.videoCaptureDefaults.deviceId;o.options.videoCaptureDefaults.deviceId=x;const O=Array.from(o.localParticipant.videoTrackPublications.values()).filter(P=>P.source===se.Source.Camera);try{S=(yield Promise.all(O.map(P=>{var E;return(E=P.videoTrack)===null||E===void 0?void 0:E.setDeviceId(x)}))).every(P=>P===!0)}catch(P){throw o.options.videoCaptureDefaults.deviceId=C,P}const R=O.some(P=>{var E,I;return(I=(E=P.track)===null||E===void 0?void 0:E.isMuted)!==null&&I!==void 0?I:!1});S&&R&&(b=!0)}else if(r==="audiooutput"){if(b=!0,!Og()&&!o.options.webAudioMix||o.options.webAudioMix&&o.audioContext&&!("setSinkId"in o.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");o.options.webAudioMix&&(i=(d=yield Pn.getInstance().normalizeDeviceId("audiooutput",i))!==null&&d!==void 0?d:""),(p=(v=o.options).audioOutput)!==null&&p!==void 0||(v.audioOutput={});const C=(h=o.getActiveDevice(r))!==null&&h!==void 0?h:o.options.audioOutput.deviceId;o.options.audioOutput.deviceId=i;try{o.options.webAudioMix&&((g=o.audioContext)===null||g===void 0||g.setSinkId(i)),yield Promise.all(Array.from(o.remoteParticipants.values()).map(O=>O.setAudioOutput({deviceId:i})))}catch(O){throw o.options.audioOutput.deviceId=C,O}}return b&&(o.localParticipant.activeDeviceMap.set(r,i),o.emit(oe.ActiveDeviceChanged,r,i)),S}()})}setupLocalParticipantEvents(){this.localParticipant.on(ae.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(ae.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(ae.AttributesChanged,this.onLocalAttributesChanged).on(ae.TrackMuted,this.onLocalTrackMuted).on(ae.TrackUnmuted,this.onLocalTrackUnmuted).on(ae.LocalTrackPublished,this.onLocalTrackPublished).on(ae.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(ae.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(ae.MediaDevicesError,this.onMediaDevicesError).on(ae.AudioStreamAcquired,this.startAudio).on(ae.ChatMessage,this.onLocalChatMessageSent).on(ae.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var t;(t=this.engine)===null||t===void 0||t.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(t,n,r){if(this.state===Tt.Connecting||this.state===Tt.Reconnecting){const p=()=>{this.onTrackAdded(t,n,r),h()},h=()=>{this.off(oe.Reconnected,p),this.off(oe.Connected,p),this.off(oe.Disconnected,h)};this.once(oe.Reconnected,p),this.once(oe.Connected,p),this.once(oe.Disconnected,h);return}if(this.state===Tt.Disconnected){this.log.warn("skipping incoming track after Room disconnected",this.logContext);return}if(t.readyState==="ended"){this.log.info("skipping incoming track as it already ended",this.logContext);return}const i=_9(n.id),o=i[0];let a=i[1],c=t.id;if(a&&a.startsWith("TR")&&(c=a),o===this.localParticipant.sid){this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);return}const u=Array.from(this.remoteParticipants.values()).find(p=>p.sid===o);if(!u){this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(o),this.logContext);return}let d;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?d=this.options.adaptiveStream:d={}),u.addSubscribedMediaTrack(t,c,n,r,d)}handleDisconnect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var r;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.state!==Tt.Disconnected){this.regionUrl=void 0;try{this.remoteParticipants.forEach(i=>{i.trackPublications.forEach(o=>{i.unpublishTrack(o.trackSid)})}),this.localParticipant.trackPublications.forEach(i=>{var o,a,c;i.track&&this.localParticipant.unpublishTrack(i.track,t),t?((o=i.track)===null||o===void 0||o.detach(),(a=i.track)===null||a===void 0||a.stop()):(c=i.track)===null||c===void 0||c.stopMonitor()}),this.localParticipant.off(ae.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(ae.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(ae.AttributesChanged,this.onLocalAttributesChanged).off(ae.TrackMuted,this.onLocalTrackMuted).off(ae.TrackUnmuted,this.onLocalTrackUnmuted).off(ae.LocalTrackPublished,this.onLocalTrackPublished).off(ae.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(ae.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(ae.MediaDevicesError,this.onMediaDevicesError).off(ae.AudioStreamAcquired,this.startAudio).off(ae.ChatMessage,this.onLocalChatMessageSent).off(ae.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),or()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(r=navigator.mediaDevices)===null||r===void 0||r.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(Tt.Disconnected),this.emit(oe.Disconnected,n)}}}handleParticipantDisconnected(t,n){var r;this.remoteParticipants.delete(t),n&&(n.trackPublications.forEach(i=>{n.unpublishTrack(i.trackSid,!0)}),this.emit(oe.ParticipantDisconnected,n),n.setDisconnected(),(r=this.localParticipant)===null||r===void 0||r.handleParticipantDisconnected(n.identity))}handleStreamHeader(t,n){return z(this,void 0,void 0,function*(){var r;if(t.contentHeader.case==="byteHeader"){const i=this.byteStreamHandlers.get(t.topic);if(!i){this.log.debug("ignoring incoming byte stream due to no handler for topic",t.topic);return}let o;const a={id:t.streamId,name:(r=t.contentHeader.value.name)!==null&&r!==void 0?r:"unknown",mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:xd(t.timestamp),attributes:t.attributes},c=new ReadableStream({start:u=>{o=u,this.byteStreamControllers.set(t.streamId,{info:a,controller:o,startTime:Date.now()})}});i(new $j(a,c,xd(t.totalLength)),{identity:n})}else if(t.contentHeader.case==="textHeader"){const i=this.textStreamHandlers.get(t.topic);if(!i){this.log.debug("ignoring incoming text stream due to no handler for topic",t.topic);return}let o;const a={id:t.streamId,mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:Number(t.timestamp),attributes:t.attributes},c=new ReadableStream({start:u=>{o=u,this.textStreamControllers.set(t.streamId,{info:a,controller:o,startTime:Date.now()})}});i(new Vj(a,c,xd(t.totalLength)),{identity:n})}})}handleStreamChunk(t){const n=this.byteStreamControllers.get(t.streamId);n&&t.content.length>0&&n.controller.enqueue(t);const r=this.textStreamControllers.get(t.streamId);r&&t.content.length>0&&r.controller.enqueue(t)}handleStreamTrailer(t){const n=this.textStreamControllers.get(t.streamId);n&&(n.info.attributes=Object.assign(Object.assign({},n.info.attributes),t.attributes),n.controller.close(),this.textStreamControllers.delete(t.streamId));const r=this.byteStreamControllers.get(t.streamId);r&&(r.info.attributes=Object.assign(Object.assign({},r.info.attributes),t.attributes),r.controller.close(),this.byteStreamControllers.delete(t.streamId))}selectDefaultDevices(){return z(this,void 0,void 0,function*(){var t,n,r;const i=Pn.getInstance().previousDevices,o=yield Pn.getInstance().getDevices(void 0,!1),a=wr();if((a==null?void 0:a.name)==="Chrome"&&a.os!=="iOS")for(let u of o){const d=i.find(p=>p.deviceId===u.deviceId);d&&d.label!==""&&d.kind===u.kind&&d.label!==u.label&&this.getActiveDevice(u.kind)==="default"&&this.emit(oe.ActiveDeviceChanged,u.kind,u.deviceId)}const c=["audiooutput","audioinput","videoinput"];for(let u of c){const d=K9(u),p=this.localParticipant.getTrackPublication(d);if(p&&(!((t=p.track)===null||t===void 0)&&t.isUserProvided))continue;const h=o.filter(v=>v.kind===u),g=this.getActiveDevice(u);if(g===((n=i.filter(v=>v.kind===u)[0])===null||n===void 0?void 0:n.deviceId)&&h.length>0&&((r=h[0])===null||r===void 0?void 0:r.deviceId)!==g){yield this.switchActiveDevice(u,h[0].deviceId);continue}u==="audioinput"&&!Hd()||u==="videoinput"||h.length>0&&!h.find(v=>v.deviceId===this.getActiveDevice(u))&&(u!=="audiooutput"||!Hd())&&(yield this.switchActiveDevice(u,h[0].deviceId))}})}acquireAudioContext(){return z(this,void 0,void 0,function*(){var t,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(t=kE())!==null&&t!==void 0?t:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(i=>i.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&this.audioContext.state==="suspended")try{yield Promise.race([this.audioContext.resume(),ar(200)])}catch(i){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:i}))}const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(oe.AudioPlaybackStatusChanged,r))})}createParticipant(t,n){var r;let i;return n?i=Gd.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):i=new Gd(this.engine.client,"",t,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&i.setAudioContext(this.audioContext),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&i.setAudioOutput(this.options.audioOutput).catch(o=>this.log.warn("Could not set audio output: ".concat(o.message),this.logContext)),i}getOrCreateParticipant(t,n){if(this.remoteParticipants.has(t)){const i=this.remoteParticipants.get(t);return n&&i.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),i}const r=this.createParticipant(t,n);return this.remoteParticipants.set(t,r),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(oe.ParticipantConnected,r),r.on(ae.TrackPublished,i=>{this.emitWhenConnected(oe.TrackPublished,i,r)}).on(ae.TrackSubscribed,(i,o)=>{i.kind===se.Kind.Audio?(i.on(Se.AudioPlaybackStarted,this.handleAudioPlaybackStarted),i.on(Se.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):i.kind===se.Kind.Video&&(i.on(Se.VideoPlaybackFailed,this.handleVideoPlaybackFailed),i.on(Se.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(oe.TrackSubscribed,i,o,r)}).on(ae.TrackUnpublished,i=>{this.emit(oe.TrackUnpublished,i,r)}).on(ae.TrackUnsubscribed,(i,o)=>{this.emit(oe.TrackUnsubscribed,i,o,r)}).on(ae.TrackMuted,i=>{this.emitWhenConnected(oe.TrackMuted,i,r)}).on(ae.TrackUnmuted,i=>{this.emitWhenConnected(oe.TrackUnmuted,i,r)}).on(ae.ParticipantMetadataChanged,i=>{this.emitWhenConnected(oe.ParticipantMetadataChanged,i,r)}).on(ae.ParticipantNameChanged,i=>{this.emitWhenConnected(oe.ParticipantNameChanged,i,r)}).on(ae.AttributesChanged,i=>{this.emitWhenConnected(oe.ParticipantAttributesChanged,i,r)}).on(ae.ConnectionQualityChanged,i=>{this.emitWhenConnected(oe.ConnectionQualityChanged,i,r)}).on(ae.ParticipantPermissionsChanged,i=>{this.emitWhenConnected(oe.ParticipantPermissionsChanged,i,r)}).on(ae.TrackSubscriptionStatusChanged,(i,o)=>{this.emitWhenConnected(oe.TrackSubscriptionStatusChanged,i,o,r)}).on(ae.TrackSubscriptionFailed,(i,o)=>{this.emit(oe.TrackSubscriptionFailed,i,r,o)}).on(ae.TrackSubscriptionPermissionChanged,(i,o)=>{this.emitWhenConnected(oe.TrackSubscriptionPermissionChanged,i,o,r)}).on(ae.Active,()=>{this.emitWhenConnected(oe.ParticipantActive,r),r.kind===ac.AGENT&&this.localParticipant.setActiveAgent(r)}),n&&r.updateInfo(n),r}sendSyncState(){const t=Array.from(this.remoteParticipants.values()).reduce((r,i)=>(r.push(...i.getTrackPublications()),r),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(t,n)}updateSubscriptions(){for(const t of this.remoteParticipants.values())for(const n of t.videoTrackPublications.values())n.isSubscribed&&H9(n)&&n.emitTrackUpdate()}getRemoteParticipantBySid(t){const n=this.sidToIdentity.get(t);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let t=0;this.connectionReconcileInterval=Nn.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(t++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:t,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),t>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,ti.STATE_MISMATCH))):t=0},Zj)}clearConnectionReconcile(){this.connectionReconcileInterval&&Nn.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(t){return t===this.state?!1:(this.state=t,this.emit(oe.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(t=>{let[n,r]=t;this.emit(n,...r)}),this.bufferedEvents=[]}emitWhenConnected(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.state===Tt.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([t,r]);else if(this.state===Tt.Connected)return this.emit(t,...r);return!1}simulateParticipants(t){return z(this,void 0,void 0,function*(){var n,r;const i=Object.assign({audio:!0,video:!0,useRealTracks:!1},t.publish),o=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},t.participants);if(this.handleDisconnect(),this.roomInfo=new _f({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:Xt.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new ps({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(oe.SignalConnected),this.emit(oe.Connected),this.setAndEmitConnectionState(Tt.Connected),i.video){const a=new $g(se.Kind.Video,new aa({source:mn.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Xr.AUDIO,name:"video-dummy"}),new Kd(i.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:Qk(160*((n=o.aspectRatios[0])!==null&&n!==void 0?n:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(a),this.localParticipant.emit(ae.LocalTrackPublished,a)}if(i.audio){const a=new $g(se.Kind.Audio,new aa({source:mn.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Xr.AUDIO}),new qd(i.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:ym(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(a),this.localParticipant.emit(ae.LocalTrackPublished,a)}for(let a=0;a<o.count-1;a+=1){let c=new ps({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(a),state:ha.ACTIVE,tracks:[],joinedAt:Xt.parse(Date.now())});const u=this.getOrCreateParticipant(c.identity,c);if(o.video){const d=Qk(160*((r=o.aspectRatios[a%o.aspectRatios.length])!==null&&r!==void 0?r:1),160,!1,!0),p=new aa({source:mn.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Xr.AUDIO});u.addSubscribedMediaTrack(d,p.sid,new MediaStream([d]),new RTCRtpReceiver),c.tracks=[...c.tracks,p]}if(o.audio){const d=ym(),p=new aa({source:mn.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Xr.AUDIO});u.addSubscribedMediaTrack(d,p.sid,new MediaStream([d]),new RTCRtpReceiver),c.tracks=[...c.tracks,p]}u.updateInfo(c)}})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t!==oe.ActiveSpeakersChanged&&t!==oe.TranscriptionReceived){const o=DE(r).filter(a=>a!==void 0);this.log.debug("room event ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:o}))}return super.emit(t,...r)}}Ta.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{e()});function DE(e){return e.map(t=>{if(t)return Array.isArray(t)?DE(t):typeof t=="object"?"logContext"in t?t.logContext:void 0:t})}var Jr;(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"})(Jr||(Jr={}));class zo extends Ni.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=Jr.IDLE,this.logs=[],this.options={},this.url=t,this.token=n,this.name=this.constructor.name,this.room=new Ta(r.roomOptions),this.connectOptions=r.connectOptions,this.options=r}run(t){return z(this,void 0,void 0,function*(){if(this.status!==Jr.IDLE)throw Error("check is running already");this.setStatus(Jr.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.options.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==Jr.SKIPPED&&this.setStatus(this.isSuccess()?Jr.SUCCESS:Jr.FAILED),t&&t(),this.getInfo()})}isSuccess(){return!this.logs.some(t=>t.level==="error")}connect(t){return z(this,void 0,void 0,function*(){return this.room.state===Tt.Connected?this.room:(t||(t=this.url),yield this.room.connect(t,this.token,this.connectOptions),this.room)})}disconnect(){return z(this,void 0,void 0,function*(){this.room&&this.room.state!==Tt.Disconnected&&(yield this.room.disconnect(),yield new Promise(t=>setTimeout(t,500)))})}skip(){this.setStatus(Jr.SKIPPED)}switchProtocol(t){return z(this,void 0,void 0,function*(){let n=!1,r=!1;if(this.room.on(oe.Reconnecting,()=>{n=!0}),this.room.once(oe.Reconnected,()=>{r=!0}),this.room.simulateScenario("force-".concat(t)),yield new Promise(o=>setTimeout(o,1e3)),!n)return;const i=Date.now()+1e4;for(;Date.now()<i;){if(r)return;yield ar(100)}throw new Error("Could not reconnect using ".concat(t," protocol after 10 seconds"))})}appendMessage(t){this.logs.push({level:"info",message:t}),this.emit("update",this.getInfo())}appendWarning(t){this.logs.push({level:"warning",message:t}),this.emit("update",this.getInfo())}appendError(t){this.logs.push({level:"error",message:t}),this.emit("update",this.getInfo())}setStatus(t){this.status=t,this.emit("update",this.getInfo())}get engine(){var t;return(t=this.room)===null||t===void 0?void 0:t.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}class eU extends zo{get description(){return"Cloud regions"}perform(){return z(this,void 0,void 0,function*(){const t=new Bg(this.url,this.token);if(!t.isCloud()){this.skip();return}const n=[],r=new Set;for(let o=0;o<3;o++){const a=yield t.getNextBestRegionUrl();if(!a)break;if(r.has(a))continue;r.add(a);const c=yield this.checkCloudRegion(a);this.appendMessage("".concat(c.region," RTT: ").concat(c.rtt,"ms, duration: ").concat(c.duration,"ms")),n.push(c)}n.sort((o,a)=>(o.duration-a.duration)*.5+(o.rtt-a.rtt)*.5);const i=n[0];this.bestStats=i,this.appendMessage("best Cloud region: ".concat(i.region))})}getInfo(){const t=super.getInfo();return t.data=this.bestStats,t}checkCloudRegion(t){return z(this,void 0,void 0,function*(){var n,r;yield this.connect(t),this.options.protocol==="tcp"&&(yield this.switchProtocol("tcp"));const i=(n=this.room.serverInfo)===null||n===void 0?void 0:n.region;if(!i)throw new Error("Region not found");const o=yield this.room.localParticipant.streamText({topic:"test"}),a=1e3,u=1e6/a,d="A".repeat(a),p=Date.now();for(let S=0;S<u;S++)yield o.write(d);yield o.close();const h=Date.now(),g=yield(r=this.room.engine.pcManager)===null||r===void 0?void 0:r.publisher.getStats(),v={region:i,rtt:1e4,duration:h-p};return g==null||g.forEach(S=>{S.type==="candidate-pair"&&S.nominated&&(v.rtt=S.currentRoundTripTime*1e3)}),yield this.disconnect(),v})}}const Pm=1e4;class tU extends zo{get description(){return"Connection via UDP vs TCP"}perform(){return z(this,void 0,void 0,function*(){const t=yield this.checkConnectionProtocol("udp"),n=yield this.checkConnectionProtocol("tcp");this.bestStats=t,t.qualityLimitationDurations.bandwidth-n.qualityLimitationDurations.bandwidth>.5||(t.packetsLost-n.packetsLost)/t.packetsSent>.01?(this.appendMessage("best connection quality via tcp"),this.bestStats=n):this.appendMessage("best connection quality via udp");const r=this.bestStats;this.appendMessage("upstream bitrate: ".concat((r.bitrateTotal/r.count/1e3/1e3).toFixed(2)," mbps")),this.appendMessage("RTT: ".concat((r.rttTotal/r.count*1e3).toFixed(2)," ms")),this.appendMessage("jitter: ".concat((r.jitterTotal/r.count*1e3).toFixed(2)," ms")),r.packetsLost>0&&this.appendWarning("packets lost: ".concat((r.packetsLost/r.packetsSent*100).toFixed(2),"%")),r.qualityLimitationDurations.bandwidth>1&&this.appendWarning("bandwidth limited ".concat((r.qualityLimitationDurations.bandwidth/(Pm/1e3)*100).toFixed(2),"%")),r.qualityLimitationDurations.cpu>0&&this.appendWarning("cpu limited ".concat((r.qualityLimitationDurations.cpu/(Pm/1e3)*100).toFixed(2),"%"))})}getInfo(){const t=super.getInfo();return t.data=this.bestStats,t}checkConnectionProtocol(t){return z(this,void 0,void 0,function*(){yield this.connect(),t==="tcp"?yield this.switchProtocol("tcp"):yield this.switchProtocol("udp");const n=document.createElement("canvas");n.width=1280,n.height=720;const r=n.getContext("2d");if(!r)throw new Error("Could not get canvas context");let i=0;const o=()=>{i=(i+1)%360,r.fillStyle="hsl(".concat(i,", 100%, 50%)"),r.fillRect(0,0,n.width,n.height),requestAnimationFrame(o)};o();const c=n.captureStream(30).getVideoTracks()[0],d=(yield this.room.localParticipant.publishTrack(c,{simulcast:!1,degradationPreference:"maintain-resolution",videoEncoding:{maxBitrate:2e6}})).track,p={protocol:t,packetsLost:0,packetsSent:0,qualityLimitationDurations:{},rttTotal:0,jitterTotal:0,bitrateTotal:0,count:0},h=setInterval(()=>z(this,void 0,void 0,function*(){const g=yield d.getRTCStatsReport();g==null||g.forEach(v=>{v.type==="outbound-rtp"?(p.packetsSent=v.packetsSent,p.qualityLimitationDurations=v.qualityLimitationDurations,p.bitrateTotal+=v.targetBitrate,p.count++):v.type==="remote-inbound-rtp"&&(p.packetsLost=v.packetsLost,p.rttTotal+=v.roundTripTime,p.jitterTotal+=v.jitter)})}),1e3);return yield new Promise(g=>setTimeout(g,Pm)),clearInterval(h),c.stop(),n.remove(),yield this.disconnect(),p})}}class nU extends zo{get description(){return"Can publish audio"}perform(){return z(this,void 0,void 0,function*(){var t;const n=yield this.connect(),r=yield Yj();if(yield SE(r,1e3))throw new Error("unable to detect audio from microphone");this.appendMessage("detected audio from microphone"),n.localParticipant.publishTrack(r),yield new Promise(c=>setTimeout(c,3e3));const o=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!o)throw new Error("Could not get RTCStats");let a=0;if(o.forEach(c=>{c.type==="outbound-rtp"&&(c.kind==="audio"||!c.kind&&c.mediaType==="audio")&&(a=c.packetsSent)}),a===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(a," audio packets"))})}}class rU extends zo{get description(){return"Can publish video"}perform(){return z(this,void 0,void 0,function*(){var t;const n=yield this.connect(),r=yield Gj();yield this.checkForVideo(r.mediaStreamTrack),n.localParticipant.publishTrack(r),yield new Promise(a=>setTimeout(a,5e3));const i=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!i)throw new Error("Could not get RTCStats");let o=0;if(i.forEach(a=>{a.type==="outbound-rtp"&&(a.kind==="video"||!a.kind&&a.mediaType==="video")&&(o+=a.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," video packets"))})}checkForVideo(t){return z(this,void 0,void 0,function*(){const n=new MediaStream;n.addTrack(t.clone());const r=document.createElement("video");r.srcObject=n,r.muted=!0,yield new Promise(i=>{r.onplay=()=>{setTimeout(()=>{var o,a,c,u;const d=document.createElement("canvas"),p=t.getSettings(),h=(a=(o=p.width)!==null&&o!==void 0?o:r.videoWidth)!==null&&a!==void 0?a:1280,g=(u=(c=p.height)!==null&&c!==void 0?c:r.videoHeight)!==null&&u!==void 0?u:720;d.width=h,d.height=g;const v=d.getContext("2d");v.drawImage(r,0,0);const b=v.getImageData(0,0,d.width,d.height).data;let x=!0;for(let C=0;C<b.length;C+=4)if(b[C]!==0||b[C+1]!==0||b[C+2]!==0){x=!1;break}x?this.appendError("camera appears to be producing only black frames"):this.appendMessage("received video frames"),i()},1e3)},r.play()}),n.getTracks().forEach(i=>i.stop()),r.remove()})}}class iU extends zo{get description(){return"Resuming connection after interruption"}perform(){return z(this,void 0,void 0,function*(){var t;const n=yield this.connect();let r=!1,i=!1,o;const a=new Promise(d=>{setTimeout(d,5e3),o=d}),c=()=>{r=!0};n.on(oe.SignalReconnecting,c).on(oe.Reconnecting,c).on(oe.Reconnected,()=>{i=!0,o(!0)}),(t=n.engine.client.ws)===null||t===void 0||t.close();const u=n.engine.client.onClose;if(u&&u(""),yield a,r){if(!i||n.state!==Tt.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class oU extends zo{get description(){return"Can connect via TURN"}perform(){return z(this,void 0,void 0,function*(){var t,n;const r=new fy,i=yield r.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});let o=!1,a=!1,c=!1;for(let u of i.iceServers)for(let d of u.urls)d.startsWith("turn:")?(a=!0,c=!0):d.startsWith("turns:")&&(a=!0,c=!0,o=!0),d.startsWith("stun:")&&(c=!0);c?a&&!o&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield r.close(),!((n=(t=this.connectOptions)===null||t===void 0?void 0:t.rtcConfig)===null||n===void 0)&&n.iceServers||a?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(u=>setTimeout(u,0)))})}}class sU extends zo{get description(){return"Establishing WebRTC connection"}perform(){return z(this,void 0,void 0,function*(){let t=!1,n=!1;this.room.on(oe.SignalConnected,()=>{const r=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(i,o)=>{if(i.candidate){const a=new RTCIceCandidate(i);let c="".concat(a.protocol," ").concat(a.address,":").concat(a.port," ").concat(a.type);a.address&&(aU(a.address)?c+=" (private)":a.protocol==="tcp"&&a.tcpType==="passive"?(t=!0,c+=" (passive)"):a.protocol==="udp"&&(n=!0)),this.appendMessage(c)}r&&r(i,o)},this.room.engine.pcManager&&(this.room.engine.pcManager.subscriber.onIceCandidateError=i=>{i instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(i.errorCode," ").concat(i.errorText," ").concat(i.url))})});try{yield this.connect(),dt.info("now the room is connected")}catch(r){throw this.appendWarning("ports need to be open on firewall in order to connect."),r}t||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function aU(e){const t=e.split(".");if(t.length===4){if(t[0]==="10")return!0;if(t[0]==="192"&&t[1]==="168")return!0;if(t[0]==="172"){const n=parseInt(t[1],10);if(n>=16&&n<=31)return!0}}return!1}class lU extends zo{get description(){return"Connecting to signal connection via WebSocket"}perform(){return z(this,void 0,void 0,function*(){var t,n,r;(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let i=new fy;const o=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});this.appendMessage("Connected to server, version ".concat(o.serverVersion,".")),((t=o.serverInfo)===null||t===void 0?void 0:t.edition)===kT.Cloud&&(!((n=o.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((r=o.serverInfo)===null||r===void 0?void 0:r.region)),yield i.close()})}}class E$ extends Ni.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.options={},this.checkResults=new Map,this.url=t,this.token=n,this.options=r}getNextCheckId(){const t=this.checkResults.size;return this.checkResults.set(t,{logs:[],status:Jr.IDLE,name:"",description:""}),t}updateCheck(t,n){this.checkResults.set(t,n),this.emit("checkUpdate",t,n)}isSuccess(){return Array.from(this.checkResults.values()).every(t=>t.status!==Jr.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(t){return z(this,void 0,void 0,function*(){const n=this.getNextCheckId(),r=new t(this.url,this.token,this.options),i=a=>{this.updateCheck(n,a)};r.on("update",i);const o=yield r.run();return r.off("update",i),o})}checkWebsocket(){return z(this,void 0,void 0,function*(){return this.createAndRunCheck(lU)})}checkWebRTC(){return z(this,void 0,void 0,function*(){return this.createAndRunCheck(sU)})}checkTURN(){return z(this,void 0,void 0,function*(){return this.createAndRunCheck(oU)})}checkReconnect(){return z(this,void 0,void 0,function*(){return this.createAndRunCheck(iU)})}checkPublishAudio(){return z(this,void 0,void 0,function*(){return this.createAndRunCheck(nU)})}checkPublishVideo(){return z(this,void 0,void 0,function*(){return this.createAndRunCheck(rU)})}checkConnectionProtocol(){return z(this,void 0,void 0,function*(){const t=yield this.createAndRunCheck(tU);if(t.data&&"protocol"in t.data){const n=t.data;this.options.protocol=n.protocol}return t})}checkCloudRegion(){return z(this,void 0,void 0,function*(){return this.createAndRunCheck(eU)})}}var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cU(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vg={exports:{}},uU=Vg.exports,gC;function dU(){return gC||(gC=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(uU,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},a=null;function c(b,x){var C=b[x];if(typeof C.bind=="function")return C.bind(b);try{return Function.prototype.bind.call(C,b)}catch{return function(){return Function.prototype.apply.apply(C,[b,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(b){return b==="debug"&&(b="log"),typeof console===n?!1:b==="trace"&&r?u:console[b]!==void 0?c(console,b):console.log!==void 0?c(console,"log"):t}function p(){for(var b=this.getLevel(),x=0;x<i.length;x++){var C=i[x];this[C]=x<b?t:this.methodFactory(C,b,this.name)}if(this.log=this.debug,typeof console===n&&b<this.levels.SILENT)return"No console available for logging"}function h(b){return function(){typeof console!==n&&(p.call(this),this[b].apply(this,arguments))}}function g(b,x,C){return d(b)||h.apply(this,arguments)}function v(b,x){var C=this,O,R,P,E="loglevel";typeof b=="string"?E+=":"+b:typeof b=="symbol"&&(E=void 0);function I(N){var $=(i[N]||"silent").toUpperCase();if(!(typeof window===n||!E)){try{window.localStorage[E]=$;return}catch{}try{window.document.cookie=encodeURIComponent(E)+"="+$+";"}catch{}}}function D(){var N;if(!(typeof window===n||!E)){try{N=window.localStorage[E]}catch{}if(typeof N===n)try{var $=window.document.cookie,W=encodeURIComponent(E),K=$.indexOf(W+"=");K!==-1&&(N=/^([^;]+)/.exec($.slice(K+W.length+1))[1])}catch{}return C.levels[N]===void 0&&(N=void 0),N}}function B(){if(!(typeof window===n||!E)){try{window.localStorage.removeItem(E)}catch{}try{window.document.cookie=encodeURIComponent(E)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function U(N){var $=N;if(typeof $=="string"&&C.levels[$.toUpperCase()]!==void 0&&($=C.levels[$.toUpperCase()]),typeof $=="number"&&$>=0&&$<=C.levels.SILENT)return $;throw new TypeError("log.setLevel() called with invalid level: "+N)}C.name=b,C.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},C.methodFactory=x||g,C.getLevel=function(){return P??R??O},C.setLevel=function(N,$){return P=U(N),$!==!1&&I(P),p.call(C)},C.setDefaultLevel=function(N){R=U(N),D()||C.setLevel(N,!1)},C.resetLevel=function(){P=null,B(),p.call(C)},C.enableAll=function(N){C.setLevel(C.levels.TRACE,N)},C.disableAll=function(N){C.setLevel(C.levels.SILENT,N)},C.rebuild=function(){if(a!==C&&(O=U(a.getLevel())),p.call(C),a===C)for(var N in o)o[N].rebuild()},O=U(a?a.getLevel():"WARN");var T=D();T!=null&&(P=U(T)),p.call(C)}a=new v,a.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var x=o[b];return x||(x=o[b]=new v(b,a.methodFactory)),x};var S=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=S),a},a.getLoggers=function(){return o},a.default=a,a})}(Vg)),Vg.exports}var fU=dU();const pU=cU(fU);var Hg=function(e,t){return Hg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Hg(e,t)};function ro(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function hU(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(p){try{d(r.next(p))}catch(h){a(h)}}function u(p){try{d(r.throw(p))}catch(h){a(h)}}function d(p){p.done?o(p.value):i(p.value).then(c,u)}d((r=r.apply(e,[])).next())})}function FE(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(p){return u([d,p])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ea(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yd(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Qd(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Sa(e){return this instanceof Sa?(this.v=e,this):new Sa(e)}function mU(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(S){return Promise.resolve(S).then(v,h)}}function c(v,S){r[v]&&(i[v]=function(b){return new Promise(function(x,C){o.push([v,b,x,C])>1||u(v,b)})},S&&(i[v]=S(i[v])))}function u(v,S){try{d(r[v](S))}catch(b){g(o[0][3],b)}}function d(v){v.value instanceof Sa?Promise.resolve(v.value.v).then(p,h):g(o[0][2],v)}function p(v){u("next",v)}function h(v){u("throw",v)}function g(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function gU(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ea=="function"?Ea(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(c,u){a=e[o](a),i(c,u,a.done,a.value)})}}function i(o,a,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},a)}}function kn(e){return typeof e=="function"}function by(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Rm=by(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Jd(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Tc=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=Ea(a),u=c.next();!u.done;u=c.next()){var d=u.value;d.remove(this)}}catch(b){t={error:b}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}else a.remove(this);var p=this.initialTeardown;if(kn(p))try{p()}catch(b){o=b instanceof Rm?b.errors:[b]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var g=Ea(h),v=g.next();!v.done;v=g.next()){var S=v.value;try{vC(S)}catch(b){o=o??[],b instanceof Rm?o=Qd(Qd([],Yd(o)),Yd(b.errors)):o.push(b)}}}catch(b){r={error:b}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}}if(o)throw new Rm(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)vC(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Jd(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Jd(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),jE=Tc.EMPTY;function UE(e){return e instanceof Tc||e&&"closed"in e&&kn(e.remove)&&kn(e.add)&&kn(e.unsubscribe)}function vC(e){kn(e)?e():e.unsubscribe()}var vU={Promise:void 0},yU={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Qd([e,t],Yd(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function BE(e){yU.setTimeout(function(){throw e})}function yC(){}function Td(e){e()}var Sy=function(e){ro(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,UE(n)&&n.add(r)):r.destination=kU,r}return t.create=function(n,r,i){return new Wg(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Tc),bU=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){rd(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){rd(r)}else rd(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){rd(n)}},e}(),Wg=function(e){ro(t,e);function t(n,r,i){var o=e.call(this)||this,a;return kn(n)||!n?a={next:n??void 0,error:r??void 0,complete:i??void 0}:a=n,o.destination=new bU(a),o}return t}(Sy);function rd(e){BE(e)}function SU(e){throw e}var kU={closed:!0,next:yC,error:SU,complete:yC},ky=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function zE(e){return e}function CU(e){return e.length===0?zE:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var Er=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=wU(t)?t:new Wg(t,n,r);return Td(function(){var a=i,c=a.operator,u=a.source;o.add(c?c.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=bC(n),new n(function(i,o){var a=new Wg({next:function(c){try{t(c)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[ky]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return CU(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=bC(t),new t(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function bC(e){var t;return(t=e??vU.Promise)!==null&&t!==void 0?t:Promise}function xU(e){return e&&kn(e.next)&&kn(e.error)&&kn(e.complete)}function wU(e){return e&&e instanceof Sy||xU(e)&&UE(e)}function TU(e){return kn(e==null?void 0:e.lift)}function Ec(e){return function(t){if(TU(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xd(e,t,n,r,i){return new EU(e,t,n,r,i)}var EU=function(e){ro(t,e);function t(n,r,i,o,a,c){var u=e.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=c,u._next=r?function(d){try{r(d)}catch(p){n.error(p)}}:e.prototype._next,u._error=o?function(d){try{o(d)}catch(p){n.error(p)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Sy),PU=by(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),$E=function(e){ro(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new SC(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new PU},t.prototype.next=function(n){var r=this;Td(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Ea(r.currentObservers),c=a.next();!c.done;c=a.next()){var u=c.value;u.next(n)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Td(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Td(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,a=i.isStopped,c=i.observers;return o||a?jE:(this.currentObservers=null,c.push(n),new Tc(function(){r.currentObservers=null,Jd(c,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,a=r.isStopped;i?n.error(o):a&&n.complete()},t.prototype.asObservable=function(){var n=new Er;return n.source=this,n},t.create=function(n,r){return new SC(n,r)},t}(Er),SC=function(e){ro(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:jE},t}($E);(function(e){ro(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t})($E);var RU={now:function(){return Date.now()}},IU=function(e){ro(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Tc),kC={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,Qd([e,t],Yd(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},_U=function(e){ro(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),kC.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&kC.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Jd(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(IU),CC=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=RU.now,e}(),OU=function(e){ro(t,e);function t(n,r){r===void 0&&(r=CC.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(CC);new OU(_U);function MU(e){return e&&kn(e.schedule)}function AU(e){return e[e.length-1]}function VE(e){return MU(AU(e))?e.pop():void 0}var HE=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function WE(e){return kn(e==null?void 0:e.then)}function qE(e){return kn(e[ky])}function KE(e){return Symbol.asyncIterator&&kn(e==null?void 0:e[Symbol.asyncIterator])}function GE(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function NU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var YE=NU();function QE(e){return kn(e==null?void 0:e[YE])}function JE(e){return mU(this,arguments,function(){var t,n,r,i;return FE(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Sa(t.read())];case 3:return n=o.sent(),r=n.value,i=n.done,i?[4,Sa(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Sa(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function XE(e){return kn(e==null?void 0:e.getReader)}function Pc(e){if(e instanceof Er)return e;if(e!=null){if(qE(e))return LU(e);if(HE(e))return DU(e);if(WE(e))return FU(e);if(KE(e))return ZE(e);if(QE(e))return jU(e);if(XE(e))return UU(e)}throw GE(e)}function LU(e){return new Er(function(t){var n=e[ky]();if(kn(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DU(e){return new Er(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function FU(e){return new Er(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,BE)})}function jU(e){return new Er(function(t){var n,r;try{for(var i=Ea(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function ZE(e){return new Er(function(t){BU(e,t).catch(function(n){return t.error(n)})})}function UU(e){return ZE(JE(e))}function BU(e,t){var n,r,i,o;return hU(this,void 0,void 0,function(){var a,c;return FE(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=gU(e),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),i={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function us(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function e2(e,t){return t===void 0&&(t=0),Ec(function(n,r){n.subscribe(Xd(r,function(i){return us(r,e,function(){return r.next(i)},t)},function(){return us(r,e,function(){return r.complete()},t)},function(i){return us(r,e,function(){return r.error(i)},t)}))})}function t2(e,t){return t===void 0&&(t=0),Ec(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function zU(e,t){return Pc(e).pipe(t2(t),e2(t))}function $U(e,t){return Pc(e).pipe(t2(t),e2(t))}function VU(e,t){return new Er(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function HU(e,t){return new Er(function(n){var r;return us(n,t,function(){r=e[YE](),us(n,t,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(c){n.error(c);return}a?n.complete():n.next(o)},0,!0)}),function(){return kn(r==null?void 0:r.return)&&r.return()}})}function n2(e,t){if(!e)throw new Error("Iterable cannot be null");return new Er(function(n){us(n,t,function(){var r=e[Symbol.asyncIterator]();us(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function WU(e,t){return n2(JE(e),t)}function qU(e,t){if(e!=null){if(qE(e))return zU(e,t);if(HE(e))return VU(e,t);if(WE(e))return $U(e,t);if(KE(e))return n2(e,t);if(QE(e))return HU(e,t);if(XE(e))return WU(e,t)}throw GE(e)}function KU(e,t){return t?qU(e,t):Pc(e)}by(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function Df(e,t){return Ec(function(n,r){var i=0;n.subscribe(Xd(r,function(o){r.next(e.call(t,o,i++))}))})}function GU(e,t,n,r,i,o,a,c){var u=[],d=0,p=0,h=!1,g=function(){h&&!u.length&&!d&&t.complete()},v=function(b){return d<r?S(b):u.push(b)},S=function(b){d++;var x=!1;Pc(n(b,p++)).subscribe(Xd(t,function(C){t.next(C)},function(){x=!0},void 0,function(){if(x)try{d--;for(var C=function(){var O=u.shift();a||S(O)};u.length&&d<r;)C();g()}catch(O){t.error(O)}}))};return e.subscribe(Xd(t,v,function(){h=!0,g()})),function(){}}function r2(e,t,n){return n===void 0&&(n=1/0),kn(t)?r2(function(r,i){return Df(function(o,a){return t(r,o,i,a)})(Pc(e(r,i)))},n):(typeof t=="number"&&(n=t),Ec(function(r,i){return GU(r,i,e,n)}))}function YU(e){return r2(zE,e)}function QU(){return YU(1)}function xC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return QU()(KU(e,VE(e)))}function Ff(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=VE(e);return Ec(function(r,i){(n?xC(e,r,n):xC(e,r)).subscribe(i)})}var JU="lk";function Cy(e){return typeof e>"u"?!1:XU(e)||ZU(e)}function XU(e){var t;return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("track")&&typeof((t=e.publication)==null?void 0:t.track)<"u":!1}function ZU(e){return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("publication")&&typeof e.publication<"u":!1}function eB(e){return e?e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&typeof e.publication>"u":!1}function tB(e){if(typeof e=="string"||typeof e=="number")return`${e}`;if(eB(e))return`${e.participant.identity}_${e.source}_placeholder`;if(Cy(e))return`${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${e}`)}var nB=[oe.ConnectionStateChanged,oe.RoomMetadataChanged,oe.ActiveSpeakersChanged,oe.ConnectionQualityChanged,oe.ParticipantConnected,oe.ParticipantDisconnected,oe.ParticipantPermissionsChanged,oe.ParticipantMetadataChanged,oe.ParticipantNameChanged,oe.ParticipantAttributesChanged,oe.TrackMuted,oe.TrackUnmuted,oe.TrackPublished,oe.TrackUnpublished,oe.TrackStreamStateChanged,oe.TrackSubscriptionFailed,oe.TrackSubscriptionPermissionChanged,oe.TrackSubscriptionStatusChanged],rB=[...nB,oe.LocalTrackPublished,oe.LocalTrackUnpublished];ae.TrackPublished,ae.TrackUnpublished,ae.TrackMuted,ae.TrackUnmuted,ae.TrackStreamStateChanged,ae.TrackSubscribed,ae.TrackUnsubscribed,ae.TrackSubscriptionPermissionChanged,ae.TrackSubscriptionFailed,ae.LocalTrackPublished,ae.LocalTrackUnpublished;var iB=[ae.ConnectionQualityChanged,ae.IsSpeakingChanged,ae.ParticipantMetadataChanged,ae.ParticipantPermissionsChanged,ae.TrackMuted,ae.TrackUnmuted,ae.TrackPublished,ae.TrackUnpublished,ae.TrackStreamStateChanged,ae.TrackSubscriptionFailed,ae.TrackSubscriptionPermissionChanged,ae.TrackSubscriptionStatusChanged];[...iB,ae.LocalTrackPublished,ae.LocalTrackUnpublished];var zn=pU.getLogger("lk-components-js");zn.setDefaultLevel("WARN");function i2(e){return typeof e=="object"}function o2(e){return Array.isArray(e)&&e.filter(i2).length>0}function oB(e){return`${JU}-${e}`}function sB(e){const t=qg(e),n=cB(e.participant).pipe(Df(()=>qg(e)),Ff(t));return{className:oB(e.source===se.Source.Camera||e.source===se.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:n}}function qg(e){if(Cy(e))return e.publication;{const{source:t,name:n,participant:r}=e;if(t&&n)return r.getTrackPublications().find(i=>i.source===t&&i.trackName===n);if(n)return r.getTrackPublicationByName(n);if(t)return r.getTrackPublication(t);throw new Error("At least one of source and name needs to be defined")}}function aB(e,...t){return new Er(n=>{const r=()=>{n.next(e)};return t.forEach(i=>{e.on(i,r)}),()=>{t.forEach(i=>{e.off(i,r)})}}).pipe(Ff(e))}function lB(e,...t){return new Er(n=>{const r=()=>{n.next(e)};return t.forEach(i=>{e.on(i,r)}),()=>{t.forEach(i=>{e.off(i,r)})}}).pipe(Ff(e))}function cB(e){return lB(e,ae.TrackMuted,ae.TrackUnmuted,ae.ParticipantPermissionsChanged,ae.TrackPublished,ae.TrackUnpublished,ae.LocalTrackPublished,ae.LocalTrackUnpublished,ae.MediaDevicesError,ae.TrackSubscriptionStatusChanged).pipe(Df(t=>{const{isMicrophoneEnabled:n,isCameraEnabled:r,isScreenShareEnabled:i}=t,o=t.getTrackPublication(se.Source.Microphone),a=t.getTrackPublication(se.Source.Camera);return{isCameraEnabled:r,isMicrophoneEnabled:n,isScreenShareEnabled:i,cameraTrack:a,microphoneTrack:o,participant:t}}))}function uB(){return{className:"lk-room-container"}}function wC(e,t,n=!0){const r=[e.localParticipant,...Array.from(e.remoteParticipants.values())],i=[];return r.forEach(o=>{t.forEach(a=>{const c=Array.from(o.trackPublications.values()).filter(u=>u.source===a&&(!n||u.track)).map(u=>({participant:o,publication:u,source:u.source}));i.push(...c)})}),{trackReferences:i,participants:r}}function dB(e,t,n){var r,i;const o=(r=n.additionalRoomEvents)!=null?r:rB,a=(i=n.onlySubscribed)!=null?i:!0,c=Array.from(new Set([oe.ParticipantConnected,oe.ParticipantDisconnected,oe.ConnectionStateChanged,oe.LocalTrackPublished,oe.LocalTrackUnpublished,oe.TrackPublished,oe.TrackUnpublished,oe.TrackSubscriptionStatusChanged,...o]).values());return aB(e,...c).pipe(Df(u=>{const d=wC(u,t,a);return zn.debug(`TrackReference[] was updated. (length ${d.trackReferences.length})`,d),d}),Ff(wC(e,t,a)))}w.createContext(void 0);const fB=w.createContext(void 0);function pB(){return w.useContext(fB)}function hB(e){const t=pB(),n=e??t;if(!n)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n}w.createContext(void 0);const s2=w.createContext(void 0);function mB(){return w.useContext(s2)}function gB(e){const t=mB(),n=e??t;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}const vB=w.createContext(void 0);function a2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=a2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yB(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=a2(e))&&(r&&(r+=" "),r+=t);return r}function bB(...e){return(...t)=>{for(const n of e)if(typeof n=="function")try{n(...t)}catch(r){console.error(r)}}}function l2(...e){const t={...e[0]};for(let n=1;n<e.length;n++){const r=e[n];for(const i in r){const o=t[i],a=r[i];typeof o=="function"&&typeof a=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?t[i]=bB(o,a):(i==="className"||i==="UNSAFE_className")&&typeof o=="string"&&typeof a=="string"?t[i]=yB(o,a):t[i]=a!==void 0?a:o}}return t}function SB(e){return e!==void 0}function kB(...e){return l2(...e.filter(SB))}function CB(e,t){return e==="processor"&&t&&typeof t=="object"&&"name"in t?t.name:e==="e2ee"&&t?"e2ee-enabled":t}const xB={connect:!0,audio:!1,video:!1};function wB(e){const{token:t,serverUrl:n,options:r,room:i,connectOptions:o,connect:a,audio:c,video:u,screen:d,onConnected:p,onDisconnected:h,onError:g,onMediaDeviceFailure:v,onEncryptionError:S,simulateParticipants:b,...x}={...xB,...e};r&&i&&zn.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[C,O]=w.useState(),R=w.useRef(a);w.useEffect(()=>{O(i??new Ta(r))},[i,JSON.stringify(r,CB)]);const P=w.useMemo(()=>{const{className:E}=uB();return l2(x,{className:E})},[x]);return w.useEffect(()=>{if(!C)return;const E=()=>{const T=C.localParticipant;zn.debug("trying to publish local tracks"),Promise.all([T.setMicrophoneEnabled(!!c,typeof c!="boolean"?c:void 0),T.setCameraEnabled(!!u,typeof u!="boolean"?u:void 0),T.setScreenShareEnabled(!!d,typeof d!="boolean"?d:void 0)]).catch(N=>{zn.warn(N),g==null||g(N)})},I=(T,N)=>{const $=lc.getFailure(T);v==null||v($,N)},D=T=>{S==null||S(T)},B=T=>{h==null||h(T)},U=()=>{p==null||p()};return C.on(oe.SignalConnected,E).on(oe.MediaDevicesError,I).on(oe.EncryptionError,D).on(oe.Disconnected,B).on(oe.Connected,U),()=>{C.off(oe.SignalConnected,E).off(oe.MediaDevicesError,I).off(oe.EncryptionError,D).off(oe.Disconnected,B).off(oe.Connected,U)}},[C,c,u,d,g,S,v,p,h]),w.useEffect(()=>{if(C){if(b){C.simulateParticipants({participants:{count:b},publish:{audio:!0,useRealTracks:!0}});return}if(a){if(R.current=!0,zn.debug("connecting"),!t){zn.debug("no token yet");return}if(!n){zn.warn("no livekit url provided"),g==null||g(Error("no livekit url provided"));return}C.connect(n,t,o).catch(E=>{zn.warn(E),R.current===!0&&(g==null||g(E))})}else zn.debug("disconnecting because connect is false"),R.current=!1,C.disconnect()}},[a,t,JSON.stringify(o),C,g,n,b]),w.useEffect(()=>{if(C)return()=>{zn.info("disconnecting on onmount"),C.disconnect()}},[C]),{room:C,htmlProps:P}}const TB=w.forwardRef(function(e,t){const{room:n,htmlProps:r}=wB(e);return w.createElement("div",{ref:t,...r},n&&w.createElement(s2.Provider,{value:n},w.createElement(vB.Provider,{value:e.featureFlags},e.children)))});function EB(e=[se.Source.Camera,se.Source.Microphone,se.Source.ScreenShare,se.Source.ScreenShareAudio,se.Source.Unknown],t={}){const n=gB(t.room),[r,i]=w.useState([]),[o,a]=w.useState([]),c=w.useMemo(()=>e.map(u=>i2(u)?u.source:u),[JSON.stringify(e)]);return w.useEffect(()=>{const u=dB(n,c,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe(({trackReferences:d,participants:p})=>{zn.debug("setting track bundles",d,p),i(d),a(p)});return()=>u.unsubscribe()},[n,JSON.stringify(t.onlySubscribed),JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]),w.useMemo(()=>{if(o2(e)){const u=RB(e,o),d=Array.from(r);return o.forEach(p=>{u.has(p.identity)&&(u.get(p.identity)??[]).forEach(h=>{if(r.find(({participant:v,publication:S})=>p.identity===v.identity&&S.source===h))return;zn.debug(`Add ${h} placeholder for participant ${p.identity}.`);const g={participant:p,source:h};d.push(g)})}),d}else return r},[r,o,e])}function PB(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}function RB(e,t){const n=new Map;if(o2(e)){const r=e.filter(i=>i.withPlaceholder).map(i=>i.source);t.forEach(i=>{const o=i.getTrackPublications().map(c=>{var u;return(u=c.track)==null?void 0:u.source}).filter(c=>c!==void 0),a=Array.from(PB(new Set(r),new Set(o)));a.length>0&&n.set(i.identity,a)})}return n}function IB(e,t={}){const[n,r]=w.useState(qg(e)),[i,o]=w.useState(n==null?void 0:n.isMuted),[a,c]=w.useState(n==null?void 0:n.isSubscribed),[u,d]=w.useState(n==null?void 0:n.track),[p,h]=w.useState("landscape"),g=w.useRef(),{className:v,trackObserver:S}=w.useMemo(()=>sB(e),[e.participant.sid??e.participant.identity,e.source,Cy(e)&&e.publication.trackSid]);return w.useEffect(()=>{const b=S.subscribe(x=>{zn.debug("update track",x),r(x),o(x==null?void 0:x.isMuted),c(x==null?void 0:x.isSubscribed),d(x==null?void 0:x.track)});return()=>b==null?void 0:b.unsubscribe()},[S]),w.useEffect(()=>{var b,x;return u&&(g.current&&u.detach(g.current),(b=t.element)!=null&&b.current&&!(e.participant.isLocal&&(u==null?void 0:u.kind)==="audio")&&u.attach(t.element.current)),g.current=(x=t.element)==null?void 0:x.current,()=>{g.current&&(u==null||u.detach(g.current))}},[u,t.element]),w.useEffect(()=>{var b,x;if(typeof((b=n==null?void 0:n.dimensions)==null?void 0:b.width)=="number"&&typeof((x=n==null?void 0:n.dimensions)==null?void 0:x.height)=="number"){const C=n.dimensions.width>n.dimensions.height?"landscape":"portrait";h(C)}},[n]),{publication:n,isMuted:i,isSubscribed:a,track:u,elementProps:kB(t.props,{className:v,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":n==null?void 0:n.source,...(n==null?void 0:n.kind)==="video"&&{"data-lk-orientation":p}})}}var Im,TC;function _B(){if(TC)return Im;TC=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt,u=typeof nd=="object"&&nd&&nd.Object===Object&&nd,d=typeof self=="object"&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),h=Object.prototype,g=h.toString,v=Math.max,S=Math.min,b=function(){return p.Date.now()};function x(E,I,D){var B,U,T,N,$,W,K=0,q=!1,ne=!1,le=!0;if(typeof E!="function")throw new TypeError(e);I=P(I)||0,C(D)&&(q=!!D.leading,ne="maxWait"in D,T=ne?v(P(D.maxWait)||0,I):T,le="trailing"in D?!!D.trailing:le);function ee(we){var Ee=B,Re=U;return B=U=void 0,K=we,N=E.apply(Re,Ee),N}function Y(we){return K=we,$=setTimeout(J,I),q?ee(we):N}function A(we){var Ee=we-W,Re=we-K,Te=I-Ee;return ne?S(Te,T-Re):Te}function F(we){var Ee=we-W,Re=we-K;return W===void 0||Ee>=I||Ee<0||ne&&Re>=T}function J(){var we=b();if(F(we))return L(we);$=setTimeout(J,A(we))}function L(we){return $=void 0,le&&B?ee(we):(B=U=void 0,N)}function ve(){$!==void 0&&clearTimeout($),K=0,B=W=U=$=void 0}function ke(){return $===void 0?N:L(b())}function me(){var we=b(),Ee=F(we);if(B=arguments,U=this,W=we,Ee){if($===void 0)return Y(W);if(ne)return $=setTimeout(J,I),ee(W)}return $===void 0&&($=setTimeout(J,I)),N}return me.cancel=ve,me.flush=ke,me}function C(E){var I=typeof E;return!!E&&(I=="object"||I=="function")}function O(E){return!!E&&typeof E=="object"}function R(E){return typeof E=="symbol"||O(E)&&g.call(E)==n}function P(E){if(typeof E=="number")return E;if(R(E))return t;if(C(E)){var I=typeof E.valueOf=="function"?E.valueOf():E;E=C(I)?I+"":I}if(typeof E!="string")return E===0?E:+E;E=E.replace(r,"");var D=o.test(E);return D||a.test(E)?c(E.slice(2),D?2:8):i.test(E)?t:+E}return Im=x,Im}_B();const OB=w.forwardRef(function({trackRef:e,onSubscriptionStatusChanged:t,volume:n,...r},i){const o=hB(e),a=w.useRef(null);w.useImperativeHandle(i,()=>a.current);const{elementProps:c,isSubscribed:u,track:d,publication:p}=IB(o,{element:a,props:r});return w.useEffect(()=>{t==null||t(!!u)},[u,t]),w.useEffect(()=>{d===void 0||n===void 0||(d instanceof AE?d.setVolume(n):zn.warn("Volume can only be set on remote audio tracks."))},[n,d]),w.useEffect(()=>{p===void 0||r.muted===void 0||(p instanceof LE?p.setEnabled(!r.muted):zn.warn("Can only call setEnabled on remote track publications."))},[r.muted,p,d]),w.createElement("audio",{ref:a,...c})});function MB({volume:e,muted:t}){const n=EB([se.Source.Microphone,se.Source.ScreenShareAudio,se.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!0}).filter(r=>!r.participant.isLocal&&r.publication.kind===se.Kind.Audio);return w.createElement("div",{style:{display:"none"}},n.map(r=>w.createElement(OB,{key:tB(r),trackRef:r,volume:e,muted:t})))}const AB="https://backend.saple.ai",NB=({tenantId:e,botId:t,sessionId:n,color:r})=>{const[i,o]=w.useState(null),[a,c]=w.useState(void 0),u=async()=>{try{const p=await fetch(`${AB}/api/voice/token/?sessionid=${n}&botid=${t}&tenantid=${e}`),{accessToken:h,url:g}=await p.json();o(h),c(g)}catch(p){console.error("Connection error:",p)}},d=()=>{o(null),c(void 0)};return M.jsx("main",{className:"voice-main",children:M.jsx("div",{className:"voice-container",children:i===null?M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"status idle",children:[M.jsx(PN,{fontSize:"small"}),"Click the microphone to start"]}),M.jsx("div",{style:{marginTop:"10px"},children:M.jsx(Ti,{onClick:u,className:"mic-button",style:{backgroundColor:r},children:M.jsx(Xm,{style:{fontSize:"2rem",color:"white"}})})}),M.jsx("p",{className:"bottom-text",children:"Click the microphone to start a voice conversation"})]}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"status listening",children:[M.jsx(IN,{fontSize:"small"}),"I'm listening...",M.jsxs("div",{className:"equalizer",children:[M.jsx("span",{style:{backgroundColor:r}}),M.jsx("span",{style:{backgroundColor:r}}),M.jsx("span",{style:{backgroundColor:r}}),M.jsx("span",{style:{backgroundColor:r}})]})]}),M.jsxs("div",{className:"mic-stop-row",children:[M.jsx("div",{className:"pulse-mic",style:{border:`2px solid ${r}`},children:M.jsx(Xm,{style:{fontSize:"2rem",color:r}})}),M.jsx(Ti,{onClick:d,className:"stop-button",children:M.jsx(RN,{style:{fontSize:"2rem",color:"white"}})})]}),M.jsx("p",{className:"bottom-text",children:"You can now speak naturally. Click stop when finished."}),M.jsx(TB,{audio:!0,token:i,serverUrl:a,connectOptions:{autoSubscribe:!0},children:M.jsx(MB,{})})]})})})},Mn=[];for(let e=0;e<256;++e)Mn.push((e+256).toString(16).slice(1));function LB(e,t=0){return(Mn[e[t+0]]+Mn[e[t+1]]+Mn[e[t+2]]+Mn[e[t+3]]+"-"+Mn[e[t+4]]+Mn[e[t+5]]+"-"+Mn[e[t+6]]+Mn[e[t+7]]+"-"+Mn[e[t+8]]+Mn[e[t+9]]+"-"+Mn[e[t+10]]+Mn[e[t+11]]+Mn[e[t+12]]+Mn[e[t+13]]+Mn[e[t+14]]+Mn[e[t+15]]).toLowerCase()}let _m;const DB=new Uint8Array(16);function FB(){if(!_m){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_m=crypto.getRandomValues.bind(crypto)}return _m(DB)}const jB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),EC={randomUUID:jB};function UB(e,t,n){var i;if(EC.randomUUID&&!e)return EC.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??FB();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,LB(r)}function c2(e,t){return function(){return e.apply(t,arguments)}}const{toString:BB}=Object.prototype,{getPrototypeOf:xy}=Object,{iterator:jf,toStringTag:u2}=Symbol,Uf=(e=>t=>{const n=BB.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),oi=e=>(e=e.toLowerCase(),t=>Uf(t)===e),Bf=e=>t=>typeof t===e,{isArray:Na}=Array,uc=Bf("undefined");function Rc(e){return e!==null&&!uc(e)&&e.constructor!==null&&!uc(e.constructor)&&lr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const d2=oi("ArrayBuffer");function zB(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&d2(e.buffer),t}const $B=Bf("string"),lr=Bf("function"),f2=Bf("number"),Ic=e=>e!==null&&typeof e=="object",VB=e=>e===!0||e===!1,Ed=e=>{if(Uf(e)!=="object")return!1;const t=xy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(u2 in e)&&!(jf in e)},HB=e=>{if(!Ic(e)||Rc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},WB=oi("Date"),qB=oi("File"),KB=oi("Blob"),GB=oi("FileList"),YB=e=>Ic(e)&&lr(e.pipe),QB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||lr(e.append)&&((t=Uf(e))==="formdata"||t==="object"&&lr(e.toString)&&e.toString()==="[object FormData]"))},JB=oi("URLSearchParams"),[XB,ZB,ez,tz]=["ReadableStream","Request","Response","Headers"].map(oi),nz=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _c(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Na(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Rc(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let c;for(r=0;r<a;r++)c=o[r],t.call(null,e[c],c,e)}}function p2(e,t){if(Rc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const ls=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,h2=e=>!uc(e)&&e!==ls;function Kg(){const{caseless:e}=h2(this)&&this||{},t={},n=(r,i)=>{const o=e&&p2(t,i)||i;Ed(t[o])&&Ed(r)?t[o]=Kg(t[o],r):Ed(r)?t[o]=Kg({},r):Na(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_c(arguments[r],n);return t}const rz=(e,t,n,{allOwnKeys:r}={})=>(_c(t,(i,o)=>{n&&lr(i)?e[o]=c2(i,n):e[o]=i},{allOwnKeys:r}),e),iz=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),oz=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sz=(e,t,n,r)=>{let i,o,a;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!r||r(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=n!==!1&&xy(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},az=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},lz=e=>{if(!e)return null;if(Na(e))return e;let t=e.length;if(!f2(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},cz=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xy(Uint8Array)),uz=(e,t)=>{const r=(e&&e[jf]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},dz=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},fz=oi("HTMLFormElement"),pz=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),PC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),hz=oi("RegExp"),m2=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_c(n,(i,o)=>{let a;(a=t(i,o,e))!==!1&&(r[o]=a||i)}),Object.defineProperties(e,r)},mz=e=>{m2(e,(t,n)=>{if(lr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(lr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gz=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Na(e)?r(e):r(String(e).split(t)),n},vz=()=>{},yz=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function bz(e){return!!(e&&lr(e.append)&&e[u2]==="FormData"&&e[jf])}const Sz=e=>{const t=new Array(10),n=(r,i)=>{if(Ic(r)){if(t.indexOf(r)>=0)return;if(Rc(r))return r;if(!("toJSON"in r)){t[i]=r;const o=Na(r)?[]:{};return _c(r,(a,c)=>{const u=n(a,i+1);!uc(u)&&(o[c]=u)}),t[i]=void 0,o}}return r};return n(e,0)},kz=oi("AsyncFunction"),Cz=e=>e&&(Ic(e)||lr(e))&&lr(e.then)&&lr(e.catch),g2=((e,t)=>e?setImmediate:t?((n,r)=>(ls.addEventListener("message",({source:i,data:o})=>{i===ls&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ls.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",lr(ls.postMessage)),xz=typeof queueMicrotask<"u"?queueMicrotask.bind(ls):typeof process<"u"&&process.nextTick||g2,wz=e=>e!=null&&lr(e[jf]),te={isArray:Na,isArrayBuffer:d2,isBuffer:Rc,isFormData:QB,isArrayBufferView:zB,isString:$B,isNumber:f2,isBoolean:VB,isObject:Ic,isPlainObject:Ed,isEmptyObject:HB,isReadableStream:XB,isRequest:ZB,isResponse:ez,isHeaders:tz,isUndefined:uc,isDate:WB,isFile:qB,isBlob:KB,isRegExp:hz,isFunction:lr,isStream:YB,isURLSearchParams:JB,isTypedArray:cz,isFileList:GB,forEach:_c,merge:Kg,extend:rz,trim:nz,stripBOM:iz,inherits:oz,toFlatObject:sz,kindOf:Uf,kindOfTest:oi,endsWith:az,toArray:lz,forEachEntry:uz,matchAll:dz,isHTMLForm:fz,hasOwnProperty:PC,hasOwnProp:PC,reduceDescriptors:m2,freezeMethods:mz,toObjectSet:gz,toCamelCase:pz,noop:vz,toFiniteNumber:yz,findKey:p2,global:ls,isContextDefined:h2,isSpecCompliantForm:bz,toJSONObject:Sz,isAsyncFn:kz,isThenable:Cz,setImmediate:g2,asap:xz,isIterable:wz};function Xe(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const v2=Xe.prototype,y2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{y2[e]={value:e}});Object.defineProperties(Xe,y2);Object.defineProperty(v2,"isAxiosError",{value:!0});Xe.from=(e,t,n,r,i,o)=>{const a=Object.create(v2);return te.toFlatObject(e,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),Xe.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const Tz=null;function Gg(e){return te.isPlainObject(e)||te.isArray(e)}function b2(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function RC(e,t,n){return e?e.concat(t).map(function(i,o){return i=b2(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function Ez(e){return te.isArray(e)&&!e.some(Gg)}const Pz=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function zf(e,t,n){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!te.isUndefined(x[b])});const r=n.metaTokens,i=n.visitor||p,o=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(te.isDate(S))return S.toISOString();if(te.isBoolean(S))return S.toString();if(!u&&te.isBlob(S))throw new Xe("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(S)||te.isTypedArray(S)?u&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,b,x){let C=S;if(S&&!x&&typeof S=="object"){if(te.endsWith(b,"{}"))b=r?b:b.slice(0,-2),S=JSON.stringify(S);else if(te.isArray(S)&&Ez(S)||(te.isFileList(S)||te.endsWith(b,"[]"))&&(C=te.toArray(S)))return b=b2(b),C.forEach(function(R,P){!(te.isUndefined(R)||R===null)&&t.append(a===!0?RC([b],P,o):a===null?b:b+"[]",d(R))}),!1}return Gg(S)?!0:(t.append(RC(x,b,o),d(S)),!1)}const h=[],g=Object.assign(Pz,{defaultVisitor:p,convertValue:d,isVisitable:Gg});function v(S,b){if(!te.isUndefined(S)){if(h.indexOf(S)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(S),te.forEach(S,function(C,O){(!(te.isUndefined(C)||C===null)&&i.call(t,C,te.isString(O)?O.trim():O,b,g))===!0&&v(C,b?b.concat(O):[O])}),h.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return v(e),t}function IC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function wy(e,t){this._pairs=[],e&&zf(e,this,t)}const S2=wy.prototype;S2.append=function(t,n){this._pairs.push([t,n])};S2.toString=function(t){const n=t?function(r){return t.call(this,r,IC)}:IC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Rz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function k2(e,t,n){if(!t)return e;const r=n&&n.encode||Rz;te.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=te.isURLSearchParams(t)?t.toString():new wy(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class _C{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(r){r!==null&&t(r)})}}const C2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Iz=typeof URLSearchParams<"u"?URLSearchParams:wy,_z=typeof FormData<"u"?FormData:null,Oz=typeof Blob<"u"?Blob:null,Mz={isBrowser:!0,classes:{URLSearchParams:Iz,FormData:_z,Blob:Oz},protocols:["http","https","file","blob","url","data"]},Ty=typeof window<"u"&&typeof document<"u",Yg=typeof navigator=="object"&&navigator||void 0,Az=Ty&&(!Yg||["ReactNative","NativeScript","NS"].indexOf(Yg.product)<0),Nz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lz=Ty&&window.location.href||"http://localhost",Dz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ty,hasStandardBrowserEnv:Az,hasStandardBrowserWebWorkerEnv:Nz,navigator:Yg,origin:Lz},Symbol.toStringTag,{value:"Module"})),$n={...Dz,...Mz};function Fz(e,t){return zf(e,new $n.classes.URLSearchParams,{visitor:function(n,r,i,o){return $n.isNode&&te.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function jz(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Uz(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function x2(e){function t(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),u=o>=n.length;return a=!a&&te.isArray(i)?i.length:a,u?(te.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!c):((!i[a]||!te.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],o)&&te.isArray(i[a])&&(i[a]=Uz(i[a])),!c)}if(te.isFormData(e)&&te.isFunction(e.entries)){const n={};return te.forEachEntry(e,(r,i)=>{t(jz(r),i,n,0)}),n}return null}function Bz(e,t,n){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Oc={transitional:C2,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=te.isObject(t);if(o&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return i?JSON.stringify(x2(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Fz(t,this.formSerializer).toString();if((c=te.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return zf(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Bz(t)):t}],transformResponse:[function(t){const n=this.transitional||Oc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?Xe.from(c,Xe.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{Oc.headers[e]={}});const zz=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$z=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&zz[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},OC=Symbol("internals");function Fl(e){return e&&String(e).trim().toLowerCase()}function Pd(e){return e===!1||e==null?e:te.isArray(e)?e.map(Pd):String(e)}function Vz(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Hz=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Om(e,t,n,r,i){if(te.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!te.isString(t)){if(te.isString(r))return t.indexOf(r)!==-1;if(te.isRegExp(r))return r.test(t)}}function Wz(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function qz(e,t){const n=te.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,a){return this[r].call(this,t,i,o,a)},configurable:!0})})}let cr=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(c,u,d){const p=Fl(u);if(!p)throw new Error("header name must be a non-empty string");const h=te.findKey(i,p);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||u]=Pd(c))}const a=(c,u)=>te.forEach(c,(d,p)=>o(d,p,u));if(te.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(te.isString(t)&&(t=t.trim())&&!Hz(t))a($z(t),n);else if(te.isObject(t)&&te.isIterable(t)){let c={},u,d;for(const p of t){if(!te.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[d=p[0]]=(u=c[d])?te.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}a(c,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Fl(t),t){const r=te.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Vz(i);if(te.isFunction(n))return n.call(this,i,r);if(te.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Fl(t),t){const r=te.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Om(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(a){if(a=Fl(a),a){const c=te.findKey(r,a);c&&(!n||Om(r,r[c],c,n))&&(delete r[c],i=!0)}}return te.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||Om(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return te.forEach(this,(i,o)=>{const a=te.findKey(r,o);if(a){n[a]=Pd(i),delete n[o];return}const c=t?Wz(o):String(o).trim();c!==o&&delete n[o],n[c]=Pd(i),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return te.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&te.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[OC]=this[OC]={accessors:{}}).accessors,i=this.prototype;function o(a){const c=Fl(a);r[c]||(qz(i,a),r[c]=!0)}return te.isArray(t)?t.forEach(o):o(t),this}};cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(cr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});te.freezeMethods(cr);function Mm(e,t){const n=this||Oc,r=t||n,i=cr.from(r.headers);let o=r.data;return te.forEach(e,function(c){o=c.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function w2(e){return!!(e&&e.__CANCEL__)}function La(e,t,n){Xe.call(this,e??"canceled",Xe.ERR_CANCELED,t,n),this.name="CanceledError"}te.inherits(La,Xe,{__CANCEL__:!0});function T2(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Xe("Request failed with status code "+n.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Kz(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Gz(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,a;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),p=r[o];a||(a=d),n[i]=u,r[i]=d;let h=o,g=0;for(;h!==i;)g+=n[h++],h=h%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),d-a<t)return;const v=p&&d-p;return v?Math.round(g*1e3/v):void 0}}function Yz(e,t){let n=0,r=1e3/t,i,o;const a=(d,p=Date.now())=>{n=p,i=null,o&&(clearTimeout(o),o=null),e(...d)};return[(...d)=>{const p=Date.now(),h=p-n;h>=r?a(d,p):(i=d,o||(o=setTimeout(()=>{o=null,a(i)},r-h)))},()=>i&&a(i)]}const Zd=(e,t,n=3)=>{let r=0;const i=Gz(50,250);return Yz(o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,u=a-r,d=i(u),p=a<=c;r=a;const h={loaded:a,total:c,progress:c?a/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&p?(c-a)/d:void 0,event:o,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(h)},n)},MC=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},AC=e=>(...t)=>te.asap(()=>e(...t)),Qz=$n.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$n.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,Jz=$n.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];te.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),te.isString(r)&&a.push("path="+r),te.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xz(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Zz(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function E2(e,t,n){let r=!Xz(t);return e&&(r||n==!1)?Zz(e,t):t}const NC=e=>e instanceof cr?{...e}:e;function gs(e,t){t=t||{};const n={};function r(d,p,h,g){return te.isPlainObject(d)&&te.isPlainObject(p)?te.merge.call({caseless:g},d,p):te.isPlainObject(p)?te.merge({},p):te.isArray(p)?p.slice():p}function i(d,p,h,g){if(te.isUndefined(p)){if(!te.isUndefined(d))return r(void 0,d,h,g)}else return r(d,p,h,g)}function o(d,p){if(!te.isUndefined(p))return r(void 0,p)}function a(d,p){if(te.isUndefined(p)){if(!te.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function c(d,p,h){if(h in t)return r(d,p);if(h in e)return r(void 0,d)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(d,p,h)=>i(NC(d),NC(p),h,!0)};return te.forEach(Object.keys({...e,...t}),function(p){const h=u[p]||i,g=h(e[p],t[p],p);te.isUndefined(g)&&h!==c||(n[p]=g)}),n}const P2=e=>{const t=gs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:c}=t;t.headers=a=cr.from(a),t.url=k2(E2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(te.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[d,...p]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...p].join("; "))}}if($n.hasStandardBrowserEnv&&(r&&te.isFunction(r)&&(r=r(t)),r||r!==!1&&Qz(t.url))){const d=i&&o&&Jz.read(o);d&&a.set(i,d)}return t},e$=typeof XMLHttpRequest<"u",t$=e$&&function(e){return new Promise(function(n,r){const i=P2(e);let o=i.data;const a=cr.from(i.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=i,p,h,g,v,S;function b(){v&&v(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function C(){if(!x)return;const R=cr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:R,config:e,request:x};T2(function(D){n(D),b()},function(D){r(D),b()},E),x=null}"onloadend"in x?x.onloadend=C:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(C)},x.onabort=function(){x&&(r(new Xe("Request aborted",Xe.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new Xe("Network Error",Xe.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||C2;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new Xe(P,E.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,e,x)),x=null},o===void 0&&a.setContentType(null),"setRequestHeader"in x&&te.forEach(a.toJSON(),function(P,E){x.setRequestHeader(E,P)}),te.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),c&&c!=="json"&&(x.responseType=i.responseType),d&&([g,S]=Zd(d,!0),x.addEventListener("progress",g)),u&&x.upload&&([h,v]=Zd(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=R=>{x&&(r(!R||R.type?new La(null,e,x):R),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const O=Kz(i.url);if(O&&$n.protocols.indexOf(O)===-1){r(new Xe("Unsupported protocol "+O+":",Xe.ERR_BAD_REQUEST,e));return}x.send(o||null)})},n$=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(d){if(!i){i=!0,c();const p=d instanceof Error?d:this.reason;r.abort(p instanceof Xe?p:new La(p instanceof Error?p.message:p))}};let a=t&&setTimeout(()=>{a=null,o(new Xe(`timeout ${t} of ms exceeded`,Xe.ETIMEDOUT))},t);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>te.asap(c),u}},r$=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},i$=async function*(e,t){for await(const n of o$(e))yield*r$(n,t)},o$=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},LC=(e,t,n,r)=>{const i=i$(e,t);let o=0,a,c=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:p}=await i.next();if(d){c(),u.close();return}let h=p.byteLength;if(n){let g=o+=h;n(g)}u.enqueue(new Uint8Array(p))}catch(d){throw c(d),d}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},$f=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",R2=$f&&typeof ReadableStream=="function",s$=$f&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),I2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},a$=R2&&I2(()=>{let e=!1;const t=new Request($n.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),DC=64*1024,Qg=R2&&I2(()=>te.isReadableStream(new Response("").body)),ef={stream:Qg&&(e=>e.body)};$f&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ef[t]&&(ef[t]=te.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Xe(`Response type '${t}' is not supported`,Xe.ERR_NOT_SUPPORT,r)})})})(new Response);const l$=async e=>{if(e==null)return 0;if(te.isBlob(e))return e.size;if(te.isSpecCompliantForm(e))return(await new Request($n.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(te.isArrayBufferView(e)||te.isArrayBuffer(e))return e.byteLength;if(te.isURLSearchParams(e)&&(e=e+""),te.isString(e))return(await s$(e)).byteLength},c$=async(e,t)=>{const n=te.toFiniteNumber(e.getContentLength());return n??l$(t)},u$=$f&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:c,onUploadProgress:u,responseType:d,headers:p,withCredentials:h="same-origin",fetchOptions:g}=P2(e);d=d?(d+"").toLowerCase():"text";let v=n$([i,o&&o.toAbortSignal()],a),S;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let x;try{if(u&&a$&&n!=="get"&&n!=="head"&&(x=await c$(p,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),I;if(te.isFormData(r)&&(I=E.headers.get("content-type"))&&p.setContentType(I),E.body){const[D,B]=MC(x,Zd(AC(u)));r=LC(E.body,DC,D,B)}}te.isString(h)||(h=h?"include":"omit");const C="credentials"in Request.prototype;S=new Request(t,{...g,signal:v,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:C?h:void 0});let O=await fetch(S,g);const R=Qg&&(d==="stream"||d==="response");if(Qg&&(c||R&&b)){const E={};["status","statusText","headers"].forEach(U=>{E[U]=O[U]});const I=te.toFiniteNumber(O.headers.get("content-length")),[D,B]=c&&MC(I,Zd(AC(c),!0))||[];O=new Response(LC(O.body,DC,D,()=>{B&&B(),b&&b()}),E)}d=d||"text";let P=await ef[te.findKey(ef,d)||"text"](O,e);return!R&&b&&b(),await new Promise((E,I)=>{T2(E,I,{data:P,headers:cr.from(O.headers),status:O.status,statusText:O.statusText,config:e,request:S})})}catch(C){throw b&&b(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,e,S),{cause:C.cause||C}):Xe.from(C,C&&C.code,e,S)}}),Jg={http:Tz,xhr:t$,fetch:u$};te.forEach(Jg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const FC=e=>`- ${e}`,d$=e=>te.isFunction(e)||e===null||e===!1,_2={getAdapter:e=>{e=te.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let a;if(r=n,!d$(n)&&(r=Jg[(a=String(n)).toLowerCase()],r===void 0))throw new Xe(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(FC).join(`
`):" "+FC(o[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Jg};function Am(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new La(null,e)}function jC(e){return Am(e),e.headers=cr.from(e.headers),e.data=Mm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_2.getAdapter(e.adapter||Oc.adapter)(e).then(function(r){return Am(e),r.data=Mm.call(e,e.transformResponse,r),r.headers=cr.from(r.headers),r},function(r){return w2(r)||(Am(e),r&&r.response&&(r.response.data=Mm.call(e,e.transformResponse,r.response),r.response.headers=cr.from(r.response.headers))),Promise.reject(r)})}const O2="1.11.0",Vf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const UC={};Vf.transitional=function(t,n,r){function i(o,a){return"[Axios v"+O2+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(t===!1)throw new Xe(i(a," has been removed"+(n?" in "+n:"")),Xe.ERR_DEPRECATED);return n&&!UC[a]&&(UC[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,c):!0}};Vf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function f$(e,t,n){if(typeof e!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const c=e[o],u=c===void 0||a(c,o,e);if(u!==!0)throw new Xe("option "+o+" must be "+u,Xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xe("Unknown option "+o,Xe.ERR_BAD_OPTION)}}const Rd={assertOptions:f$,validators:Vf},hi=Rd.validators;let ds=class{constructor(t){this.defaults=t||{},this.interceptors={request:new _C,response:new _C}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=gs(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Rd.assertOptions(r,{silentJSONParsing:hi.transitional(hi.boolean),forcedJSONParsing:hi.transitional(hi.boolean),clarifyTimeoutError:hi.transitional(hi.boolean)},!1),i!=null&&(te.isFunction(i)?n.paramsSerializer={serialize:i}:Rd.assertOptions(i,{encode:hi.function,serialize:hi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rd.assertOptions(n,{baseUrl:hi.spelling("baseURL"),withXsrfToken:hi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&te.merge(o.common,o[n.method]);o&&te.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=cr.concat(a,o);const c=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let p,h=0,g;if(!u){const S=[jC.bind(this),void 0];for(S.unshift(...c),S.push(...d),g=S.length,p=Promise.resolve(n);h<g;)p=p.then(S[h++],S[h++]);return p}g=c.length;let v=n;for(h=0;h<g;){const S=c[h++],b=c[h++];try{v=S(v)}catch(x){b.call(this,x);break}}try{p=jC.call(this,v)}catch(S){return Promise.reject(S)}for(h=0,g=d.length;h<g;)p=p.then(d[h++],d[h++]);return p}getUri(t){t=gs(this.defaults,t);const n=E2(t.baseURL,t.url,t.allowAbsoluteUrls);return k2(n,t.params,t.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(t){ds.prototype[t]=function(n,r){return this.request(gs(r||{},{method:t,url:n,data:(r||{}).data}))}});te.forEach(["post","put","patch"],function(t){function n(r){return function(o,a,c){return this.request(gs(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}ds.prototype[t]=n(),ds.prototype[t+"Form"]=n(!0)});let p$=class M2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},t(function(o,a,c){r.reason||(r.reason=new La(o,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new M2(function(i){t=i}),cancel:t}}};function h$(e){return function(n){return e.apply(null,n)}}function m$(e){return te.isObject(e)&&e.isAxiosError===!0}const Xg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xg).forEach(([e,t])=>{Xg[t]=e});function A2(e){const t=new ds(e),n=c2(ds.prototype.request,t);return te.extend(n,ds.prototype,t,{allOwnKeys:!0}),te.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return A2(gs(e,i))},n}const Lt=A2(Oc);Lt.Axios=ds;Lt.CanceledError=La;Lt.CancelToken=p$;Lt.isCancel=w2;Lt.VERSION=O2;Lt.toFormData=zf;Lt.AxiosError=Xe;Lt.Cancel=Lt.CanceledError;Lt.all=function(t){return Promise.all(t)};Lt.spread=h$;Lt.isAxiosError=m$;Lt.mergeConfig=gs;Lt.AxiosHeaders=cr;Lt.formToJSON=e=>x2(te.isHTMLForm(e)?new FormData(e):e);Lt.getAdapter=_2.getAdapter;Lt.HttpStatusCode=Xg;Lt.default=Lt;const{Axios:I$,AxiosError:_$,CanceledError:O$,isCancel:M$,CancelToken:A$,VERSION:N$,all:L$,Cancel:D$,isAxiosError:F$,spread:j$,toFormData:U$,AxiosHeaders:B$,HttpStatusCode:z$,formToJSON:$$,getAdapter:V$,mergeConfig:H$}=Lt,g$=()=>({"&.bot":{position:"fixed",right:"34px",bottom:"34px",boxShadow:"0px 10px 15px #00000033",borderRadius:"34px"},"&.chatBotPopover":{"& .MuiPaper-root":{display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0px 3px 6px #00000029",border:"1px solid #E1E1E1"}},".chatBoxWrapper":{display:"flex",flexDirection:"row",width:"100%",height:"100%"},".displayHide":{display:"none"},".displayShow":{width:"100%"},".tabsWrapper":{height:"50px",overflow:"visible",width:"100%",position:"relative"},".tabs":{display:"flex",alignItems:"center",height:"100%",justifyContent:"space-between",flexDirection:"row",width:"100%",overflow:"visible","& .MuiTabs-flexContainer":{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",overflow:"visible",padding:"0 40px"},"& .Mui-selected":{transform:"translateY(-15px)",borderRadius:"50%",zIndex:999,transition:"transform 0.3s ease-out",border:"2px solid white"},"& .MuiTabs-scroller":{overflow:"visible !important"}},".tab":{minWidth:"unset",marginRight:"80px",overflow:"visible",outline:"none",padding:"10px",zIndex:999,"& .MuiTab-wrapper":{padding:0}},".drawerIcon":{padding:"10px",borderRadius:"50%",background:"white !important",boxShadow:"rgba(149, 157, 165, 0.2) 0px 3px 9px",width:"45px",height:"45px",position:"absolute",top:"50%",border:"1px solid #ECECEC"},".chatBoxToggleWrapper":{position:"relative",width:"100%",height:"90%"},".pulse-container":{display:"flex",alignItems:"center"},".pulse-dot":{width:"5px",height:"5px",borderRadius:"2.5px",backgroundColor:"rgb(35, 141, 233)",margin:"7px 3px",animation:"flash 1.5s infinite"},".pulse-dot:nth-child(2)":{animationDelay:"0.2s"},".pulse-dot:nth-child(3)":{animationDelay:"0.4s"},"@keyframes flash":{"0%":{opacity:0},"50%":{opacity:1},"100%":{opacity:0}},".audioRecordingWrapper":{display:"flex",flexDirection:"column",height:"100%",position:"relative"},".audioControls":{position:"absolute",bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"white",borderTop:"1px solid #E1E1E1"},".recordingStatus":{color:"#666",marginBottom:"10px",fontSize:"14px"},".controlButtons":{display:"flex",alignItems:"center",gap:"20px"},".recordButton":{width:"60px !important",height:"60px !important",color:"white !important",transition:"all 0.3s ease","&.recording":{backgroundColor:"#ff4444 !important",animation:"pulse 1.5s infinite"},"& .MuiSvgIcon-root":{fontSize:"30px"}},".stopButton":{backgroundColor:"#ff4444 !important",color:"white !important",padding:"17px","& .MuiSvgIcon-root":{fontSize:"24px"}},"@keyframes pulse":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}},".messageList":{flex:1,overflowY:"auto",marginBottom:"16px"},".message":{padding:"16px",marginBottom:"16px",borderRadius:"8px",backgroundColor:"#f5f5f5"}}),v$="https://backend.saple.ai",ns="https://backend.saple.ai/api",y$=({className:e=""})=>{var $o;const[t,n]=w.useState(0),[r,i]=w.useState(null),[o,a]=w.useState(null),[c,u]=w.useState({width:500,height:500}),[d,p]=w.useState(!1),[h,g]=w.useState(!0),[v,S]=w.useState(!1),[b,x]=w.useState(!1),[C,O]=w.useState(!1),[R,P]=w.useState(""),[E,I]=w.useState([]),[D,B]=w.useState(""),[U,T]=w.useState(!1),[N,$]=w.useState([]),[W,K]=w.useState({}),[q,ne]=w.useState({}),[le,ee]=w.useState(null),[Y,A]=w.useState(!1),[F,J]=w.useState(null),[L,ve]=w.useState(null),[ke,me]=w.useState({}),[we,Ee]=w.useState(""),[Re,Te]=w.useState(!1),[Ue,He]=w.useState("both"),[it,We]=w.useState(""),[at,Ft]=w.useState(""),[Qe,Ye]=w.useState(""),[ht,ut]=w.useState(""),[tt,Oe]=w.useState(!1),{id:Yt,bot:ct}=dI(),Cn=($o=F==null?void 0:F[0])==null?void 0:$o.tenant;let re=sessionStorage.getItem("session_uuid");w.useEffect(()=>{tt&&Ce("",!0).then(()=>{console.log("SENT")}).catch(et=>{console.log(et)})},[tt]);const pe=(et,nt)=>{K(ye=>({...ye,[et]:nt}))};w.useEffect(()=>{(async()=>{try{const nt=await Lt.get(`${ns}/admin/bots/${Yt}/details/`);J(nt.data);const ye=nt.data;if(ct){const de=ye==null?void 0:ye.find(Ve=>Ve.container==ct);We(de==null?void 0:de.color),Ft(de==null?void 0:de.font),Ye(de==null?void 0:de.font_style),ut(de==null?void 0:de.font_size),He(de==null?void 0:de.media_type),n((de==null?void 0:de.media_type)==="audio"?1:0)}else We("#000000")}catch(nt){console.error("Error fetching bot details:",nt)}})()},[Yt]),w.useEffect(()=>{(async()=>{if(ct){P(ct);try{await Li();const ye=(await Lt.get(`${ns}/admin/containers/${ct}/`)).data;me(ye);const de=ye.name;Ee(de)}catch(nt){console.error("Error fetching container details:",nt)}}})().then(()=>{Oe(!0)})},[ct]),w.useEffect(()=>{b&&(I([]),g(!0),x(!1))},[b]);const Ce=async(et,nt=!1)=>{var Ln;if(!et.trim()&&!nt)return;const ye=sessionStorage.getItem("session_uuid");B("");const de=E==null?void 0:E.map(St=>{const qn=St.text||St.content;return{role:St.sender==="user"?"user":"assistant",content:typeof qn=="string"?qn:ei.isValidElement(qn)?"[component]":""}}),Ve=et!==we?{text:et,sender:"user"}:null,Je=localStorage.getItem("local_uuid"),_t=Array.isArray(F)?((Ln=F.find(St=>St.container===ke.id))==null?void 0:Ln.id)??null:(F==null?void 0:F.id)??null;Ve&&!nt&&(await(async()=>{await Lt.post(`${ns}/uuid-pairs/create-message/`,{local_uuid:Je,session_uuid:ye,content:et,sender:"user",container_id:ke.id,tenant_id:ke.tenant,blob_storage_id:ke.blob_storage,bot_id:_t})})(),I(St=>[...St,Ve])),g(!1),S(!0);const vn={text:M.jsxs("span",{className:"pulse-container",children:[M.jsx("span",{className:"pulse-dot"}),M.jsx("span",{className:"pulse-dot"}),M.jsx("span",{className:"pulse-dot"})]}),sender:"bot"};I(St=>[...St,vn]);try{const St=F.find(Ts=>Ts.container===ke.id),qn=St!=null&&St.name?St.name.toString().charAt(0).toUpperCase()+St.name.toString().slice(1):"Bot",Hf=St?St==null?void 0:St.id:"",Wf=await Lt.post(v$,{user_query:et.toLowerCase(),history_without_input:de,tenant_id:Yt,blob_storage_id:ke.blob_storage.toString(),bot:qn,bot_id:Hf,is_initial_message:nt},{responseType:"text",onDownloadProgress:Ts=>{const Mc=Ts.event.target.responseText;I(Ac=>Ac.map((Da,Nc)=>Nc===Ac.length-1?{...Da,text:Mc}:Da))}});S(!1);const Di=Me({data:{response:{message:Wf.data}}});pe(ye,[...E,Di])}catch(St){console.error("Error fetching reply:",St)}finally{I(St=>St.filter(qn=>qn!==vn))}},Me=et=>{const nt=sessionStorage.getItem("session_uuid");let ye=localStorage.getItem("local_uuid");const de=F.find(Ve=>Ve.container===ke.id);return Lt.post(`${ns}/uuid-pairs/create-message/`,{local_uuid:ye,session_uuid:nt,content:et.data.response.message,sender:"bot",container_id:ke.id,tenant_id:ke.tenant,blob_storage_id:ke.blob_storage,bot_id:(de==null?void 0:de.id)||null}),{text:et.data.response.message,sender:"bot"}},Fe=()=>{Ce(D)},je=()=>{O(!C),T(!U)},mt=et=>{i(et.currentTarget),A(!0)},gt=()=>{i(null),A(!1)},In=()=>{a(null)},Ae=!!o,qe=Ae?"sidebar-popover":void 0,yt=async et=>{const nt=et.target.value;P(nt);try{await Li();const de=(await Lt.get(`${ns}/admin/containers/${nt}/`)).data;me(de);const Ve=de.name;Ee(Ve),ve(Ve),B(Ve)}catch(ye){console.error("Error fetching container details:",ye)}};w.useEffect(()=>{D.trim()!==""&&Ce(D,!0)},[L]);const Ht=()=>{Li()},fr=()=>{u(d?{width:500,height:500}:{width:1e3,height:800}),p(!d)},Li=async()=>{x(!0);let et=localStorage.getItem("local_uuid"),nt=sessionStorage.getItem("session_uuid");const de=(await Lt.get(`${ns}/admin/uuid-pairs/?local_uuid=${et}`)).data;nt&&(nt=de.session_uuid_obj.session_uuid,sessionStorage.setItem("session_uuid",nt))};w.useEffect(()=>{const et=nt=>{var ye,de;r&&!r.contains(nt.target)&&!((ye=document.querySelector(".MuiPopover-root"))!=null&&ye.contains(nt.target))&&gt(),o&&!o.contains(nt.target)&&!((de=document.querySelector(".MuiPopover-root"))!=null&&de.contains(nt.target))&&In()};return document.addEventListener("mousedown",et),()=>{document.removeEventListener("mousedown",et)}},[r,o]);const si=Y?d?"1000px":"600px":"100px",Pr=Y?d?"650px":"500px":"100px";window.parent.postMessage({width:si,height:Pr},"*");const Cs=async()=>{try{let et=localStorage.getItem("local_uuid"),nt=sessionStorage.getItem("session_uuid");et||(et=UB(),localStorage.setItem("local_uuid",et));const de=(await Lt.get(`${ns}/admin/uuid-pairs/?local_uuid=${et}`)).data;nt||(nt=de.session_uuid_obj.session_uuid,sessionStorage.setItem("session_uuid",nt));const Ve=new Date;Ve.setDate(Ve.getDate()-30);const Je=de.uuid_pair.session_uuids.filter(bt=>bt.messages.length>0).filter(bt=>bt.messages.some(vn=>new Date(vn.timestamp)>Ve)).map(bt=>{const vn=bt.messages[bt.messages.length-1],Ln=new Date(vn.timestamp),St=Ln.toLocaleDateString("en-US"),qn=Ln.toLocaleTimeString("en-US");return{session_uuid:bt.session_uuid,formattedDate:St,formattedTime:qn}});$(Je);const _t={};de.uuid_pair.session_uuids.forEach(bt=>{bt.messages.length>0&&(_t[bt.session_uuid]=bt.messages)}),ne(_t),Je.length>0&&Je.forEach(bt=>{pe(bt.session_uuid,_t[bt.session_uuid])})}catch(et){console.error("Error fetching UUID pairs:",et)}};w.useEffect(()=>{Cs()},[]);const xs=et=>{ee(et),I(W[et]||[]),g(!1),sessionStorage.setItem("session_uuid",et),Te(!0)},ws=(et,nt)=>{n(nt)};return M.jsxs("div",{className:`${e} bot`,style:{fontFamily:`${at} !important`||"Arial, sans-serif",fontSize:`${ht} !important`||"16px",fontStyle:Qe!=null&&Qe.includes("italic")?"italic !important":"normal !important",fontWeight:Qe!=null&&Qe.includes("bold")?"bold !important":"normal !important"},children:[M.jsx(Ti,{onClick:mt,sx:{p:0},style:{outline:"none"},children:r?M.jsx(DN,{color:it}):M.jsx(LN,{color:it})}),M.jsx(Lv,{open:!!r,anchorEl:r,onClose:gt,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{style:{width:"100%",height:"calc(100% - 95px)",overflow:"hidden",top:"0px !important",borderRadius:"15px"}},children:M.jsxs(Pt,{className:`${e} full`,style:{height:"100%",width:"100%",display:"flex",position:"relative",flexDirection:"column"},children:[M.jsxs(Pt,{className:"chatBoxToggleWrapper",children:[t===0&&M.jsxs("div",{className:"chatBoxWrapper",children:[d&&M.jsx(Ti,{onClick:je,className:"drawerIcon",style:{outline:"none",right:U?"373px":"-22px"},children:M.jsx(jN,{})}),M.jsx(CF,{popoverSize:c,isMaximized:d,showContent:h,disableInput:v,handleMaximize:fr,onNewMessageClick:Ht,sidebarOpen:U,newMessage:D,handleSendMessageIcon:Fe,setNewMessage:B,messages:E,botdropDown:R,handleBotChange:yt,botDetails:F,historyselect:Re,bot:ct,tenantid:Yt,color:it,font:at,fontStyle:Qe,fontSize:ht}),M.jsx("div",{children:d&&U&&M.jsx(Pt,{sx:{width:U?"39%":"0%",transition:"all 0.3s"},children:M.jsx(KN,{sidebarPopoverId:qe,sidebarPopoverOpen:Ae,sidebarPopoverAnchorEl:o,handleSidebarPopoverClose:In,sessionUUIDsWithMessages:N,handleSessionClick:xs})})})]}),t===1&&M.jsx(NB,{tenantId:Cn,botId:R,sessionId:re,color:it})]}),Ue==="both"&&M.jsx("div",{className:"tabWrapper",style:{position:"absolute",bottom:0,width:U&&d&&t!==1?"calc(100% - 397px)":"100%"},children:M.jsx("div",{className:"tabsWrapper",style:{background:`${it}`},children:M.jsxs(kN,{value:t,onChange:ws,className:"tabs",children:[M.jsx(TS,{className:"tab",style:{background:`${it}`},label:M.jsx(cw,{sx:{color:"white",padding:0,margin:0}})}),M.jsx(TS,{className:"tab",style:{background:`${it}`},label:M.jsx(Xm,{sx:{color:"white",padding:0,margin:0}})})]})})})]})})]})},b$=Ie(y$)(g$),N2={primary:{main:"#000000",blue:"#238DE9",blueBg:"#E3EDF6"},secondary:{main:"#777C96"},grey:{main:"#F7F7F7",light:"#E4E5EA",dark:"#777C96",contrastText:"#181840"},text:{primary:"#000000",secondary:"#777C96"},textPrimary:"#181840"},S$={h1:{fontSize:24,fontWeight:700,textTransform:"unset"},h2:{fontSize:22,fontWeight:700,textTransform:"unset"},h3:{fontSize:20,fontWeight:500,textTransform:"unset"},h4:{fontSize:18,fontWeight:700,textTransform:"unset"},h5:{fontSize:16,fontWeight:500},h6:{fontSize:15,fontWeight:400},subtitle1:{fontSize:12,fontWeight:400},subtitle2:{fontSize:11,fontWeight:400},body1:{fontSize:14,fontWeight:400},body2:{fontSize:13,fontWeight:400},button:{fontSize:16,fontWeight:500},caption:{fontSize:14,fontWeight:400,textTransform:"uppercase",paddingBottom:5},overline:{fontFamily:"Public Sans, sans-serif",fontSize:14,fontWeight:500,textTransform:"uppercase"},fontFamily:void 0,fontSize:0,fontWeightLight:void 0,fontWeightRegular:void 0,fontWeightMedium:void 0,fontWeightBold:void 0,htmlFontSize:0,pxToRem:function(e){return`${e/16}rem`}};var BC;const k$={MuiButton:{styleOverrides:{root:{borderRadius:4,textTransform:"none"}}},MuiLink:{styleOverrides:{root:{cursor:"pointer",fontSize:"14px",textAlign:"center"}}},MuiTextField:{},MuiOutlinedInput:{styleOverrides:{root:{},notchedOutline:{borderColor:"#EAEAF3"}}},MuiTableContainer:{styleOverrides:{root:{boxShadow:"none"}}},MuiTypography:{styleOverrides:{root:{color:(BC=N2.text)==null?void 0:BC.primary}}}},C$=Sf({palette:N2,typography:S$,components:k$});function x$(){return M.jsx(YI,{children:M.jsx(OM,{theme:C$,children:M.jsx("div",{className:"App",children:M.jsx(EI,{children:M.jsx(ZC,{path:"/:id/:bot?",element:M.jsx(b$,{})})})})})})}NR.createRoot(document.getElementById("root")).render(M.jsx(w.StrictMode,{children:M.jsx(x$,{})}));
